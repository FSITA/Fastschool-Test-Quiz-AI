"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@google-cloud";
exports.ids = ["vendor-chunks/@google-cloud"];
exports.modules = {

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/count_tokens.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/functions/count_tokens.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.countTokens = void 0;\nconst errors_1 = __webpack_require__(/*! ../types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\nconst post_fetch_processing_1 = __webpack_require__(/*! ./post_fetch_processing */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_fetch_processing.js\");\nconst post_request_1 = __webpack_require__(/*! ./post_request */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_request.js\");\n/**\n * Make a async request to count tokens.\n * @param request A CountTokensRequest object with the request contents.\n * @returns The CountTokensResponse object with the token count.\n */\nasync function countTokens(location, project, publisherModelEndpoint, token, request, apiEndpoint, requestOptions) {\n    const response = await (0, post_request_1.postRequest)({\n        region: location,\n        project: project,\n        resourcePath: publisherModelEndpoint,\n        resourceMethod: 'countTokens',\n        token: await token,\n        data: request,\n        apiEndpoint: apiEndpoint,\n        requestOptions: requestOptions,\n    }).catch(e => {\n        throw new errors_1.GoogleGenerativeAIError('exception posting request', e);\n    });\n    await (0, post_fetch_processing_1.throwErrorIfNotOK)(response).catch(e => {\n        throw e;\n    });\n    return (0, post_fetch_processing_1.processCountTokenResponse)(response);\n}\nexports.countTokens = countTokens;\n//# sourceMappingURL=count_tokens.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL2NvdW50X3Rva2Vucy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixpQkFBaUIsbUJBQU8sQ0FBQyw4RkFBaUI7QUFDMUMsZ0NBQWdDLG1CQUFPLENBQUMseUhBQXlCO0FBQ2pFLHVCQUF1QixtQkFBTyxDQUFDLHVHQUFnQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVpem5vdGUvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL2NvdW50X3Rva2Vucy5qcz81ZjQzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjMgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY291bnRUb2tlbnMgPSB2b2lkIDA7XG5jb25zdCBlcnJvcnNfMSA9IHJlcXVpcmUoXCIuLi90eXBlcy9lcnJvcnNcIik7XG5jb25zdCBwb3N0X2ZldGNoX3Byb2Nlc3NpbmdfMSA9IHJlcXVpcmUoXCIuL3Bvc3RfZmV0Y2hfcHJvY2Vzc2luZ1wiKTtcbmNvbnN0IHBvc3RfcmVxdWVzdF8xID0gcmVxdWlyZShcIi4vcG9zdF9yZXF1ZXN0XCIpO1xuLyoqXG4gKiBNYWtlIGEgYXN5bmMgcmVxdWVzdCB0byBjb3VudCB0b2tlbnMuXG4gKiBAcGFyYW0gcmVxdWVzdCBBIENvdW50VG9rZW5zUmVxdWVzdCBvYmplY3Qgd2l0aCB0aGUgcmVxdWVzdCBjb250ZW50cy5cbiAqIEByZXR1cm5zIFRoZSBDb3VudFRva2Vuc1Jlc3BvbnNlIG9iamVjdCB3aXRoIHRoZSB0b2tlbiBjb3VudC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY291bnRUb2tlbnMobG9jYXRpb24sIHByb2plY3QsIHB1Ymxpc2hlck1vZGVsRW5kcG9pbnQsIHRva2VuLCByZXF1ZXN0LCBhcGlFbmRwb2ludCwgcmVxdWVzdE9wdGlvbnMpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0ICgwLCBwb3N0X3JlcXVlc3RfMS5wb3N0UmVxdWVzdCkoe1xuICAgICAgICByZWdpb246IGxvY2F0aW9uLFxuICAgICAgICBwcm9qZWN0OiBwcm9qZWN0LFxuICAgICAgICByZXNvdXJjZVBhdGg6IHB1Ymxpc2hlck1vZGVsRW5kcG9pbnQsXG4gICAgICAgIHJlc291cmNlTWV0aG9kOiAnY291bnRUb2tlbnMnLFxuICAgICAgICB0b2tlbjogYXdhaXQgdG9rZW4sXG4gICAgICAgIGRhdGE6IHJlcXVlc3QsXG4gICAgICAgIGFwaUVuZHBvaW50OiBhcGlFbmRwb2ludCxcbiAgICAgICAgcmVxdWVzdE9wdGlvbnM6IHJlcXVlc3RPcHRpb25zLFxuICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoJ2V4Y2VwdGlvbiBwb3N0aW5nIHJlcXVlc3QnLCBlKTtcbiAgICB9KTtcbiAgICBhd2FpdCAoMCwgcG9zdF9mZXRjaF9wcm9jZXNzaW5nXzEudGhyb3dFcnJvcklmTm90T0spKHJlc3BvbnNlKS5jYXRjaChlID0+IHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbiAgICByZXR1cm4gKDAsIHBvc3RfZmV0Y2hfcHJvY2Vzc2luZ18xLnByb2Nlc3NDb3VudFRva2VuUmVzcG9uc2UpKHJlc3BvbnNlKTtcbn1cbmV4cG9ydHMuY291bnRUb2tlbnMgPSBjb3VudFRva2Vucztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvdW50X3Rva2Vucy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/count_tokens.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/generate_content.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/functions/generate_content.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.generateContentStream = exports.generateContent = void 0;\nconst errors_1 = __webpack_require__(/*! ../types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\nconst constants = __webpack_require__(/*! ../util/constants */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/constants.js\");\nconst post_fetch_processing_1 = __webpack_require__(/*! ./post_fetch_processing */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_fetch_processing.js\");\nconst post_request_1 = __webpack_require__(/*! ./post_request */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_request.js\");\nconst pre_fetch_processing_1 = __webpack_require__(/*! ./pre_fetch_processing */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/pre_fetch_processing.js\");\nasync function generateContent(location, project, publisherModelEndpoint, token, request, apiEndpoint, generationConfig, safetySettings, tools, requestOptions) {\n    var _a, _b, _c;\n    request = (0, pre_fetch_processing_1.formatContentRequest)(request, generationConfig, safetySettings);\n    (0, pre_fetch_processing_1.validateGenerateContentRequest)(request);\n    if (request.generationConfig) {\n        request.generationConfig = (0, pre_fetch_processing_1.validateGenerationConfig)(request.generationConfig);\n    }\n    const generateContentRequest = {\n        contents: request.contents,\n        systemInstruction: request.systemInstruction,\n        generationConfig: (_a = request.generationConfig) !== null && _a !== void 0 ? _a : generationConfig,\n        safetySettings: (_b = request.safetySettings) !== null && _b !== void 0 ? _b : safetySettings,\n        tools: (_c = request.tools) !== null && _c !== void 0 ? _c : tools,\n    };\n    const response = await (0, post_request_1.postRequest)({\n        region: location,\n        project: project,\n        resourcePath: publisherModelEndpoint,\n        resourceMethod: constants.GENERATE_CONTENT_METHOD,\n        token: await token,\n        data: generateContentRequest,\n        apiEndpoint: apiEndpoint,\n        requestOptions: requestOptions,\n    }).catch(e => {\n        throw new errors_1.GoogleGenerativeAIError('exception posting request to model', e);\n    });\n    await (0, post_fetch_processing_1.throwErrorIfNotOK)(response).catch(e => {\n        throw e;\n    });\n    return (0, post_fetch_processing_1.processUnary)(response);\n}\nexports.generateContent = generateContent;\n/**\n * Make an async stream request to generate content. The response will be\n * returned in stream.\n * @param {GenerateContentRequest} request - {@link GenerateContentRequest}\n * @returns {Promise<StreamGenerateContentResult>} Promise of {@link\n *     StreamGenerateContentResult}\n */\nasync function generateContentStream(location, project, publisherModelEndpoint, token, request, apiEndpoint, generationConfig, safetySettings, tools, requestOptions) {\n    var _a, _b, _c;\n    request = (0, pre_fetch_processing_1.formatContentRequest)(request, generationConfig, safetySettings);\n    (0, pre_fetch_processing_1.validateGenerateContentRequest)(request);\n    if (request.generationConfig) {\n        request.generationConfig = (0, pre_fetch_processing_1.validateGenerationConfig)(request.generationConfig);\n    }\n    const generateContentRequest = {\n        contents: request.contents,\n        systemInstruction: request.systemInstruction,\n        generationConfig: (_a = request.generationConfig) !== null && _a !== void 0 ? _a : generationConfig,\n        safetySettings: (_b = request.safetySettings) !== null && _b !== void 0 ? _b : safetySettings,\n        tools: (_c = request.tools) !== null && _c !== void 0 ? _c : tools,\n    };\n    const response = await (0, post_request_1.postRequest)({\n        region: location,\n        project: project,\n        resourcePath: publisherModelEndpoint,\n        resourceMethod: constants.STREAMING_GENERATE_CONTENT_METHOD,\n        token: await token,\n        data: generateContentRequest,\n        apiEndpoint: apiEndpoint,\n        requestOptions: requestOptions,\n    }).catch(e => {\n        throw new errors_1.GoogleGenerativeAIError('exception posting request', e);\n    });\n    await (0, post_fetch_processing_1.throwErrorIfNotOK)(response).catch(e => {\n        throw e;\n    });\n    return (0, post_fetch_processing_1.processStream)(response);\n}\nexports.generateContentStream = generateContentStream;\n//# sourceMappingURL=generate_content.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL2dlbmVyYXRlX2NvbnRlbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw2QkFBNkIsR0FBRyx1QkFBdUI7QUFDdkQsaUJBQWlCLG1CQUFPLENBQUMsOEZBQWlCO0FBQzFDLGtCQUFrQixtQkFBTyxDQUFDLGtHQUFtQjtBQUM3QyxnQ0FBZ0MsbUJBQU8sQ0FBQyx5SEFBeUI7QUFDakUsdUJBQXVCLG1CQUFPLENBQUMsdUdBQWdCO0FBQy9DLCtCQUErQixtQkFBTyxDQUFDLHVIQUF3QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxXQUFXLHdCQUF3QixXQUFXO0FBQzlDLGFBQWEsc0NBQXNDLFlBQVk7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVpem5vdGUvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL2dlbmVyYXRlX2NvbnRlbnQuanM/MmYwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdlbmVyYXRlQ29udGVudFN0cmVhbSA9IGV4cG9ydHMuZ2VuZXJhdGVDb250ZW50ID0gdm9pZCAwO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi4vdHlwZXMvZXJyb3JzXCIpO1xuY29uc3QgY29uc3RhbnRzID0gcmVxdWlyZShcIi4uL3V0aWwvY29uc3RhbnRzXCIpO1xuY29uc3QgcG9zdF9mZXRjaF9wcm9jZXNzaW5nXzEgPSByZXF1aXJlKFwiLi9wb3N0X2ZldGNoX3Byb2Nlc3NpbmdcIik7XG5jb25zdCBwb3N0X3JlcXVlc3RfMSA9IHJlcXVpcmUoXCIuL3Bvc3RfcmVxdWVzdFwiKTtcbmNvbnN0IHByZV9mZXRjaF9wcm9jZXNzaW5nXzEgPSByZXF1aXJlKFwiLi9wcmVfZmV0Y2hfcHJvY2Vzc2luZ1wiKTtcbmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlQ29udGVudChsb2NhdGlvbiwgcHJvamVjdCwgcHVibGlzaGVyTW9kZWxFbmRwb2ludCwgdG9rZW4sIHJlcXVlc3QsIGFwaUVuZHBvaW50LCBnZW5lcmF0aW9uQ29uZmlnLCBzYWZldHlTZXR0aW5ncywgdG9vbHMsIHJlcXVlc3RPcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgcmVxdWVzdCA9ICgwLCBwcmVfZmV0Y2hfcHJvY2Vzc2luZ18xLmZvcm1hdENvbnRlbnRSZXF1ZXN0KShyZXF1ZXN0LCBnZW5lcmF0aW9uQ29uZmlnLCBzYWZldHlTZXR0aW5ncyk7XG4gICAgKDAsIHByZV9mZXRjaF9wcm9jZXNzaW5nXzEudmFsaWRhdGVHZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0KShyZXF1ZXN0KTtcbiAgICBpZiAocmVxdWVzdC5nZW5lcmF0aW9uQ29uZmlnKSB7XG4gICAgICAgIHJlcXVlc3QuZ2VuZXJhdGlvbkNvbmZpZyA9ICgwLCBwcmVfZmV0Y2hfcHJvY2Vzc2luZ18xLnZhbGlkYXRlR2VuZXJhdGlvbkNvbmZpZykocmVxdWVzdC5nZW5lcmF0aW9uQ29uZmlnKTtcbiAgICB9XG4gICAgY29uc3QgZ2VuZXJhdGVDb250ZW50UmVxdWVzdCA9IHtcbiAgICAgICAgY29udGVudHM6IHJlcXVlc3QuY29udGVudHMsXG4gICAgICAgIHN5c3RlbUluc3RydWN0aW9uOiByZXF1ZXN0LnN5c3RlbUluc3RydWN0aW9uLFxuICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiAoX2EgPSByZXF1ZXN0LmdlbmVyYXRpb25Db25maWcpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGdlbmVyYXRpb25Db25maWcsXG4gICAgICAgIHNhZmV0eVNldHRpbmdzOiAoX2IgPSByZXF1ZXN0LnNhZmV0eVNldHRpbmdzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBzYWZldHlTZXR0aW5ncyxcbiAgICAgICAgdG9vbHM6IChfYyA9IHJlcXVlc3QudG9vbHMpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHRvb2xzLFxuICAgIH07XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCAoMCwgcG9zdF9yZXF1ZXN0XzEucG9zdFJlcXVlc3QpKHtcbiAgICAgICAgcmVnaW9uOiBsb2NhdGlvbixcbiAgICAgICAgcHJvamVjdDogcHJvamVjdCxcbiAgICAgICAgcmVzb3VyY2VQYXRoOiBwdWJsaXNoZXJNb2RlbEVuZHBvaW50LFxuICAgICAgICByZXNvdXJjZU1ldGhvZDogY29uc3RhbnRzLkdFTkVSQVRFX0NPTlRFTlRfTUVUSE9ELFxuICAgICAgICB0b2tlbjogYXdhaXQgdG9rZW4sXG4gICAgICAgIGRhdGE6IGdlbmVyYXRlQ29udGVudFJlcXVlc3QsXG4gICAgICAgIGFwaUVuZHBvaW50OiBhcGlFbmRwb2ludCxcbiAgICAgICAgcmVxdWVzdE9wdGlvbnM6IHJlcXVlc3RPcHRpb25zLFxuICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoJ2V4Y2VwdGlvbiBwb3N0aW5nIHJlcXVlc3QgdG8gbW9kZWwnLCBlKTtcbiAgICB9KTtcbiAgICBhd2FpdCAoMCwgcG9zdF9mZXRjaF9wcm9jZXNzaW5nXzEudGhyb3dFcnJvcklmTm90T0spKHJlc3BvbnNlKS5jYXRjaChlID0+IHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbiAgICByZXR1cm4gKDAsIHBvc3RfZmV0Y2hfcHJvY2Vzc2luZ18xLnByb2Nlc3NVbmFyeSkocmVzcG9uc2UpO1xufVxuZXhwb3J0cy5nZW5lcmF0ZUNvbnRlbnQgPSBnZW5lcmF0ZUNvbnRlbnQ7XG4vKipcbiAqIE1ha2UgYW4gYXN5bmMgc3RyZWFtIHJlcXVlc3QgdG8gZ2VuZXJhdGUgY29udGVudC4gVGhlIHJlc3BvbnNlIHdpbGwgYmVcbiAqIHJldHVybmVkIGluIHN0cmVhbS5cbiAqIEBwYXJhbSB7R2VuZXJhdGVDb250ZW50UmVxdWVzdH0gcmVxdWVzdCAtIHtAbGluayBHZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0fVxuICogQHJldHVybnMge1Byb21pc2U8U3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0Pn0gUHJvbWlzZSBvZiB7QGxpbmtcbiAqICAgICBTdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXN1bHR9XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlQ29udGVudFN0cmVhbShsb2NhdGlvbiwgcHJvamVjdCwgcHVibGlzaGVyTW9kZWxFbmRwb2ludCwgdG9rZW4sIHJlcXVlc3QsIGFwaUVuZHBvaW50LCBnZW5lcmF0aW9uQ29uZmlnLCBzYWZldHlTZXR0aW5ncywgdG9vbHMsIHJlcXVlc3RPcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgcmVxdWVzdCA9ICgwLCBwcmVfZmV0Y2hfcHJvY2Vzc2luZ18xLmZvcm1hdENvbnRlbnRSZXF1ZXN0KShyZXF1ZXN0LCBnZW5lcmF0aW9uQ29uZmlnLCBzYWZldHlTZXR0aW5ncyk7XG4gICAgKDAsIHByZV9mZXRjaF9wcm9jZXNzaW5nXzEudmFsaWRhdGVHZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0KShyZXF1ZXN0KTtcbiAgICBpZiAocmVxdWVzdC5nZW5lcmF0aW9uQ29uZmlnKSB7XG4gICAgICAgIHJlcXVlc3QuZ2VuZXJhdGlvbkNvbmZpZyA9ICgwLCBwcmVfZmV0Y2hfcHJvY2Vzc2luZ18xLnZhbGlkYXRlR2VuZXJhdGlvbkNvbmZpZykocmVxdWVzdC5nZW5lcmF0aW9uQ29uZmlnKTtcbiAgICB9XG4gICAgY29uc3QgZ2VuZXJhdGVDb250ZW50UmVxdWVzdCA9IHtcbiAgICAgICAgY29udGVudHM6IHJlcXVlc3QuY29udGVudHMsXG4gICAgICAgIHN5c3RlbUluc3RydWN0aW9uOiByZXF1ZXN0LnN5c3RlbUluc3RydWN0aW9uLFxuICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiAoX2EgPSByZXF1ZXN0LmdlbmVyYXRpb25Db25maWcpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGdlbmVyYXRpb25Db25maWcsXG4gICAgICAgIHNhZmV0eVNldHRpbmdzOiAoX2IgPSByZXF1ZXN0LnNhZmV0eVNldHRpbmdzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBzYWZldHlTZXR0aW5ncyxcbiAgICAgICAgdG9vbHM6IChfYyA9IHJlcXVlc3QudG9vbHMpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHRvb2xzLFxuICAgIH07XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCAoMCwgcG9zdF9yZXF1ZXN0XzEucG9zdFJlcXVlc3QpKHtcbiAgICAgICAgcmVnaW9uOiBsb2NhdGlvbixcbiAgICAgICAgcHJvamVjdDogcHJvamVjdCxcbiAgICAgICAgcmVzb3VyY2VQYXRoOiBwdWJsaXNoZXJNb2RlbEVuZHBvaW50LFxuICAgICAgICByZXNvdXJjZU1ldGhvZDogY29uc3RhbnRzLlNUUkVBTUlOR19HRU5FUkFURV9DT05URU5UX01FVEhPRCxcbiAgICAgICAgdG9rZW46IGF3YWl0IHRva2VuLFxuICAgICAgICBkYXRhOiBnZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0LFxuICAgICAgICBhcGlFbmRwb2ludDogYXBpRW5kcG9pbnQsXG4gICAgICAgIHJlcXVlc3RPcHRpb25zOiByZXF1ZXN0T3B0aW9ucyxcbiAgICB9KS5jYXRjaChlID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKCdleGNlcHRpb24gcG9zdGluZyByZXF1ZXN0JywgZSk7XG4gICAgfSk7XG4gICAgYXdhaXQgKDAsIHBvc3RfZmV0Y2hfcHJvY2Vzc2luZ18xLnRocm93RXJyb3JJZk5vdE9LKShyZXNwb25zZSkuY2F0Y2goZSA9PiB7XG4gICAgICAgIHRocm93IGU7XG4gICAgfSk7XG4gICAgcmV0dXJuICgwLCBwb3N0X2ZldGNoX3Byb2Nlc3NpbmdfMS5wcm9jZXNzU3RyZWFtKShyZXNwb25zZSk7XG59XG5leHBvcnRzLmdlbmVyYXRlQ29udGVudFN0cmVhbSA9IGdlbmVyYXRlQ29udGVudFN0cmVhbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlX2NvbnRlbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/generate_content.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_fetch_processing.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/functions/post_fetch_processing.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.processCountTokenResponse = exports.processUnary = exports.aggregateResponses = exports.processStream = exports.throwErrorIfNotOK = void 0;\nconst util_1 = __webpack_require__(/*! ../util */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/index.js\");\nconst errors_1 = __webpack_require__(/*! ../types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\nasync function throwErrorIfNotOK(response) {\n    if (response === undefined) {\n        throw new errors_1.GoogleGenerativeAIError('response is undefined');\n    }\n    if (!response.ok) {\n        const status = response.status;\n        const statusText = response.statusText;\n        const errorBody = await response.json();\n        const errorMessage = `got status: ${status} ${statusText}. ${JSON.stringify(errorBody)}`;\n        if (status >= 400 && status < 500) {\n            throw new errors_1.ClientError(errorMessage);\n        }\n        throw new errors_1.GoogleGenerativeAIError(errorMessage);\n    }\n}\nexports.throwErrorIfNotOK = throwErrorIfNotOK;\nconst responseLineRE = /^data: (.*)(?:\\n\\n|\\r\\r|\\r\\n\\r\\n)/;\nasync function* generateResponseSequence(stream) {\n    const reader = stream.getReader();\n    while (true) {\n        const { value, done } = await reader.read();\n        if (done) {\n            break;\n        }\n        yield addMissingIndexAndRole(value);\n    }\n}\n/**\n * Process a response.body stream from the backend and return an\n * iterator that provides one complete GenerateContentResponse at a time\n * and a promise that resolves with a single aggregated\n * GenerateContentResponse.\n *\n * @param response - Response from a fetch call\n * @ignore\n */\nasync function processStream(response) {\n    if (response === undefined) {\n        throw new errors_1.GoogleGenerativeAIError('Error processing stream because response === undefined');\n    }\n    if (!response.body) {\n        throw new errors_1.GoogleGenerativeAIError('Error processing stream because response.body not found');\n    }\n    const inputStream = response.body.pipeThrough(new TextDecoderStream('utf8', { fatal: true }));\n    const responseStream = getResponseStream(inputStream);\n    const [stream1, stream2] = responseStream.tee();\n    return Promise.resolve({\n        stream: generateResponseSequence(stream1),\n        response: getResponsePromise(stream2),\n    });\n}\nexports.processStream = processStream;\nasync function getResponsePromise(stream) {\n    const allResponses = [];\n    const reader = stream.getReader();\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n        const { done, value } = await reader.read();\n        if (done) {\n            return aggregateResponses(allResponses);\n        }\n        allResponses.push(value);\n    }\n}\n/**\n * Reads a raw stream from the fetch response and join incomplete\n * chunks, returning a new stream that provides a single complete\n * GenerateContentResponse in each iteration.\n * @ignore\n */\nfunction getResponseStream(inputStream) {\n    const reader = inputStream.getReader();\n    const stream = new ReadableStream({\n        start(controller) {\n            let currentText = '';\n            return pump();\n            function pump() {\n                return reader.read().then(({ value, done }) => {\n                    if (done) {\n                        if (currentText.trim()) {\n                            controller.error(new errors_1.GoogleGenerativeAIError('Failed to parse final chunk of stream'));\n                            return;\n                        }\n                        controller.close();\n                        return;\n                    }\n                    currentText += value;\n                    let match = currentText.match(responseLineRE);\n                    let parsedResponse;\n                    while (match) {\n                        try {\n                            parsedResponse = JSON.parse(match[1]);\n                        }\n                        catch (e) {\n                            controller.error(new errors_1.GoogleGenerativeAIError(`Error parsing JSON response from stream chunk: \"${match[1]}\"`));\n                            return;\n                        }\n                        controller.enqueue(parsedResponse);\n                        currentText = currentText.substring(match[0].length);\n                        match = currentText.match(responseLineRE);\n                    }\n                    return pump();\n                });\n            }\n        },\n    });\n    return stream;\n}\n/**\n * Aggregates an array of `GenerateContentResponse`s into a single\n * GenerateContentResponse.\n * @ignore\n * @VisibleForTesting\n */\nfunction aggregateResponses(responses) {\n    var _a, _b;\n    const lastResponse = responses[responses.length - 1];\n    if (lastResponse === undefined) {\n        throw new errors_1.GoogleGenerativeAIError('Error aggregating stream chunks because the final response in stream chunk is undefined');\n    }\n    const aggregatedResponse = {};\n    if (lastResponse.promptFeedback) {\n        aggregatedResponse.promptFeedback = lastResponse.promptFeedback;\n    }\n    if (lastResponse.usageMetadata) {\n        aggregatedResponse.usageMetadata = lastResponse.usageMetadata;\n    }\n    for (const response of responses) {\n        if (!response.candidates || response.candidates.length === 0) {\n            continue;\n        }\n        for (let i = 0; i < response.candidates.length; i++) {\n            if (!aggregatedResponse.candidates) {\n                aggregatedResponse.candidates = [];\n            }\n            if (!aggregatedResponse.candidates[i]) {\n                aggregatedResponse.candidates[i] = {\n                    index: (_a = response.candidates[i].index) !== null && _a !== void 0 ? _a : i,\n                    content: {\n                        role: (_b = response.candidates[i].content.role) !== null && _b !== void 0 ? _b : util_1.constants.MODEL_ROLE,\n                        parts: [{ text: '' }],\n                    },\n                };\n            }\n            const citationMetadataAggregated = aggregateCitationMetadataForCandidate(response.candidates[i], aggregatedResponse.candidates[i]);\n            if (citationMetadataAggregated) {\n                aggregatedResponse.candidates[i].citationMetadata =\n                    citationMetadataAggregated;\n            }\n            const finishResonOfChunk = response.candidates[i].finishReason;\n            if (finishResonOfChunk) {\n                aggregatedResponse.candidates[i].finishReason =\n                    response.candidates[i].finishReason;\n            }\n            const finishMessageOfChunk = response.candidates[i].finishMessage;\n            if (finishMessageOfChunk) {\n                aggregatedResponse.candidates[i].finishMessage = finishMessageOfChunk;\n            }\n            const safetyRatingsOfChunk = response.candidates[i].safetyRatings;\n            if (safetyRatingsOfChunk) {\n                aggregatedResponse.candidates[i].safetyRatings = safetyRatingsOfChunk;\n            }\n            if (response.candidates[i].content &&\n                response.candidates[i].content.parts &&\n                response.candidates[i].content.parts.length > 0) {\n                for (const part of response.candidates[i].content.parts) {\n                    if (part.text) {\n                        aggregatedResponse.candidates[i].content.parts[0].text += part.text;\n                    }\n                    if (part.functionCall) {\n                        aggregatedResponse.candidates[i].content.parts[0].functionCall =\n                            part.functionCall;\n                        // the empty 'text' key should be removed if functionCall is in the\n                        // response\n                        delete aggregatedResponse.candidates[i].content.parts[0].text;\n                    }\n                }\n            }\n            const groundingMetadataAggregated = aggregateGroundingMetadataForCandidate(response.candidates[i], aggregatedResponse.candidates[i]);\n            if (groundingMetadataAggregated) {\n                aggregatedResponse.candidates[i].groundingMetadata =\n                    groundingMetadataAggregated;\n            }\n        }\n    }\n    return aggregatedResponse;\n}\nexports.aggregateResponses = aggregateResponses;\nfunction aggregateCitationMetadataForCandidate(candidateChunk, aggregatedCandidate) {\n    var _a;\n    if (!candidateChunk.citationMetadata) {\n        return;\n    }\n    const emptyCitationMetadata = {\n        citations: [],\n    };\n    const citationMetadataAggregated = (_a = aggregatedCandidate.citationMetadata) !== null && _a !== void 0 ? _a : emptyCitationMetadata;\n    const citationMetadataChunk = candidateChunk.citationMetadata;\n    if (citationMetadataChunk.citations) {\n        citationMetadataAggregated.citations =\n            citationMetadataAggregated.citations.concat(citationMetadataChunk.citations);\n    }\n    return citationMetadataAggregated;\n}\nfunction aggregateGroundingMetadataForCandidate(candidateChunk, aggregatedCandidate) {\n    var _a;\n    if (!candidateChunk.groundingMetadata) {\n        return;\n    }\n    const emptyGroundingMetadata = {\n        webSearchQueries: [],\n        groundingAttributions: [],\n    };\n    const groundingMetadataAggregated = (_a = aggregatedCandidate.groundingMetadata) !== null && _a !== void 0 ? _a : emptyGroundingMetadata;\n    const groundingMetadataChunk = candidateChunk.groundingMetadata;\n    if (groundingMetadataChunk.webSearchQueries) {\n        groundingMetadataAggregated.webSearchQueries =\n            groundingMetadataAggregated.webSearchQueries.concat(groundingMetadataChunk.webSearchQueries);\n    }\n    if (groundingMetadataChunk.groundingAttributions) {\n        groundingMetadataAggregated.groundingAttributions =\n            groundingMetadataAggregated.groundingAttributions.concat(groundingMetadataChunk.groundingAttributions);\n    }\n    return groundingMetadataAggregated;\n}\nfunction addMissingIndexAndRole(response) {\n    const generateContentResponse = response;\n    if (generateContentResponse.candidates &&\n        generateContentResponse.candidates.length > 0) {\n        generateContentResponse.candidates.forEach((candidate, index) => {\n            if (candidate.index === undefined) {\n                generateContentResponse.candidates[index].index = index;\n            }\n            if (candidate.content === undefined) {\n                generateContentResponse.candidates[index].content = {};\n            }\n            if (candidate.content.role === undefined) {\n                generateContentResponse.candidates[index].content.role =\n                    util_1.constants.MODEL_ROLE;\n            }\n        });\n    }\n    return generateContentResponse;\n}\n/**\n * Process model responses from generateContent\n * @ignore\n */\nasync function processUnary(response) {\n    if (response !== undefined) {\n        // ts-ignore\n        const responseJson = await response.json();\n        const generateContentResponse = addMissingIndexAndRole(responseJson);\n        return Promise.resolve({\n            response: generateContentResponse,\n        });\n    }\n    return Promise.resolve({\n        response: {},\n    });\n}\nexports.processUnary = processUnary;\n/**\n * Process model responses from countTokens\n * @ignore\n */\nasync function processCountTokenResponse(response) {\n    if (response) {\n        // ts-ignore\n        return response.json();\n    }\n    return Promise.resolve({});\n}\nexports.processCountTokenResponse = processCountTokenResponse;\n//# sourceMappingURL=post_fetch_processing.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL3Bvc3RfZmV0Y2hfcHJvY2Vzc2luZy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlDQUFpQyxHQUFHLG9CQUFvQixHQUFHLDBCQUEwQixHQUFHLHFCQUFxQixHQUFHLHlCQUF5QjtBQUN6SSxlQUFlLG1CQUFPLENBQUMsb0ZBQVM7QUFDaEMsaUJBQWlCLG1CQUFPLENBQUMsOEZBQWlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUSxFQUFFLFdBQVcsSUFBSSwwQkFBMEI7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsYUFBYTtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxhQUFhO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUlBQXFJLFNBQVM7QUFDOUk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdDQUFnQztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFVBQVU7QUFDNUMscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIsS0FBSztBQUNMO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBLGlDQUFpQztBQUNqQyIsInNvdXJjZXMiOlsid2VicGFjazovL3F1aXpub3RlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUtY2xvdWQvdmVydGV4YWkvYnVpbGQvc3JjL2Z1bmN0aW9ucy9wb3N0X2ZldGNoX3Byb2Nlc3NpbmcuanM/ZmQ2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnByb2Nlc3NDb3VudFRva2VuUmVzcG9uc2UgPSBleHBvcnRzLnByb2Nlc3NVbmFyeSA9IGV4cG9ydHMuYWdncmVnYXRlUmVzcG9uc2VzID0gZXhwb3J0cy5wcm9jZXNzU3RyZWFtID0gZXhwb3J0cy50aHJvd0Vycm9ySWZOb3RPSyA9IHZvaWQgMDtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi91dGlsXCIpO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi4vdHlwZXMvZXJyb3JzXCIpO1xuYXN5bmMgZnVuY3Rpb24gdGhyb3dFcnJvcklmTm90T0socmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoJ3Jlc3BvbnNlIGlzIHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgY29uc3Qgc3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXR1c1RleHQ7XG4gICAgICAgIGNvbnN0IGVycm9yQm9keSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYGdvdCBzdGF0dXM6ICR7c3RhdHVzfSAke3N0YXR1c1RleHR9LiAke0pTT04uc3RyaW5naWZ5KGVycm9yQm9keSl9YDtcbiAgICAgICAgaWYgKHN0YXR1cyA+PSA0MDAgJiYgc3RhdHVzIDwgNTAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuQ2xpZW50RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG59XG5leHBvcnRzLnRocm93RXJyb3JJZk5vdE9LID0gdGhyb3dFcnJvcklmTm90T0s7XG5jb25zdCByZXNwb25zZUxpbmVSRSA9IC9eZGF0YTogKC4qKSg/OlxcblxcbnxcXHJcXHJ8XFxyXFxuXFxyXFxuKS87XG5hc3luYyBmdW5jdGlvbiogZ2VuZXJhdGVSZXNwb25zZVNlcXVlbmNlKHN0cmVhbSkge1xuICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgeWllbGQgYWRkTWlzc2luZ0luZGV4QW5kUm9sZSh2YWx1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBQcm9jZXNzIGEgcmVzcG9uc2UuYm9keSBzdHJlYW0gZnJvbSB0aGUgYmFja2VuZCBhbmQgcmV0dXJuIGFuXG4gKiBpdGVyYXRvciB0aGF0IHByb3ZpZGVzIG9uZSBjb21wbGV0ZSBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSBhdCBhIHRpbWVcbiAqIGFuZCBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgc2luZ2xlIGFnZ3JlZ2F0ZWRcbiAqIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSByZXNwb25zZSAtIFJlc3BvbnNlIGZyb20gYSBmZXRjaCBjYWxsXG4gKiBAaWdub3JlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NTdHJlYW0ocmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoJ0Vycm9yIHByb2Nlc3Npbmcgc3RyZWFtIGJlY2F1c2UgcmVzcG9uc2UgPT09IHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICBpZiAoIXJlc3BvbnNlLmJvZHkpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKCdFcnJvciBwcm9jZXNzaW5nIHN0cmVhbSBiZWNhdXNlIHJlc3BvbnNlLmJvZHkgbm90IGZvdW5kJyk7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0U3RyZWFtID0gcmVzcG9uc2UuYm9keS5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oJ3V0ZjgnLCB7IGZhdGFsOiB0cnVlIH0pKTtcbiAgICBjb25zdCByZXNwb25zZVN0cmVhbSA9IGdldFJlc3BvbnNlU3RyZWFtKGlucHV0U3RyZWFtKTtcbiAgICBjb25zdCBbc3RyZWFtMSwgc3RyZWFtMl0gPSByZXNwb25zZVN0cmVhbS50ZWUoKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgc3RyZWFtOiBnZW5lcmF0ZVJlc3BvbnNlU2VxdWVuY2Uoc3RyZWFtMSksXG4gICAgICAgIHJlc3BvbnNlOiBnZXRSZXNwb25zZVByb21pc2Uoc3RyZWFtMiksXG4gICAgfSk7XG59XG5leHBvcnRzLnByb2Nlc3NTdHJlYW0gPSBwcm9jZXNzU3RyZWFtO1xuYXN5bmMgZnVuY3Rpb24gZ2V0UmVzcG9uc2VQcm9taXNlKHN0cmVhbSkge1xuICAgIGNvbnN0IGFsbFJlc3BvbnNlcyA9IFtdO1xuICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBhZ2dyZWdhdGVSZXNwb25zZXMoYWxsUmVzcG9uc2VzKTtcbiAgICAgICAgfVxuICAgICAgICBhbGxSZXNwb25zZXMucHVzaCh2YWx1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBSZWFkcyBhIHJhdyBzdHJlYW0gZnJvbSB0aGUgZmV0Y2ggcmVzcG9uc2UgYW5kIGpvaW4gaW5jb21wbGV0ZVxuICogY2h1bmtzLCByZXR1cm5pbmcgYSBuZXcgc3RyZWFtIHRoYXQgcHJvdmlkZXMgYSBzaW5nbGUgY29tcGxldGVcbiAqIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlIGluIGVhY2ggaXRlcmF0aW9uLlxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBnZXRSZXNwb25zZVN0cmVhbShpbnB1dFN0cmVhbSkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0U3RyZWFtLmdldFJlYWRlcigpO1xuICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50VGV4dCA9ICcnO1xuICAgICAgICAgICAgcmV0dXJuIHB1bXAoKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHB1bXAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkKCkudGhlbigoeyB2YWx1ZSwgZG9uZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRleHQudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lcnJvcihuZXcgZXJyb3JzXzEuR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBmaW5hbCBjaHVuayBvZiBzdHJlYW0nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0ICs9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2ggPSBjdXJyZW50VGV4dC5tYXRjaChyZXNwb25zZUxpbmVSRSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXJzZWRSZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZFJlc3BvbnNlID0gSlNPTi5wYXJzZShtYXRjaFsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IobmV3IGVycm9yc18xLkdvb2dsZUdlbmVyYXRpdmVBSUVycm9yKGBFcnJvciBwYXJzaW5nIEpTT04gcmVzcG9uc2UgZnJvbSBzdHJlYW0gY2h1bms6IFwiJHttYXRjaFsxXX1cImApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUocGFyc2VkUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRleHQgPSBjdXJyZW50VGV4dC5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gY3VycmVudFRleHQubWF0Y2gocmVzcG9uc2VMaW5lUkUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwdW1wKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cmVhbTtcbn1cbi8qKlxuICogQWdncmVnYXRlcyBhbiBhcnJheSBvZiBgR2VuZXJhdGVDb250ZW50UmVzcG9uc2VgcyBpbnRvIGEgc2luZ2xlXG4gKiBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZS5cbiAqIEBpZ25vcmVcbiAqIEBWaXNpYmxlRm9yVGVzdGluZ1xuICovXG5mdW5jdGlvbiBhZ2dyZWdhdGVSZXNwb25zZXMocmVzcG9uc2VzKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBsYXN0UmVzcG9uc2UgPSByZXNwb25zZXNbcmVzcG9uc2VzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChsYXN0UmVzcG9uc2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoJ0Vycm9yIGFnZ3JlZ2F0aW5nIHN0cmVhbSBjaHVua3MgYmVjYXVzZSB0aGUgZmluYWwgcmVzcG9uc2UgaW4gc3RyZWFtIGNodW5rIGlzIHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICBjb25zdCBhZ2dyZWdhdGVkUmVzcG9uc2UgPSB7fTtcbiAgICBpZiAobGFzdFJlc3BvbnNlLnByb21wdEZlZWRiYWNrKSB7XG4gICAgICAgIGFnZ3JlZ2F0ZWRSZXNwb25zZS5wcm9tcHRGZWVkYmFjayA9IGxhc3RSZXNwb25zZS5wcm9tcHRGZWVkYmFjaztcbiAgICB9XG4gICAgaWYgKGxhc3RSZXNwb25zZS51c2FnZU1ldGFkYXRhKSB7XG4gICAgICAgIGFnZ3JlZ2F0ZWRSZXNwb25zZS51c2FnZU1ldGFkYXRhID0gbGFzdFJlc3BvbnNlLnVzYWdlTWV0YWRhdGE7XG4gICAgfVxuICAgIGZvciAoY29uc3QgcmVzcG9uc2Ugb2YgcmVzcG9uc2VzKSB7XG4gICAgICAgIGlmICghcmVzcG9uc2UuY2FuZGlkYXRlcyB8fCByZXNwb25zZS5jYW5kaWRhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5jYW5kaWRhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzKSB7XG4gICAgICAgICAgICAgICAgYWdncmVnYXRlZFJlc3BvbnNlLmNhbmRpZGF0ZXMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYWdncmVnYXRlZFJlc3BvbnNlLmNhbmRpZGF0ZXNbaV0pIHtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IChfYSA9IHJlc3BvbnNlLmNhbmRpZGF0ZXNbaV0uaW5kZXgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6IChfYiA9IHJlc3BvbnNlLmNhbmRpZGF0ZXNbaV0uY29udGVudC5yb2xlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB1dGlsXzEuY29uc3RhbnRzLk1PREVMX1JPTEUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0czogW3sgdGV4dDogJycgfV0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNpdGF0aW9uTWV0YWRhdGFBZ2dyZWdhdGVkID0gYWdncmVnYXRlQ2l0YXRpb25NZXRhZGF0YUZvckNhbmRpZGF0ZShyZXNwb25zZS5jYW5kaWRhdGVzW2ldLCBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXSk7XG4gICAgICAgICAgICBpZiAoY2l0YXRpb25NZXRhZGF0YUFnZ3JlZ2F0ZWQpIHtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5jaXRhdGlvbk1ldGFkYXRhID1cbiAgICAgICAgICAgICAgICAgICAgY2l0YXRpb25NZXRhZGF0YUFnZ3JlZ2F0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaW5pc2hSZXNvbk9mQ2h1bmsgPSByZXNwb25zZS5jYW5kaWRhdGVzW2ldLmZpbmlzaFJlYXNvbjtcbiAgICAgICAgICAgIGlmIChmaW5pc2hSZXNvbk9mQ2h1bmspIHtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5maW5pc2hSZWFzb24gPVxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5jYW5kaWRhdGVzW2ldLmZpbmlzaFJlYXNvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZpbmlzaE1lc3NhZ2VPZkNodW5rID0gcmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5maW5pc2hNZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGZpbmlzaE1lc3NhZ2VPZkNodW5rKSB7XG4gICAgICAgICAgICAgICAgYWdncmVnYXRlZFJlc3BvbnNlLmNhbmRpZGF0ZXNbaV0uZmluaXNoTWVzc2FnZSA9IGZpbmlzaE1lc3NhZ2VPZkNodW5rO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2FmZXR5UmF0aW5nc09mQ2h1bmsgPSByZXNwb25zZS5jYW5kaWRhdGVzW2ldLnNhZmV0eVJhdGluZ3M7XG4gICAgICAgICAgICBpZiAoc2FmZXR5UmF0aW5nc09mQ2h1bmspIHtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5zYWZldHlSYXRpbmdzID0gc2FmZXR5UmF0aW5nc09mQ2h1bms7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5jb250ZW50ICYmXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5jb250ZW50LnBhcnRzICYmXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5jb250ZW50LnBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5jb250ZW50LnBhcnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzW2ldLmNvbnRlbnQucGFydHNbMF0udGV4dCArPSBwYXJ0LnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQuZnVuY3Rpb25DYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5jb250ZW50LnBhcnRzWzBdLmZ1bmN0aW9uQ2FsbCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5mdW5jdGlvbkNhbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZW1wdHkgJ3RleHQnIGtleSBzaG91bGQgYmUgcmVtb3ZlZCBpZiBmdW5jdGlvbkNhbGwgaXMgaW4gdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzW2ldLmNvbnRlbnQucGFydHNbMF0udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGdyb3VuZGluZ01ldGFkYXRhQWdncmVnYXRlZCA9IGFnZ3JlZ2F0ZUdyb3VuZGluZ01ldGFkYXRhRm9yQ2FuZGlkYXRlKHJlc3BvbnNlLmNhbmRpZGF0ZXNbaV0sIGFnZ3JlZ2F0ZWRSZXNwb25zZS5jYW5kaWRhdGVzW2ldKTtcbiAgICAgICAgICAgIGlmIChncm91bmRpbmdNZXRhZGF0YUFnZ3JlZ2F0ZWQpIHtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVkUmVzcG9uc2UuY2FuZGlkYXRlc1tpXS5ncm91bmRpbmdNZXRhZGF0YSA9XG4gICAgICAgICAgICAgICAgICAgIGdyb3VuZGluZ01ldGFkYXRhQWdncmVnYXRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWdncmVnYXRlZFJlc3BvbnNlO1xufVxuZXhwb3J0cy5hZ2dyZWdhdGVSZXNwb25zZXMgPSBhZ2dyZWdhdGVSZXNwb25zZXM7XG5mdW5jdGlvbiBhZ2dyZWdhdGVDaXRhdGlvbk1ldGFkYXRhRm9yQ2FuZGlkYXRlKGNhbmRpZGF0ZUNodW5rLCBhZ2dyZWdhdGVkQ2FuZGlkYXRlKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghY2FuZGlkYXRlQ2h1bmsuY2l0YXRpb25NZXRhZGF0YSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVtcHR5Q2l0YXRpb25NZXRhZGF0YSA9IHtcbiAgICAgICAgY2l0YXRpb25zOiBbXSxcbiAgICB9O1xuICAgIGNvbnN0IGNpdGF0aW9uTWV0YWRhdGFBZ2dyZWdhdGVkID0gKF9hID0gYWdncmVnYXRlZENhbmRpZGF0ZS5jaXRhdGlvbk1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBlbXB0eUNpdGF0aW9uTWV0YWRhdGE7XG4gICAgY29uc3QgY2l0YXRpb25NZXRhZGF0YUNodW5rID0gY2FuZGlkYXRlQ2h1bmsuY2l0YXRpb25NZXRhZGF0YTtcbiAgICBpZiAoY2l0YXRpb25NZXRhZGF0YUNodW5rLmNpdGF0aW9ucykge1xuICAgICAgICBjaXRhdGlvbk1ldGFkYXRhQWdncmVnYXRlZC5jaXRhdGlvbnMgPVxuICAgICAgICAgICAgY2l0YXRpb25NZXRhZGF0YUFnZ3JlZ2F0ZWQuY2l0YXRpb25zLmNvbmNhdChjaXRhdGlvbk1ldGFkYXRhQ2h1bmsuY2l0YXRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIGNpdGF0aW9uTWV0YWRhdGFBZ2dyZWdhdGVkO1xufVxuZnVuY3Rpb24gYWdncmVnYXRlR3JvdW5kaW5nTWV0YWRhdGFGb3JDYW5kaWRhdGUoY2FuZGlkYXRlQ2h1bmssIGFnZ3JlZ2F0ZWRDYW5kaWRhdGUpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCFjYW5kaWRhdGVDaHVuay5ncm91bmRpbmdNZXRhZGF0YSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVtcHR5R3JvdW5kaW5nTWV0YWRhdGEgPSB7XG4gICAgICAgIHdlYlNlYXJjaFF1ZXJpZXM6IFtdLFxuICAgICAgICBncm91bmRpbmdBdHRyaWJ1dGlvbnM6IFtdLFxuICAgIH07XG4gICAgY29uc3QgZ3JvdW5kaW5nTWV0YWRhdGFBZ2dyZWdhdGVkID0gKF9hID0gYWdncmVnYXRlZENhbmRpZGF0ZS5ncm91bmRpbmdNZXRhZGF0YSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZW1wdHlHcm91bmRpbmdNZXRhZGF0YTtcbiAgICBjb25zdCBncm91bmRpbmdNZXRhZGF0YUNodW5rID0gY2FuZGlkYXRlQ2h1bmsuZ3JvdW5kaW5nTWV0YWRhdGE7XG4gICAgaWYgKGdyb3VuZGluZ01ldGFkYXRhQ2h1bmsud2ViU2VhcmNoUXVlcmllcykge1xuICAgICAgICBncm91bmRpbmdNZXRhZGF0YUFnZ3JlZ2F0ZWQud2ViU2VhcmNoUXVlcmllcyA9XG4gICAgICAgICAgICBncm91bmRpbmdNZXRhZGF0YUFnZ3JlZ2F0ZWQud2ViU2VhcmNoUXVlcmllcy5jb25jYXQoZ3JvdW5kaW5nTWV0YWRhdGFDaHVuay53ZWJTZWFyY2hRdWVyaWVzKTtcbiAgICB9XG4gICAgaWYgKGdyb3VuZGluZ01ldGFkYXRhQ2h1bmsuZ3JvdW5kaW5nQXR0cmlidXRpb25zKSB7XG4gICAgICAgIGdyb3VuZGluZ01ldGFkYXRhQWdncmVnYXRlZC5ncm91bmRpbmdBdHRyaWJ1dGlvbnMgPVxuICAgICAgICAgICAgZ3JvdW5kaW5nTWV0YWRhdGFBZ2dyZWdhdGVkLmdyb3VuZGluZ0F0dHJpYnV0aW9ucy5jb25jYXQoZ3JvdW5kaW5nTWV0YWRhdGFDaHVuay5ncm91bmRpbmdBdHRyaWJ1dGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gZ3JvdW5kaW5nTWV0YWRhdGFBZ2dyZWdhdGVkO1xufVxuZnVuY3Rpb24gYWRkTWlzc2luZ0luZGV4QW5kUm9sZShyZXNwb25zZSkge1xuICAgIGNvbnN0IGdlbmVyYXRlQ29udGVudFJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgaWYgKGdlbmVyYXRlQ29udGVudFJlc3BvbnNlLmNhbmRpZGF0ZXMgJiZcbiAgICAgICAgZ2VuZXJhdGVDb250ZW50UmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGdlbmVyYXRlQ29udGVudFJlc3BvbnNlLmNhbmRpZGF0ZXMuZm9yRWFjaCgoY2FuZGlkYXRlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZS5pbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVDb250ZW50UmVzcG9uc2UuY2FuZGlkYXRlc1tpbmRleF0uaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUuY29udGVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVDb250ZW50UmVzcG9uc2UuY2FuZGlkYXRlc1tpbmRleF0uY29udGVudCA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZS5jb250ZW50LnJvbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlQ29udGVudFJlc3BvbnNlLmNhbmRpZGF0ZXNbaW5kZXhdLmNvbnRlbnQucm9sZSA9XG4gICAgICAgICAgICAgICAgICAgIHV0aWxfMS5jb25zdGFudHMuTU9ERUxfUk9MRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZTtcbn1cbi8qKlxuICogUHJvY2VzcyBtb2RlbCByZXNwb25zZXMgZnJvbSBnZW5lcmF0ZUNvbnRlbnRcbiAqIEBpZ25vcmVcbiAqL1xuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1VuYXJ5KHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlSnNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVDb250ZW50UmVzcG9uc2UgPSBhZGRNaXNzaW5nSW5kZXhBbmRSb2xlKHJlc3BvbnNlSnNvbik7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgcmVzcG9uc2U6IGdlbmVyYXRlQ29udGVudFJlc3BvbnNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIHJlc3BvbnNlOiB7fSxcbiAgICB9KTtcbn1cbmV4cG9ydHMucHJvY2Vzc1VuYXJ5ID0gcHJvY2Vzc1VuYXJ5O1xuLyoqXG4gKiBQcm9jZXNzIG1vZGVsIHJlc3BvbnNlcyBmcm9tIGNvdW50VG9rZW5zXG4gKiBAaWdub3JlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NDb3VudFRva2VuUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgLy8gdHMtaWdub3JlXG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe30pO1xufVxuZXhwb3J0cy5wcm9jZXNzQ291bnRUb2tlblJlc3BvbnNlID0gcHJvY2Vzc0NvdW50VG9rZW5SZXNwb25zZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvc3RfZmV0Y2hfcHJvY2Vzc2luZy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_fetch_processing.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_request.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/functions/post_request.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.postRequest = void 0;\nconst API_BASE_PATH = 'aiplatform.googleapis.com';\nconst GOOGLE_INTERNAL_ENDPOINT = 'googleapis.com';\nconst AUTHORIZATION_HEADER = 'Authorization';\nconst CONTENT_TYPE_HEADER = 'Content-Type';\nconst USER_AGENT_HEADER = 'User-Agent';\nconst X_GOOG_API_CLIENT_HEADER = 'X-Goog-Api-Client';\nconst SERVER_RESERVED_HEADERS = [AUTHORIZATION_HEADER, CONTENT_TYPE_HEADER];\nconst errors_1 = __webpack_require__(/*! ../types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\nconst constants = __webpack_require__(/*! ../util/constants */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/constants.js\");\n/**\n * Makes a POST request to a Vertex service\n * @ignore\n */\nasync function postRequest({ region, project, resourcePath, resourceMethod, token, data, apiEndpoint, requestOptions, apiVersion = 'v1', }) {\n    const vertexBaseEndpoint = apiEndpoint !== null && apiEndpoint !== void 0 ? apiEndpoint : `${region}-${API_BASE_PATH}`;\n    let vertexEndpoint = `https://${vertexBaseEndpoint}/${apiVersion}/projects/${project}/locations/${region}/${resourcePath}:${resourceMethod}`;\n    // Use server sent events for streamGenerateContent\n    if (resourceMethod === constants.STREAMING_GENERATE_CONTENT_METHOD) {\n        vertexEndpoint += '?alt=sse';\n    }\n    const necessaryHeaders = new Headers({\n        [AUTHORIZATION_HEADER]: `Bearer ${token}`,\n        [CONTENT_TYPE_HEADER]: 'application/json',\n        [USER_AGENT_HEADER]: constants.USER_AGENT,\n    });\n    const totalHeaders = getExtraHeaders(vertexBaseEndpoint, necessaryHeaders, requestOptions);\n    return fetch(vertexEndpoint, {\n        ...getFetchOptions(requestOptions),\n        method: 'POST',\n        headers: totalHeaders,\n        body: JSON.stringify(data),\n    });\n}\nexports.postRequest = postRequest;\nfunction getFetchOptions(requestOptions) {\n    const fetchOptions = {};\n    if (!requestOptions ||\n        requestOptions.timeout === undefined ||\n        requestOptions.timeout < 0) {\n        return fetchOptions;\n    }\n    const abortController = new AbortController();\n    const signal = abortController.signal;\n    setTimeout(() => abortController.abort(), requestOptions.timeout);\n    fetchOptions.signal = signal;\n    return fetchOptions;\n}\nfunction stringHasLineBreak(header) {\n    if (header === null || header === undefined) {\n        return false;\n    }\n    return header.includes('\\n') || header.includes('\\r');\n}\nfunction headersHasLineBreak(customHeaders) {\n    if (!customHeaders) {\n        return false;\n    }\n    for (const [key, value] of customHeaders.entries()) {\n        if (stringHasLineBreak(key) || stringHasLineBreak(value)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getExtraHeaders(vertexBaseEndpoint, necessaryHeaders, requestOptions) {\n    var _a;\n    if (stringHasLineBreak(requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.apiClient)) {\n        throw new errors_1.ClientError('Found line break in apiClient request option field, please remove ' +\n            'the line break and try again.');\n    }\n    if (headersHasLineBreak(requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.customHeaders)) {\n        throw new errors_1.ClientError('Found line break in customerHeaders request option field, please remove ' +\n            'the line break and try again.');\n    }\n    const totalHeaders = new Headers(necessaryHeaders);\n    const customHeaders = (_a = requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.customHeaders) !== null && _a !== void 0 ? _a : new Headers();\n    for (const [key, val] of customHeaders.entries()) {\n        totalHeaders.append(key, val);\n    }\n    if (requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.apiClient) {\n        totalHeaders.append(X_GOOG_API_CLIENT_HEADER, requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.apiClient);\n    }\n    // Resolve header conflicts.\n    let goldenHeaders;\n    if (vertexBaseEndpoint.endsWith(GOOGLE_INTERNAL_ENDPOINT)) {\n        goldenHeaders = necessaryHeaders;\n    }\n    else {\n        goldenHeaders = customHeaders;\n    }\n    for (const header of SERVER_RESERVED_HEADERS) {\n        if (goldenHeaders.has(header)) {\n            totalHeaders.set(header, goldenHeaders.get(header));\n        }\n    }\n    return totalHeaders;\n}\n//# sourceMappingURL=post_request.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL3Bvc3RfcmVxdWVzdC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtQkFBTyxDQUFDLDhGQUFpQjtBQUMxQyxrQkFBa0IsbUJBQU8sQ0FBQyxrR0FBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNkdBQTZHO0FBQzFJLGlHQUFpRyxPQUFPLEdBQUcsY0FBYztBQUN6SCxvQ0FBb0MsbUJBQW1CLEdBQUcsV0FBVyxZQUFZLFFBQVEsYUFBYSxPQUFPLEdBQUcsYUFBYSxHQUFHLGVBQWU7QUFDL0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxNQUFNO0FBQ2hEO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVpem5vdGUvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL3Bvc3RfcmVxdWVzdC5qcz81MmZhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjMgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucG9zdFJlcXVlc3QgPSB2b2lkIDA7XG5jb25zdCBBUElfQkFTRV9QQVRIID0gJ2FpcGxhdGZvcm0uZ29vZ2xlYXBpcy5jb20nO1xuY29uc3QgR09PR0xFX0lOVEVSTkFMX0VORFBPSU5UID0gJ2dvb2dsZWFwaXMuY29tJztcbmNvbnN0IEFVVEhPUklaQVRJT05fSEVBREVSID0gJ0F1dGhvcml6YXRpb24nO1xuY29uc3QgQ09OVEVOVF9UWVBFX0hFQURFUiA9ICdDb250ZW50LVR5cGUnO1xuY29uc3QgVVNFUl9BR0VOVF9IRUFERVIgPSAnVXNlci1BZ2VudCc7XG5jb25zdCBYX0dPT0dfQVBJX0NMSUVOVF9IRUFERVIgPSAnWC1Hb29nLUFwaS1DbGllbnQnO1xuY29uc3QgU0VSVkVSX1JFU0VSVkVEX0hFQURFUlMgPSBbQVVUSE9SSVpBVElPTl9IRUFERVIsIENPTlRFTlRfVFlQRV9IRUFERVJdO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi4vdHlwZXMvZXJyb3JzXCIpO1xuY29uc3QgY29uc3RhbnRzID0gcmVxdWlyZShcIi4uL3V0aWwvY29uc3RhbnRzXCIpO1xuLyoqXG4gKiBNYWtlcyBhIFBPU1QgcmVxdWVzdCB0byBhIFZlcnRleCBzZXJ2aWNlXG4gKiBAaWdub3JlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHBvc3RSZXF1ZXN0KHsgcmVnaW9uLCBwcm9qZWN0LCByZXNvdXJjZVBhdGgsIHJlc291cmNlTWV0aG9kLCB0b2tlbiwgZGF0YSwgYXBpRW5kcG9pbnQsIHJlcXVlc3RPcHRpb25zLCBhcGlWZXJzaW9uID0gJ3YxJywgfSkge1xuICAgIGNvbnN0IHZlcnRleEJhc2VFbmRwb2ludCA9IGFwaUVuZHBvaW50ICE9PSBudWxsICYmIGFwaUVuZHBvaW50ICE9PSB2b2lkIDAgPyBhcGlFbmRwb2ludCA6IGAke3JlZ2lvbn0tJHtBUElfQkFTRV9QQVRIfWA7XG4gICAgbGV0IHZlcnRleEVuZHBvaW50ID0gYGh0dHBzOi8vJHt2ZXJ0ZXhCYXNlRW5kcG9pbnR9LyR7YXBpVmVyc2lvbn0vcHJvamVjdHMvJHtwcm9qZWN0fS9sb2NhdGlvbnMvJHtyZWdpb259LyR7cmVzb3VyY2VQYXRofToke3Jlc291cmNlTWV0aG9kfWA7XG4gICAgLy8gVXNlIHNlcnZlciBzZW50IGV2ZW50cyBmb3Igc3RyZWFtR2VuZXJhdGVDb250ZW50XG4gICAgaWYgKHJlc291cmNlTWV0aG9kID09PSBjb25zdGFudHMuU1RSRUFNSU5HX0dFTkVSQVRFX0NPTlRFTlRfTUVUSE9EKSB7XG4gICAgICAgIHZlcnRleEVuZHBvaW50ICs9ICc/YWx0PXNzZSc7XG4gICAgfVxuICAgIGNvbnN0IG5lY2Vzc2FyeUhlYWRlcnMgPSBuZXcgSGVhZGVycyh7XG4gICAgICAgIFtBVVRIT1JJWkFUSU9OX0hFQURFUl06IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICBbQ09OVEVOVF9UWVBFX0hFQURFUl06ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgW1VTRVJfQUdFTlRfSEVBREVSXTogY29uc3RhbnRzLlVTRVJfQUdFTlQsXG4gICAgfSk7XG4gICAgY29uc3QgdG90YWxIZWFkZXJzID0gZ2V0RXh0cmFIZWFkZXJzKHZlcnRleEJhc2VFbmRwb2ludCwgbmVjZXNzYXJ5SGVhZGVycywgcmVxdWVzdE9wdGlvbnMpO1xuICAgIHJldHVybiBmZXRjaCh2ZXJ0ZXhFbmRwb2ludCwge1xuICAgICAgICAuLi5nZXRGZXRjaE9wdGlvbnMocmVxdWVzdE9wdGlvbnMpLFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogdG90YWxIZWFkZXJzLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICB9KTtcbn1cbmV4cG9ydHMucG9zdFJlcXVlc3QgPSBwb3N0UmVxdWVzdDtcbmZ1bmN0aW9uIGdldEZldGNoT3B0aW9ucyhyZXF1ZXN0T3B0aW9ucykge1xuICAgIGNvbnN0IGZldGNoT3B0aW9ucyA9IHt9O1xuICAgIGlmICghcmVxdWVzdE9wdGlvbnMgfHxcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMudGltZW91dCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIHJlcXVlc3RPcHRpb25zLnRpbWVvdXQgPCAwKSB7XG4gICAgICAgIHJldHVybiBmZXRjaE9wdGlvbnM7XG4gICAgfVxuICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBjb25zdCBzaWduYWwgPSBhYm9ydENvbnRyb2xsZXIuc2lnbmFsO1xuICAgIHNldFRpbWVvdXQoKCkgPT4gYWJvcnRDb250cm9sbGVyLmFib3J0KCksIHJlcXVlc3RPcHRpb25zLnRpbWVvdXQpO1xuICAgIGZldGNoT3B0aW9ucy5zaWduYWwgPSBzaWduYWw7XG4gICAgcmV0dXJuIGZldGNoT3B0aW9ucztcbn1cbmZ1bmN0aW9uIHN0cmluZ0hhc0xpbmVCcmVhayhoZWFkZXIpIHtcbiAgICBpZiAoaGVhZGVyID09PSBudWxsIHx8IGhlYWRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGhlYWRlci5pbmNsdWRlcygnXFxuJykgfHwgaGVhZGVyLmluY2x1ZGVzKCdcXHInKTtcbn1cbmZ1bmN0aW9uIGhlYWRlcnNIYXNMaW5lQnJlYWsoY3VzdG9tSGVhZGVycykge1xuICAgIGlmICghY3VzdG9tSGVhZGVycykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGN1c3RvbUhlYWRlcnMuZW50cmllcygpKSB7XG4gICAgICAgIGlmIChzdHJpbmdIYXNMaW5lQnJlYWsoa2V5KSB8fCBzdHJpbmdIYXNMaW5lQnJlYWsodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBnZXRFeHRyYUhlYWRlcnModmVydGV4QmFzZUVuZHBvaW50LCBuZWNlc3NhcnlIZWFkZXJzLCByZXF1ZXN0T3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICBpZiAoc3RyaW5nSGFzTGluZUJyZWFrKHJlcXVlc3RPcHRpb25zID09PSBudWxsIHx8IHJlcXVlc3RPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0T3B0aW9ucy5hcGlDbGllbnQpKSB7XG4gICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5DbGllbnRFcnJvcignRm91bmQgbGluZSBicmVhayBpbiBhcGlDbGllbnQgcmVxdWVzdCBvcHRpb24gZmllbGQsIHBsZWFzZSByZW1vdmUgJyArXG4gICAgICAgICAgICAndGhlIGxpbmUgYnJlYWsgYW5kIHRyeSBhZ2Fpbi4nKTtcbiAgICB9XG4gICAgaWYgKGhlYWRlcnNIYXNMaW5lQnJlYWsocmVxdWVzdE9wdGlvbnMgPT09IG51bGwgfHwgcmVxdWVzdE9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3RPcHRpb25zLmN1c3RvbUhlYWRlcnMpKSB7XG4gICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5DbGllbnRFcnJvcignRm91bmQgbGluZSBicmVhayBpbiBjdXN0b21lckhlYWRlcnMgcmVxdWVzdCBvcHRpb24gZmllbGQsIHBsZWFzZSByZW1vdmUgJyArXG4gICAgICAgICAgICAndGhlIGxpbmUgYnJlYWsgYW5kIHRyeSBhZ2Fpbi4nKTtcbiAgICB9XG4gICAgY29uc3QgdG90YWxIZWFkZXJzID0gbmV3IEhlYWRlcnMobmVjZXNzYXJ5SGVhZGVycyk7XG4gICAgY29uc3QgY3VzdG9tSGVhZGVycyA9IChfYSA9IHJlcXVlc3RPcHRpb25zID09PSBudWxsIHx8IHJlcXVlc3RPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0T3B0aW9ucy5jdXN0b21IZWFkZXJzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBuZXcgSGVhZGVycygpO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBjdXN0b21IZWFkZXJzLmVudHJpZXMoKSkge1xuICAgICAgICB0b3RhbEhlYWRlcnMuYXBwZW5kKGtleSwgdmFsKTtcbiAgICB9XG4gICAgaWYgKHJlcXVlc3RPcHRpb25zID09PSBudWxsIHx8IHJlcXVlc3RPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0T3B0aW9ucy5hcGlDbGllbnQpIHtcbiAgICAgICAgdG90YWxIZWFkZXJzLmFwcGVuZChYX0dPT0dfQVBJX0NMSUVOVF9IRUFERVIsIHJlcXVlc3RPcHRpb25zID09PSBudWxsIHx8IHJlcXVlc3RPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0T3B0aW9ucy5hcGlDbGllbnQpO1xuICAgIH1cbiAgICAvLyBSZXNvbHZlIGhlYWRlciBjb25mbGljdHMuXG4gICAgbGV0IGdvbGRlbkhlYWRlcnM7XG4gICAgaWYgKHZlcnRleEJhc2VFbmRwb2ludC5lbmRzV2l0aChHT09HTEVfSU5URVJOQUxfRU5EUE9JTlQpKSB7XG4gICAgICAgIGdvbGRlbkhlYWRlcnMgPSBuZWNlc3NhcnlIZWFkZXJzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ29sZGVuSGVhZGVycyA9IGN1c3RvbUhlYWRlcnM7XG4gICAgfVxuICAgIGZvciAoY29uc3QgaGVhZGVyIG9mIFNFUlZFUl9SRVNFUlZFRF9IRUFERVJTKSB7XG4gICAgICAgIGlmIChnb2xkZW5IZWFkZXJzLmhhcyhoZWFkZXIpKSB7XG4gICAgICAgICAgICB0b3RhbEhlYWRlcnMuc2V0KGhlYWRlciwgZ29sZGVuSGVhZGVycy5nZXQoaGVhZGVyKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvdGFsSGVhZGVycztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvc3RfcmVxdWVzdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/post_request.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/pre_fetch_processing.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/functions/pre_fetch_processing.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.validateGenerationConfig = exports.validateGenerateContentRequest = exports.formatContentRequest = void 0;\nconst constants = __webpack_require__(/*! ../util/constants */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/constants.js\");\nfunction formatContentRequest(request, generationConfig, safetySettings) {\n    if (typeof request === 'string') {\n        return {\n            contents: [{ role: constants.USER_ROLE, parts: [{ text: request }] }],\n            generationConfig: generationConfig,\n            safetySettings: safetySettings,\n        };\n    }\n    else {\n        return request;\n    }\n}\nexports.formatContentRequest = formatContentRequest;\nfunction validateGenerateContentRequest(request) {\n    const contents = request.contents;\n    for (const content of contents) {\n        for (const part of content.parts) {\n            if ('fileData' in part) {\n                // @ts-ignore\n                const uri = part['fileData']['fileUri'];\n                if (!uri.startsWith('gs://')) {\n                    throw new URIError(`Found invalid Google Cloud Storage URI ${uri}, Google Cloud Storage URIs must start with gs://`);\n                }\n            }\n        }\n    }\n}\nexports.validateGenerateContentRequest = validateGenerateContentRequest;\nfunction validateGenerationConfig(generationConfig) {\n    if ('topK' in generationConfig) {\n        if (!(generationConfig.topK > 0) || !(generationConfig.topK <= 40)) {\n            delete generationConfig.topK;\n        }\n    }\n    return generationConfig;\n}\nexports.validateGenerationConfig = validateGenerationConfig;\n//# sourceMappingURL=pre_fetch_processing.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvZnVuY3Rpb25zL3ByZV9mZXRjaF9wcm9jZXNzaW5nLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0NBQWdDLEdBQUcsc0NBQXNDLEdBQUcsNEJBQTRCO0FBQ3hHLGtCQUFrQixtQkFBTyxDQUFDLGtHQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSx5QkFBeUIscUNBQXFDLGVBQWUsR0FBRztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRkFBaUYsSUFBSTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWl6bm90ZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlLWNsb3VkL3ZlcnRleGFpL2J1aWxkL3NyYy9mdW5jdGlvbnMvcHJlX2ZldGNoX3Byb2Nlc3NpbmcuanM/OTRkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnZhbGlkYXRlR2VuZXJhdGlvbkNvbmZpZyA9IGV4cG9ydHMudmFsaWRhdGVHZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0ID0gZXhwb3J0cy5mb3JtYXRDb250ZW50UmVxdWVzdCA9IHZvaWQgMDtcbmNvbnN0IGNvbnN0YW50cyA9IHJlcXVpcmUoXCIuLi91dGlsL2NvbnN0YW50c1wiKTtcbmZ1bmN0aW9uIGZvcm1hdENvbnRlbnRSZXF1ZXN0KHJlcXVlc3QsIGdlbmVyYXRpb25Db25maWcsIHNhZmV0eVNldHRpbmdzKSB7XG4gICAgaWYgKHR5cGVvZiByZXF1ZXN0ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29udGVudHM6IFt7IHJvbGU6IGNvbnN0YW50cy5VU0VSX1JPTEUsIHBhcnRzOiBbeyB0ZXh0OiByZXF1ZXN0IH1dIH1dLFxuICAgICAgICAgICAgZ2VuZXJhdGlvbkNvbmZpZzogZ2VuZXJhdGlvbkNvbmZpZyxcbiAgICAgICAgICAgIHNhZmV0eVNldHRpbmdzOiBzYWZldHlTZXR0aW5ncyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgIH1cbn1cbmV4cG9ydHMuZm9ybWF0Q29udGVudFJlcXVlc3QgPSBmb3JtYXRDb250ZW50UmVxdWVzdDtcbmZ1bmN0aW9uIHZhbGlkYXRlR2VuZXJhdGVDb250ZW50UmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgY29uc3QgY29udGVudHMgPSByZXF1ZXN0LmNvbnRlbnRzO1xuICAgIGZvciAoY29uc3QgY29udGVudCBvZiBjb250ZW50cykge1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgY29udGVudC5wYXJ0cykge1xuICAgICAgICAgICAgaWYgKCdmaWxlRGF0YScgaW4gcGFydCkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBjb25zdCB1cmkgPSBwYXJ0WydmaWxlRGF0YSddWydmaWxlVXJpJ107XG4gICAgICAgICAgICAgICAgaWYgKCF1cmkuc3RhcnRzV2l0aCgnZ3M6Ly8nKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVVJJRXJyb3IoYEZvdW5kIGludmFsaWQgR29vZ2xlIENsb3VkIFN0b3JhZ2UgVVJJICR7dXJpfSwgR29vZ2xlIENsb3VkIFN0b3JhZ2UgVVJJcyBtdXN0IHN0YXJ0IHdpdGggZ3M6Ly9gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLnZhbGlkYXRlR2VuZXJhdGVDb250ZW50UmVxdWVzdCA9IHZhbGlkYXRlR2VuZXJhdGVDb250ZW50UmVxdWVzdDtcbmZ1bmN0aW9uIHZhbGlkYXRlR2VuZXJhdGlvbkNvbmZpZyhnZW5lcmF0aW9uQ29uZmlnKSB7XG4gICAgaWYgKCd0b3BLJyBpbiBnZW5lcmF0aW9uQ29uZmlnKSB7XG4gICAgICAgIGlmICghKGdlbmVyYXRpb25Db25maWcudG9wSyA+IDApIHx8ICEoZ2VuZXJhdGlvbkNvbmZpZy50b3BLIDw9IDQwKSkge1xuICAgICAgICAgICAgZGVsZXRlIGdlbmVyYXRpb25Db25maWcudG9wSztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ2VuZXJhdGlvbkNvbmZpZztcbn1cbmV4cG9ydHMudmFsaWRhdGVHZW5lcmF0aW9uQ29uZmlnID0gdmFsaWRhdGVHZW5lcmF0aW9uQ29uZmlnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJlX2ZldGNoX3Byb2Nlc3NpbmcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/pre_fetch_processing.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/index.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VertexAI = void 0;\nvar vertex_ai_1 = __webpack_require__(/*! ./vertex_ai */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/vertex_ai.js\");\nObject.defineProperty(exports, \"VertexAI\", ({ enumerable: true, get: function () { return vertex_ai_1.VertexAI; } }));\n__exportStar(__webpack_require__(/*! ./types */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/index.js\"), exports);\n__exportStar(__webpack_require__(/*! ./models */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/index.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQkFBZ0I7QUFDaEIsa0JBQWtCLG1CQUFPLENBQUMsdUZBQWE7QUFDdkMsNENBQTJDLEVBQUUscUNBQXFDLGdDQUFnQyxFQUFDO0FBQ25ILGFBQWEsbUJBQU8sQ0FBQyxxRkFBUztBQUM5QixhQUFhLG1CQUFPLENBQUMsdUZBQVU7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWl6bm90ZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlLWNsb3VkL3ZlcnRleGFpL2J1aWxkL3NyYy9pbmRleC5qcz9mZjYwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjMgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5WZXJ0ZXhBSSA9IHZvaWQgMDtcbnZhciB2ZXJ0ZXhfYWlfMSA9IHJlcXVpcmUoXCIuL3ZlcnRleF9haVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlZlcnRleEFJXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB2ZXJ0ZXhfYWlfMS5WZXJ0ZXhBSTsgfSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi90eXBlc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vbW9kZWxzXCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/chat_session.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/models/chat_session.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ChatSessionPreview = exports.ChatSession = void 0;\nconst generate_content_1 = __webpack_require__(/*! ../functions/generate_content */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/generate_content.js\");\nconst errors_1 = __webpack_require__(/*! ../types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\nconst util_1 = __webpack_require__(/*! ../util */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/index.js\");\n/**\n * The `ChatSession` class is used to make multiturn send message requests. You\n * can instantiate this class by using the `startChat` method in the\n * `GenerativeModel` class. The `sendMessage` method makes an async call to get\n * the response of a chat message at at once. The `sendMessageStream` method\n * makes an async call to stream the response of a chat message as it's being\n * generated.\n */\nclass ChatSession {\n    async getHistory() {\n        return Promise.resolve(this.historyInternal);\n    }\n    /**\n     * @constructor\n     * @param request - {@link StartChatSessionRequest}\n     */\n    constructor(request, requestOptions) {\n        var _a;\n        this.sendStreamPromise = Promise.resolve();\n        this.project = request.project;\n        this.location = request.location;\n        this.googleAuth = request.googleAuth;\n        this.publisherModelEndpoint = request.publisherModelEndpoint;\n        this.historyInternal = (_a = request.history) !== null && _a !== void 0 ? _a : [];\n        this.generationConfig = request.generationConfig;\n        this.safetySettings = request.safetySettings;\n        this.tools = request.tools;\n        this.apiEndpoint = request.apiEndpoint;\n        this.requestOptions = requestOptions !== null && requestOptions !== void 0 ? requestOptions : {};\n        if (request.systemInstruction) {\n            request.systemInstruction.role = util_1.constants.SYSTEM_ROLE;\n        }\n        this.systemInstruction = request.systemInstruction;\n    }\n    /**\n     * Gets access token from GoogleAuth. Throws {@link GoogleAuthError} when\n     * fails.\n     * @returns Promise of token.\n     */\n    fetchToken() {\n        const tokenPromise = this.googleAuth.getAccessToken().catch(e => {\n            throw new errors_1.GoogleAuthError(util_1.constants.CREDENTIAL_ERROR_MESSAGE, e);\n        });\n        return tokenPromise;\n    }\n    /**\n     * Makes an async call to send chat message.\n     *\n     * The response is returned in {@link\n     * GenerateContentResult.response}.\n     *\n     * @example\n     * ```\n     * const chat = generativeModel.startChat();\n     * const result1 = await chat.sendMessage(\"How can I learn more about Node.js?\");\n     * console.log('Response: ', JSON.stringify(result1.response));\n     *\n     * const result2 = await chat.sendMessage(\"What about python?\");\n     * console.log('Response: ', JSON.stringify(result2.response));\n     * ```\n     *\n     * @param request - send message request.\n     * @returns Promise of {@link GenerateContentResult}.\n     */\n    async sendMessage(request) {\n        const newContent = formulateNewContentFromSendMessageRequest(request);\n        const generateContentrequest = {\n            contents: this.historyInternal.concat(newContent),\n            safetySettings: this.safetySettings,\n            generationConfig: this.generationConfig,\n            tools: this.tools,\n            systemInstruction: this.systemInstruction,\n        };\n        const generateContentResult = await (0, generate_content_1.generateContent)(this.location, this.project, this.publisherModelEndpoint, this.fetchToken(), generateContentrequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.requestOptions).catch(e => {\n            throw e;\n        });\n        const generateContentResponse = await generateContentResult.response;\n        // Only push the latest message to history if the response returns a result\n        if (generateContentResponse.candidates &&\n            generateContentResponse.candidates.length !== 0) {\n            this.historyInternal = this.historyInternal.concat(newContent);\n            const contentFromModel = generateContentResponse.candidates[0].content;\n            this.historyInternal.push(contentFromModel);\n        }\n        return Promise.resolve(generateContentResult);\n    }\n    async appendHistory(streamGenerateContentResultPromise, newContent) {\n        const streamGenerateContentResult = await streamGenerateContentResultPromise;\n        const streamGenerateContentResponse = await streamGenerateContentResult.response;\n        // Only push the latest message to history if the response returned a result\n        if (streamGenerateContentResponse.candidates &&\n            streamGenerateContentResponse.candidates.length !== 0) {\n            this.historyInternal = this.historyInternal.concat(newContent);\n            const contentFromModel = streamGenerateContentResponse.candidates[0].content;\n            this.historyInternal.push(contentFromModel);\n        }\n    }\n    /**\n     * Makes an async call to stream send message.\n     *\n     * The response is streamed chunk by chunk in\n     * {@link StreamGenerateContentResult.stream}. The aggregated response is\n     * avaliable in {@link StreamGenerateContentResult.response} after all chunks\n     * are returned.\n     *\n     * @example\n     * ```\n     * const chat = generativeModel.startChat();\n     * const chatInput = \"How can I learn more about Node.js?\";\n     * const result = await chat.sendMessageStream(chatInput);\n     * for await (const item of result.stream) {\n     *   console.log(item.candidates[0].content.parts[0].text);\n     * }\n     * const response = await result.response;\n     * console.log('aggregated response: ', JSON.stringify(result.response));\n     * ```\n     *\n     * @param request - send message request.\n     * @returns Promise of {@link StreamGenerateContentResult}.\n     */\n    async sendMessageStream(request) {\n        const newContent = formulateNewContentFromSendMessageRequest(request);\n        const generateContentrequest = {\n            contents: this.historyInternal.concat(newContent),\n            safetySettings: this.safetySettings,\n            generationConfig: this.generationConfig,\n            tools: this.tools,\n            systemInstruction: this.systemInstruction,\n        };\n        const streamGenerateContentResultPromise = (0, generate_content_1.generateContentStream)(this.location, this.project, this.publisherModelEndpoint, this.fetchToken(), generateContentrequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.requestOptions).catch(e => {\n            throw e;\n        });\n        this.sendStreamPromise = this.appendHistory(streamGenerateContentResultPromise, newContent).catch(e => {\n            throw new errors_1.GoogleGenerativeAIError('exception appending chat history', e);\n        });\n        return streamGenerateContentResultPromise;\n    }\n}\nexports.ChatSession = ChatSession;\n/**\n * The `ChatSessionPreview` class is used to make multiturn send message requests. You\n * can instantiate this class by using the `startChat` method in the\n * `GenerativeModelPreview` class. The `sendMessage` method makes an async call to get\n * the response of a chat message at at once. The `sendMessageStream` method\n * makes an async call to stream the response of a chat message as it's being\n * generated.\n */\nclass ChatSessionPreview {\n    async getHistory() {\n        return Promise.resolve(this.historyInternal);\n    }\n    /**\n     * @constructor\n     * @param request - {@link StartChatSessionRequest}\n     */\n    constructor(request, requestOptions) {\n        var _a;\n        this.sendStreamPromise = Promise.resolve();\n        this.project = request.project;\n        this.location = request.location;\n        this.googleAuth = request.googleAuth;\n        this.publisherModelEndpoint = request.publisherModelEndpoint;\n        this.historyInternal = (_a = request.history) !== null && _a !== void 0 ? _a : [];\n        this.generationConfig = request.generationConfig;\n        this.safetySettings = request.safetySettings;\n        this.tools = request.tools;\n        this.apiEndpoint = request.apiEndpoint;\n        this.requestOptions = requestOptions !== null && requestOptions !== void 0 ? requestOptions : {};\n        if (request.systemInstruction) {\n            request.systemInstruction.role = util_1.constants.SYSTEM_ROLE;\n        }\n        this.systemInstruction = request.systemInstruction;\n    }\n    /**\n     * Gets access token from GoogleAuth. Throws GoogleAuthError when fails.\n     * @returns Promise of token.\n     */\n    fetchToken() {\n        const tokenPromise = this.googleAuth.getAccessToken().catch(e => {\n            throw new errors_1.GoogleAuthError(util_1.constants.CREDENTIAL_ERROR_MESSAGE, e);\n        });\n        return tokenPromise;\n    }\n    /**\n     * Makes an async call to send chat message.\n     *\n     * The response is returned in {@link\n     * GenerateContentResult.response}.\n     *\n     * @example\n     * ```\n     * const chat = generativeModelPreview.startChat();\n     * const result1 = await chat.sendMessage(\"How can I learn more about Node.js?\");\n     * console.log('Response: ', JSON.stringify(result1.response));\n     *\n     * const result2 = await chat.sendMessage(\"What about python?\");\n     * console.log('Response: ', JSON.stringify(result2.response));\n     * ```\n     *\n     * @param request - send message request.\n     * @returns Promise of {@link GenerateContentResult}.\n     */\n    async sendMessage(request) {\n        const newContent = formulateNewContentFromSendMessageRequest(request);\n        const generateContentrequest = {\n            contents: this.historyInternal.concat(newContent),\n            safetySettings: this.safetySettings,\n            generationConfig: this.generationConfig,\n            tools: this.tools,\n            systemInstruction: this.systemInstruction,\n        };\n        const generateContentResult = await (0, generate_content_1.generateContent)(this.location, this.project, this.publisherModelEndpoint, this.fetchToken(), generateContentrequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.requestOptions).catch(e => {\n            throw e;\n        });\n        const generateContentResponse = await generateContentResult.response;\n        // Only push the latest message to history if the response returned a result\n        if (generateContentResponse.candidates &&\n            generateContentResponse.candidates.length !== 0) {\n            this.historyInternal = this.historyInternal.concat(newContent);\n            const contentFromAssistant = generateContentResponse.candidates[0].content;\n            this.historyInternal.push(contentFromAssistant);\n        }\n        return Promise.resolve(generateContentResult);\n    }\n    async appendHistory(streamGenerateContentResultPromise, newContent) {\n        const streamGenerateContentResult = await streamGenerateContentResultPromise;\n        const streamGenerateContentResponse = await streamGenerateContentResult.response;\n        // Only push the latest message to history if the response returned a result\n        if (streamGenerateContentResponse.candidates &&\n            streamGenerateContentResponse.candidates.length !== 0) {\n            this.historyInternal = this.historyInternal.concat(newContent);\n            const contentFromAssistant = streamGenerateContentResponse.candidates[0].content;\n            this.historyInternal.push(contentFromAssistant);\n        }\n    }\n    /**\n     * Makes an async call to stream send message.\n     *\n     * The response is streamed chunk by chunk in\n     * {@link StreamGenerateContentResult.stream}. The aggregated response is\n     * avaliable in {@link StreamGenerateContentResult.response} after all chunks\n     * are returned.\n     *\n     * @example\n     * ```\n     * const chat = generativeModel.startChat();\n     * const chatInput = \"How can I learn more about Node.js?\";\n     * const result = await chat.sendMessageStream(chatInput);\n     * for await (const item of result.stream) {\n     *   console.log(item.candidates[0].content.parts[0].text);\n     * }\n     * const response = await result.response;\n     * console.log('aggregated response: ', JSON.stringify(result.response));\n     * ```\n     *\n     * @param request - send message request.\n     * @returns Promise of {@link StreamGenerateContentResult}.\n     */\n    async sendMessageStream(request) {\n        const newContent = formulateNewContentFromSendMessageRequest(request);\n        const generateContentrequest = {\n            contents: this.historyInternal.concat(newContent),\n            safetySettings: this.safetySettings,\n            generationConfig: this.generationConfig,\n            tools: this.tools,\n            systemInstruction: this.systemInstruction,\n        };\n        const streamGenerateContentResultPromise = (0, generate_content_1.generateContentStream)(this.location, this.project, this.publisherModelEndpoint, this.fetchToken(), generateContentrequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.requestOptions).catch(e => {\n            throw e;\n        });\n        this.sendStreamPromise = this.appendHistory(streamGenerateContentResultPromise, newContent);\n        return streamGenerateContentResultPromise;\n    }\n}\nexports.ChatSessionPreview = ChatSessionPreview;\nfunction formulateNewContentFromSendMessageRequest(request) {\n    let newParts = [];\n    if (typeof request === 'string') {\n        newParts = [{ text: request }];\n    }\n    else if (Array.isArray(request)) {\n        for (const item of request) {\n            if (typeof item === 'string') {\n                newParts.push({ text: item });\n            }\n            else {\n                newParts.push(item);\n            }\n        }\n    }\n    return assignRoleToPartsAndValidateSendMessageRequest(newParts);\n}\n/**\n * When multiple Part types (i.e. FunctionResponsePart and TextPart) are\n * passed in a single Part array, we may need to assign different roles to each\n * part. Currently only FunctionResponsePart requires a role other than 'user'.\n * @ignore\n * @param parts Array of parts to pass to the model\n * @returns Array of content items\n */\nfunction assignRoleToPartsAndValidateSendMessageRequest(parts) {\n    const userContent = { role: util_1.constants.USER_ROLE, parts: [] };\n    const functionContent = { role: util_1.constants.USER_ROLE, parts: [] };\n    let hasUserContent = false;\n    let hasFunctionContent = false;\n    for (const part of parts) {\n        if ('functionResponse' in part) {\n            functionContent.parts.push(part);\n            hasFunctionContent = true;\n        }\n        else {\n            userContent.parts.push(part);\n            hasUserContent = true;\n        }\n    }\n    if (hasUserContent && hasFunctionContent) {\n        throw new errors_1.ClientError('Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.');\n    }\n    if (!hasUserContent && !hasFunctionContent) {\n        throw new errors_1.ClientError('No content is provided for sending chat message.');\n    }\n    if (hasUserContent) {\n        return [userContent];\n    }\n    return [functionContent];\n}\n//# sourceMappingURL=chat_session.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvbW9kZWxzL2NoYXRfc2Vzc2lvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixHQUFHLG1CQUFtQjtBQUNoRCwyQkFBMkIsbUJBQU8sQ0FBQywwSEFBK0I7QUFDbEUsaUJBQWlCLG1CQUFPLENBQUMsOEZBQWlCO0FBQzFDLGVBQWUsbUJBQU8sQ0FBQyxvRkFBUztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsdUJBQXVCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNEJBQTRCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEseUNBQXlDO0FBQ2pELHFCQUFxQiw0Q0FBNEM7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGtDQUFrQztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0QkFBNEI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx5Q0FBeUM7QUFDakQscUJBQXFCLDRDQUE0QztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0NBQWtDO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxZQUFZO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3F1aXpub3RlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUtY2xvdWQvdmVydGV4YWkvYnVpbGQvc3JjL21vZGVscy9jaGF0X3Nlc3Npb24uanM/ZDE3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNoYXRTZXNzaW9uUHJldmlldyA9IGV4cG9ydHMuQ2hhdFNlc3Npb24gPSB2b2lkIDA7XG5jb25zdCBnZW5lcmF0ZV9jb250ZW50XzEgPSByZXF1aXJlKFwiLi4vZnVuY3Rpb25zL2dlbmVyYXRlX2NvbnRlbnRcIik7XG5jb25zdCBlcnJvcnNfMSA9IHJlcXVpcmUoXCIuLi90eXBlcy9lcnJvcnNcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vdXRpbFwiKTtcbi8qKlxuICogVGhlIGBDaGF0U2Vzc2lvbmAgY2xhc3MgaXMgdXNlZCB0byBtYWtlIG11bHRpdHVybiBzZW5kIG1lc3NhZ2UgcmVxdWVzdHMuIFlvdVxuICogY2FuIGluc3RhbnRpYXRlIHRoaXMgY2xhc3MgYnkgdXNpbmcgdGhlIGBzdGFydENoYXRgIG1ldGhvZCBpbiB0aGVcbiAqIGBHZW5lcmF0aXZlTW9kZWxgIGNsYXNzLiBUaGUgYHNlbmRNZXNzYWdlYCBtZXRob2QgbWFrZXMgYW4gYXN5bmMgY2FsbCB0byBnZXRcbiAqIHRoZSByZXNwb25zZSBvZiBhIGNoYXQgbWVzc2FnZSBhdCBhdCBvbmNlLiBUaGUgYHNlbmRNZXNzYWdlU3RyZWFtYCBtZXRob2RcbiAqIG1ha2VzIGFuIGFzeW5jIGNhbGwgdG8gc3RyZWFtIHRoZSByZXNwb25zZSBvZiBhIGNoYXQgbWVzc2FnZSBhcyBpdCdzIGJlaW5nXG4gKiBnZW5lcmF0ZWQuXG4gKi9cbmNsYXNzIENoYXRTZXNzaW9uIHtcbiAgICBhc3luYyBnZXRIaXN0b3J5KCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuaGlzdG9yeUludGVybmFsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSB7QGxpbmsgU3RhcnRDaGF0U2Vzc2lvblJlcXVlc3R9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVxdWVzdCwgcmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnNlbmRTdHJlYW1Qcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHJlcXVlc3QucHJvamVjdDtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IHJlcXVlc3QubG9jYXRpb247XG4gICAgICAgIHRoaXMuZ29vZ2xlQXV0aCA9IHJlcXVlc3QuZ29vZ2xlQXV0aDtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXJNb2RlbEVuZHBvaW50ID0gcmVxdWVzdC5wdWJsaXNoZXJNb2RlbEVuZHBvaW50O1xuICAgICAgICB0aGlzLmhpc3RvcnlJbnRlcm5hbCA9IChfYSA9IHJlcXVlc3QuaGlzdG9yeSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgICAgIHRoaXMuZ2VuZXJhdGlvbkNvbmZpZyA9IHJlcXVlc3QuZ2VuZXJhdGlvbkNvbmZpZztcbiAgICAgICAgdGhpcy5zYWZldHlTZXR0aW5ncyA9IHJlcXVlc3Quc2FmZXR5U2V0dGluZ3M7XG4gICAgICAgIHRoaXMudG9vbHMgPSByZXF1ZXN0LnRvb2xzO1xuICAgICAgICB0aGlzLmFwaUVuZHBvaW50ID0gcmVxdWVzdC5hcGlFbmRwb2ludDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0T3B0aW9ucyA9IHJlcXVlc3RPcHRpb25zICE9PSBudWxsICYmIHJlcXVlc3RPcHRpb25zICE9PSB2b2lkIDAgPyByZXF1ZXN0T3B0aW9ucyA6IHt9O1xuICAgICAgICBpZiAocmVxdWVzdC5zeXN0ZW1JbnN0cnVjdGlvbikge1xuICAgICAgICAgICAgcmVxdWVzdC5zeXN0ZW1JbnN0cnVjdGlvbi5yb2xlID0gdXRpbF8xLmNvbnN0YW50cy5TWVNURU1fUk9MRTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN5c3RlbUluc3RydWN0aW9uID0gcmVxdWVzdC5zeXN0ZW1JbnN0cnVjdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhY2Nlc3MgdG9rZW4gZnJvbSBHb29nbGVBdXRoLiBUaHJvd3Mge0BsaW5rIEdvb2dsZUF1dGhFcnJvcn0gd2hlblxuICAgICAqIGZhaWxzLlxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugb2YgdG9rZW4uXG4gICAgICovXG4gICAgZmV0Y2hUb2tlbigpIHtcbiAgICAgICAgY29uc3QgdG9rZW5Qcm9taXNlID0gdGhpcy5nb29nbGVBdXRoLmdldEFjY2Vzc1Rva2VuKCkuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuR29vZ2xlQXV0aEVycm9yKHV0aWxfMS5jb25zdGFudHMuQ1JFREVOVElBTF9FUlJPUl9NRVNTQUdFLCBlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0b2tlblByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2VzIGFuIGFzeW5jIGNhbGwgdG8gc2VuZCBjaGF0IG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBUaGUgcmVzcG9uc2UgaXMgcmV0dXJuZWQgaW4ge0BsaW5rXG4gICAgICogR2VuZXJhdGVDb250ZW50UmVzdWx0LnJlc3BvbnNlfS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgXG4gICAgICogY29uc3QgY2hhdCA9IGdlbmVyYXRpdmVNb2RlbC5zdGFydENoYXQoKTtcbiAgICAgKiBjb25zdCByZXN1bHQxID0gYXdhaXQgY2hhdC5zZW5kTWVzc2FnZShcIkhvdyBjYW4gSSBsZWFybiBtb3JlIGFib3V0IE5vZGUuanM/XCIpO1xuICAgICAqIGNvbnNvbGUubG9nKCdSZXNwb25zZTogJywgSlNPTi5zdHJpbmdpZnkocmVzdWx0MS5yZXNwb25zZSkpO1xuICAgICAqXG4gICAgICogY29uc3QgcmVzdWx0MiA9IGF3YWl0IGNoYXQuc2VuZE1lc3NhZ2UoXCJXaGF0IGFib3V0IHB5dGhvbj9cIik7XG4gICAgICogY29uc29sZS5sb2coJ1Jlc3BvbnNlOiAnLCBKU09OLnN0cmluZ2lmeShyZXN1bHQyLnJlc3BvbnNlKSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIHNlbmQgbWVzc2FnZSByZXF1ZXN0LlxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugb2Yge0BsaW5rIEdlbmVyYXRlQ29udGVudFJlc3VsdH0uXG4gICAgICovXG4gICAgYXN5bmMgc2VuZE1lc3NhZ2UocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBuZXdDb250ZW50ID0gZm9ybXVsYXRlTmV3Q29udGVudEZyb21TZW5kTWVzc2FnZVJlcXVlc3QocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlQ29udGVudHJlcXVlc3QgPSB7XG4gICAgICAgICAgICBjb250ZW50czogdGhpcy5oaXN0b3J5SW50ZXJuYWwuY29uY2F0KG5ld0NvbnRlbnQpLFxuICAgICAgICAgICAgc2FmZXR5U2V0dGluZ3M6IHRoaXMuc2FmZXR5U2V0dGluZ3MsXG4gICAgICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiB0aGlzLmdlbmVyYXRpb25Db25maWcsXG4gICAgICAgICAgICB0b29sczogdGhpcy50b29scyxcbiAgICAgICAgICAgIHN5c3RlbUluc3RydWN0aW9uOiB0aGlzLnN5c3RlbUluc3RydWN0aW9uLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBnZW5lcmF0ZUNvbnRlbnRSZXN1bHQgPSBhd2FpdCAoMCwgZ2VuZXJhdGVfY29udGVudF8xLmdlbmVyYXRlQ29udGVudCkodGhpcy5sb2NhdGlvbiwgdGhpcy5wcm9qZWN0LCB0aGlzLnB1Ymxpc2hlck1vZGVsRW5kcG9pbnQsIHRoaXMuZmV0Y2hUb2tlbigpLCBnZW5lcmF0ZUNvbnRlbnRyZXF1ZXN0LCB0aGlzLmFwaUVuZHBvaW50LCB0aGlzLmdlbmVyYXRpb25Db25maWcsIHRoaXMuc2FmZXR5U2V0dGluZ3MsIHRoaXMudG9vbHMsIHRoaXMucmVxdWVzdE9wdGlvbnMpLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlQ29udGVudFJlc3BvbnNlID0gYXdhaXQgZ2VuZXJhdGVDb250ZW50UmVzdWx0LnJlc3BvbnNlO1xuICAgICAgICAvLyBPbmx5IHB1c2ggdGhlIGxhdGVzdCBtZXNzYWdlIHRvIGhpc3RvcnkgaWYgdGhlIHJlc3BvbnNlIHJldHVybnMgYSByZXN1bHRcbiAgICAgICAgaWYgKGdlbmVyYXRlQ29udGVudFJlc3BvbnNlLmNhbmRpZGF0ZXMgJiZcbiAgICAgICAgICAgIGdlbmVyYXRlQ29udGVudFJlc3BvbnNlLmNhbmRpZGF0ZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmhpc3RvcnlJbnRlcm5hbCA9IHRoaXMuaGlzdG9yeUludGVybmFsLmNvbmNhdChuZXdDb250ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRGcm9tTW9kZWwgPSBnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZS5jYW5kaWRhdGVzWzBdLmNvbnRlbnQ7XG4gICAgICAgICAgICB0aGlzLmhpc3RvcnlJbnRlcm5hbC5wdXNoKGNvbnRlbnRGcm9tTW9kZWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZ2VuZXJhdGVDb250ZW50UmVzdWx0KTtcbiAgICB9XG4gICAgYXN5bmMgYXBwZW5kSGlzdG9yeShzdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXN1bHRQcm9taXNlLCBuZXdDb250ZW50KSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdCA9IGF3YWl0IHN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdFByb21pc2U7XG4gICAgICAgIGNvbnN0IHN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3BvbnNlID0gYXdhaXQgc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0LnJlc3BvbnNlO1xuICAgICAgICAvLyBPbmx5IHB1c2ggdGhlIGxhdGVzdCBtZXNzYWdlIHRvIGhpc3RvcnkgaWYgdGhlIHJlc3BvbnNlIHJldHVybmVkIGEgcmVzdWx0XG4gICAgICAgIGlmIChzdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZS5jYW5kaWRhdGVzICYmXG4gICAgICAgICAgICBzdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZS5jYW5kaWRhdGVzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5oaXN0b3J5SW50ZXJuYWwgPSB0aGlzLmhpc3RvcnlJbnRlcm5hbC5jb25jYXQobmV3Q29udGVudCk7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50RnJvbU1vZGVsID0gc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzcG9uc2UuY2FuZGlkYXRlc1swXS5jb250ZW50O1xuICAgICAgICAgICAgdGhpcy5oaXN0b3J5SW50ZXJuYWwucHVzaChjb250ZW50RnJvbU1vZGVsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhbiBhc3luYyBjYWxsIHRvIHN0cmVhbSBzZW5kIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBUaGUgcmVzcG9uc2UgaXMgc3RyZWFtZWQgY2h1bmsgYnkgY2h1bmsgaW5cbiAgICAgKiB7QGxpbmsgU3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0LnN0cmVhbX0uIFRoZSBhZ2dyZWdhdGVkIHJlc3BvbnNlIGlzXG4gICAgICogYXZhbGlhYmxlIGluIHtAbGluayBTdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXN1bHQucmVzcG9uc2V9IGFmdGVyIGFsbCBjaHVua3NcbiAgICAgKiBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IGNoYXQgPSBnZW5lcmF0aXZlTW9kZWwuc3RhcnRDaGF0KCk7XG4gICAgICogY29uc3QgY2hhdElucHV0ID0gXCJIb3cgY2FuIEkgbGVhcm4gbW9yZSBhYm91dCBOb2RlLmpzP1wiO1xuICAgICAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoYXQuc2VuZE1lc3NhZ2VTdHJlYW0oY2hhdElucHV0KTtcbiAgICAgKiBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgcmVzdWx0LnN0cmVhbSkge1xuICAgICAqICAgY29uc29sZS5sb2coaXRlbS5jYW5kaWRhdGVzWzBdLmNvbnRlbnQucGFydHNbMF0udGV4dCk7XG4gICAgICogfVxuICAgICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVzdWx0LnJlc3BvbnNlO1xuICAgICAqIGNvbnNvbGUubG9nKCdhZ2dyZWdhdGVkIHJlc3BvbnNlOiAnLCBKU09OLnN0cmluZ2lmeShyZXN1bHQucmVzcG9uc2UpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0gc2VuZCBtZXNzYWdlIHJlcXVlc3QuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSBvZiB7QGxpbmsgU3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0fS5cbiAgICAgKi9cbiAgICBhc3luYyBzZW5kTWVzc2FnZVN0cmVhbShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBmb3JtdWxhdGVOZXdDb250ZW50RnJvbVNlbmRNZXNzYWdlUmVxdWVzdChyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVDb250ZW50cmVxdWVzdCA9IHtcbiAgICAgICAgICAgIGNvbnRlbnRzOiB0aGlzLmhpc3RvcnlJbnRlcm5hbC5jb25jYXQobmV3Q29udGVudCksXG4gICAgICAgICAgICBzYWZldHlTZXR0aW5nczogdGhpcy5zYWZldHlTZXR0aW5ncyxcbiAgICAgICAgICAgIGdlbmVyYXRpb25Db25maWc6IHRoaXMuZ2VuZXJhdGlvbkNvbmZpZyxcbiAgICAgICAgICAgIHRvb2xzOiB0aGlzLnRvb2xzLFxuICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IHRoaXMuc3lzdGVtSW5zdHJ1Y3Rpb24sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdFByb21pc2UgPSAoMCwgZ2VuZXJhdGVfY29udGVudF8xLmdlbmVyYXRlQ29udGVudFN0cmVhbSkodGhpcy5sb2NhdGlvbiwgdGhpcy5wcm9qZWN0LCB0aGlzLnB1Ymxpc2hlck1vZGVsRW5kcG9pbnQsIHRoaXMuZmV0Y2hUb2tlbigpLCBnZW5lcmF0ZUNvbnRlbnRyZXF1ZXN0LCB0aGlzLmFwaUVuZHBvaW50LCB0aGlzLmdlbmVyYXRpb25Db25maWcsIHRoaXMuc2FmZXR5U2V0dGluZ3MsIHRoaXMudG9vbHMsIHRoaXMucmVxdWVzdE9wdGlvbnMpLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZFN0cmVhbVByb21pc2UgPSB0aGlzLmFwcGVuZEhpc3Rvcnkoc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0UHJvbWlzZSwgbmV3Q29udGVudCkuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IoJ2V4Y2VwdGlvbiBhcHBlbmRpbmcgY2hhdCBoaXN0b3J5JywgZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0UHJvbWlzZTtcbiAgICB9XG59XG5leHBvcnRzLkNoYXRTZXNzaW9uID0gQ2hhdFNlc3Npb247XG4vKipcbiAqIFRoZSBgQ2hhdFNlc3Npb25QcmV2aWV3YCBjbGFzcyBpcyB1c2VkIHRvIG1ha2UgbXVsdGl0dXJuIHNlbmQgbWVzc2FnZSByZXF1ZXN0cy4gWW91XG4gKiBjYW4gaW5zdGFudGlhdGUgdGhpcyBjbGFzcyBieSB1c2luZyB0aGUgYHN0YXJ0Q2hhdGAgbWV0aG9kIGluIHRoZVxuICogYEdlbmVyYXRpdmVNb2RlbFByZXZpZXdgIGNsYXNzLiBUaGUgYHNlbmRNZXNzYWdlYCBtZXRob2QgbWFrZXMgYW4gYXN5bmMgY2FsbCB0byBnZXRcbiAqIHRoZSByZXNwb25zZSBvZiBhIGNoYXQgbWVzc2FnZSBhdCBhdCBvbmNlLiBUaGUgYHNlbmRNZXNzYWdlU3RyZWFtYCBtZXRob2RcbiAqIG1ha2VzIGFuIGFzeW5jIGNhbGwgdG8gc3RyZWFtIHRoZSByZXNwb25zZSBvZiBhIGNoYXQgbWVzc2FnZSBhcyBpdCdzIGJlaW5nXG4gKiBnZW5lcmF0ZWQuXG4gKi9cbmNsYXNzIENoYXRTZXNzaW9uUHJldmlldyB7XG4gICAgYXN5bmMgZ2V0SGlzdG9yeSgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmhpc3RvcnlJbnRlcm5hbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0ge0BsaW5rIFN0YXJ0Q2hhdFNlc3Npb25SZXF1ZXN0fVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlcXVlc3QsIHJlcXVlc3RPcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5zZW5kU3RyZWFtUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB0aGlzLnByb2plY3QgPSByZXF1ZXN0LnByb2plY3Q7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSByZXF1ZXN0LmxvY2F0aW9uO1xuICAgICAgICB0aGlzLmdvb2dsZUF1dGggPSByZXF1ZXN0Lmdvb2dsZUF1dGg7XG4gICAgICAgIHRoaXMucHVibGlzaGVyTW9kZWxFbmRwb2ludCA9IHJlcXVlc3QucHVibGlzaGVyTW9kZWxFbmRwb2ludDtcbiAgICAgICAgdGhpcy5oaXN0b3J5SW50ZXJuYWwgPSAoX2EgPSByZXF1ZXN0Lmhpc3RvcnkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICB0aGlzLmdlbmVyYXRpb25Db25maWcgPSByZXF1ZXN0LmdlbmVyYXRpb25Db25maWc7XG4gICAgICAgIHRoaXMuc2FmZXR5U2V0dGluZ3MgPSByZXF1ZXN0LnNhZmV0eVNldHRpbmdzO1xuICAgICAgICB0aGlzLnRvb2xzID0gcmVxdWVzdC50b29scztcbiAgICAgICAgdGhpcy5hcGlFbmRwb2ludCA9IHJlcXVlc3QuYXBpRW5kcG9pbnQ7XG4gICAgICAgIHRoaXMucmVxdWVzdE9wdGlvbnMgPSByZXF1ZXN0T3B0aW9ucyAhPT0gbnVsbCAmJiByZXF1ZXN0T3B0aW9ucyAhPT0gdm9pZCAwID8gcmVxdWVzdE9wdGlvbnMgOiB7fTtcbiAgICAgICAgaWYgKHJlcXVlc3Quc3lzdGVtSW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgICAgIHJlcXVlc3Quc3lzdGVtSW5zdHJ1Y3Rpb24ucm9sZSA9IHV0aWxfMS5jb25zdGFudHMuU1lTVEVNX1JPTEU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zeXN0ZW1JbnN0cnVjdGlvbiA9IHJlcXVlc3Quc3lzdGVtSW5zdHJ1Y3Rpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWNjZXNzIHRva2VuIGZyb20gR29vZ2xlQXV0aC4gVGhyb3dzIEdvb2dsZUF1dGhFcnJvciB3aGVuIGZhaWxzLlxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugb2YgdG9rZW4uXG4gICAgICovXG4gICAgZmV0Y2hUb2tlbigpIHtcbiAgICAgICAgY29uc3QgdG9rZW5Qcm9taXNlID0gdGhpcy5nb29nbGVBdXRoLmdldEFjY2Vzc1Rva2VuKCkuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuR29vZ2xlQXV0aEVycm9yKHV0aWxfMS5jb25zdGFudHMuQ1JFREVOVElBTF9FUlJPUl9NRVNTQUdFLCBlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0b2tlblByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2VzIGFuIGFzeW5jIGNhbGwgdG8gc2VuZCBjaGF0IG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBUaGUgcmVzcG9uc2UgaXMgcmV0dXJuZWQgaW4ge0BsaW5rXG4gICAgICogR2VuZXJhdGVDb250ZW50UmVzdWx0LnJlc3BvbnNlfS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgXG4gICAgICogY29uc3QgY2hhdCA9IGdlbmVyYXRpdmVNb2RlbFByZXZpZXcuc3RhcnRDaGF0KCk7XG4gICAgICogY29uc3QgcmVzdWx0MSA9IGF3YWl0IGNoYXQuc2VuZE1lc3NhZ2UoXCJIb3cgY2FuIEkgbGVhcm4gbW9yZSBhYm91dCBOb2RlLmpzP1wiKTtcbiAgICAgKiBjb25zb2xlLmxvZygnUmVzcG9uc2U6ICcsIEpTT04uc3RyaW5naWZ5KHJlc3VsdDEucmVzcG9uc2UpKTtcbiAgICAgKlxuICAgICAqIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBjaGF0LnNlbmRNZXNzYWdlKFwiV2hhdCBhYm91dCBweXRob24/XCIpO1xuICAgICAqIGNvbnNvbGUubG9nKCdSZXNwb25zZTogJywgSlNPTi5zdHJpbmdpZnkocmVzdWx0Mi5yZXNwb25zZSkpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBzZW5kIG1lc3NhZ2UgcmVxdWVzdC5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIG9mIHtAbGluayBHZW5lcmF0ZUNvbnRlbnRSZXN1bHR9LlxuICAgICAqL1xuICAgIGFzeW5jIHNlbmRNZXNzYWdlKHJlcXVlc3QpIHtcbiAgICAgICAgY29uc3QgbmV3Q29udGVudCA9IGZvcm11bGF0ZU5ld0NvbnRlbnRGcm9tU2VuZE1lc3NhZ2VSZXF1ZXN0KHJlcXVlc3QpO1xuICAgICAgICBjb25zdCBnZW5lcmF0ZUNvbnRlbnRyZXF1ZXN0ID0ge1xuICAgICAgICAgICAgY29udGVudHM6IHRoaXMuaGlzdG9yeUludGVybmFsLmNvbmNhdChuZXdDb250ZW50KSxcbiAgICAgICAgICAgIHNhZmV0eVNldHRpbmdzOiB0aGlzLnNhZmV0eVNldHRpbmdzLFxuICAgICAgICAgICAgZ2VuZXJhdGlvbkNvbmZpZzogdGhpcy5nZW5lcmF0aW9uQ29uZmlnLFxuICAgICAgICAgICAgdG9vbHM6IHRoaXMudG9vbHMsXG4gICAgICAgICAgICBzeXN0ZW1JbnN0cnVjdGlvbjogdGhpcy5zeXN0ZW1JbnN0cnVjdGlvbixcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVDb250ZW50UmVzdWx0ID0gYXdhaXQgKDAsIGdlbmVyYXRlX2NvbnRlbnRfMS5nZW5lcmF0ZUNvbnRlbnQpKHRoaXMubG9jYXRpb24sIHRoaXMucHJvamVjdCwgdGhpcy5wdWJsaXNoZXJNb2RlbEVuZHBvaW50LCB0aGlzLmZldGNoVG9rZW4oKSwgZ2VuZXJhdGVDb250ZW50cmVxdWVzdCwgdGhpcy5hcGlFbmRwb2ludCwgdGhpcy5nZW5lcmF0aW9uQ29uZmlnLCB0aGlzLnNhZmV0eVNldHRpbmdzLCB0aGlzLnRvb2xzLCB0aGlzLnJlcXVlc3RPcHRpb25zKS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSA9IGF3YWl0IGdlbmVyYXRlQ29udGVudFJlc3VsdC5yZXNwb25zZTtcbiAgICAgICAgLy8gT25seSBwdXNoIHRoZSBsYXRlc3QgbWVzc2FnZSB0byBoaXN0b3J5IGlmIHRoZSByZXNwb25zZSByZXR1cm5lZCBhIHJlc3VsdFxuICAgICAgICBpZiAoZ2VuZXJhdGVDb250ZW50UmVzcG9uc2UuY2FuZGlkYXRlcyAmJlxuICAgICAgICAgICAgZ2VuZXJhdGVDb250ZW50UmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeUludGVybmFsID0gdGhpcy5oaXN0b3J5SW50ZXJuYWwuY29uY2F0KG5ld0NvbnRlbnQpO1xuICAgICAgICAgICAgY29uc3QgY29udGVudEZyb21Bc3Npc3RhbnQgPSBnZW5lcmF0ZUNvbnRlbnRSZXNwb25zZS5jYW5kaWRhdGVzWzBdLmNvbnRlbnQ7XG4gICAgICAgICAgICB0aGlzLmhpc3RvcnlJbnRlcm5hbC5wdXNoKGNvbnRlbnRGcm9tQXNzaXN0YW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGdlbmVyYXRlQ29udGVudFJlc3VsdCk7XG4gICAgfVxuICAgIGFzeW5jIGFwcGVuZEhpc3Rvcnkoc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0UHJvbWlzZSwgbmV3Q29udGVudCkge1xuICAgICAgICBjb25zdCBzdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXN1bHQgPSBhd2FpdCBzdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXN1bHRQcm9taXNlO1xuICAgICAgICBjb25zdCBzdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZSA9IGF3YWl0IHN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdC5yZXNwb25zZTtcbiAgICAgICAgLy8gT25seSBwdXNoIHRoZSBsYXRlc3QgbWVzc2FnZSB0byBoaXN0b3J5IGlmIHRoZSByZXNwb25zZSByZXR1cm5lZCBhIHJlc3VsdFxuICAgICAgICBpZiAoc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzcG9uc2UuY2FuZGlkYXRlcyAmJlxuICAgICAgICAgICAgc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzcG9uc2UuY2FuZGlkYXRlcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuaGlzdG9yeUludGVybmFsID0gdGhpcy5oaXN0b3J5SW50ZXJuYWwuY29uY2F0KG5ld0NvbnRlbnQpO1xuICAgICAgICAgICAgY29uc3QgY29udGVudEZyb21Bc3Npc3RhbnQgPSBzdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZS5jYW5kaWRhdGVzWzBdLmNvbnRlbnQ7XG4gICAgICAgICAgICB0aGlzLmhpc3RvcnlJbnRlcm5hbC5wdXNoKGNvbnRlbnRGcm9tQXNzaXN0YW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhbiBhc3luYyBjYWxsIHRvIHN0cmVhbSBzZW5kIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBUaGUgcmVzcG9uc2UgaXMgc3RyZWFtZWQgY2h1bmsgYnkgY2h1bmsgaW5cbiAgICAgKiB7QGxpbmsgU3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0LnN0cmVhbX0uIFRoZSBhZ2dyZWdhdGVkIHJlc3BvbnNlIGlzXG4gICAgICogYXZhbGlhYmxlIGluIHtAbGluayBTdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXN1bHQucmVzcG9uc2V9IGFmdGVyIGFsbCBjaHVua3NcbiAgICAgKiBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IGNoYXQgPSBnZW5lcmF0aXZlTW9kZWwuc3RhcnRDaGF0KCk7XG4gICAgICogY29uc3QgY2hhdElucHV0ID0gXCJIb3cgY2FuIEkgbGVhcm4gbW9yZSBhYm91dCBOb2RlLmpzP1wiO1xuICAgICAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoYXQuc2VuZE1lc3NhZ2VTdHJlYW0oY2hhdElucHV0KTtcbiAgICAgKiBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgcmVzdWx0LnN0cmVhbSkge1xuICAgICAqICAgY29uc29sZS5sb2coaXRlbS5jYW5kaWRhdGVzWzBdLmNvbnRlbnQucGFydHNbMF0udGV4dCk7XG4gICAgICogfVxuICAgICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVzdWx0LnJlc3BvbnNlO1xuICAgICAqIGNvbnNvbGUubG9nKCdhZ2dyZWdhdGVkIHJlc3BvbnNlOiAnLCBKU09OLnN0cmluZ2lmeShyZXN1bHQucmVzcG9uc2UpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0gc2VuZCBtZXNzYWdlIHJlcXVlc3QuXG4gICAgICogQHJldHVybnMgUHJvbWlzZSBvZiB7QGxpbmsgU3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0fS5cbiAgICAgKi9cbiAgICBhc3luYyBzZW5kTWVzc2FnZVN0cmVhbShyZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBmb3JtdWxhdGVOZXdDb250ZW50RnJvbVNlbmRNZXNzYWdlUmVxdWVzdChyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVDb250ZW50cmVxdWVzdCA9IHtcbiAgICAgICAgICAgIGNvbnRlbnRzOiB0aGlzLmhpc3RvcnlJbnRlcm5hbC5jb25jYXQobmV3Q29udGVudCksXG4gICAgICAgICAgICBzYWZldHlTZXR0aW5nczogdGhpcy5zYWZldHlTZXR0aW5ncyxcbiAgICAgICAgICAgIGdlbmVyYXRpb25Db25maWc6IHRoaXMuZ2VuZXJhdGlvbkNvbmZpZyxcbiAgICAgICAgICAgIHRvb2xzOiB0aGlzLnRvb2xzLFxuICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb246IHRoaXMuc3lzdGVtSW5zdHJ1Y3Rpb24sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdFByb21pc2UgPSAoMCwgZ2VuZXJhdGVfY29udGVudF8xLmdlbmVyYXRlQ29udGVudFN0cmVhbSkodGhpcy5sb2NhdGlvbiwgdGhpcy5wcm9qZWN0LCB0aGlzLnB1Ymxpc2hlck1vZGVsRW5kcG9pbnQsIHRoaXMuZmV0Y2hUb2tlbigpLCBnZW5lcmF0ZUNvbnRlbnRyZXF1ZXN0LCB0aGlzLmFwaUVuZHBvaW50LCB0aGlzLmdlbmVyYXRpb25Db25maWcsIHRoaXMuc2FmZXR5U2V0dGluZ3MsIHRoaXMudG9vbHMsIHRoaXMucmVxdWVzdE9wdGlvbnMpLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZFN0cmVhbVByb21pc2UgPSB0aGlzLmFwcGVuZEhpc3Rvcnkoc3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0UHJvbWlzZSwgbmV3Q29udGVudCk7XG4gICAgICAgIHJldHVybiBzdHJlYW1HZW5lcmF0ZUNvbnRlbnRSZXN1bHRQcm9taXNlO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2hhdFNlc3Npb25QcmV2aWV3ID0gQ2hhdFNlc3Npb25QcmV2aWV3O1xuZnVuY3Rpb24gZm9ybXVsYXRlTmV3Q29udGVudEZyb21TZW5kTWVzc2FnZVJlcXVlc3QocmVxdWVzdCkge1xuICAgIGxldCBuZXdQYXJ0cyA9IFtdO1xuICAgIGlmICh0eXBlb2YgcmVxdWVzdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbmV3UGFydHMgPSBbeyB0ZXh0OiByZXF1ZXN0IH1dO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJlcXVlc3QpKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiByZXF1ZXN0KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgbmV3UGFydHMucHVzaCh7IHRleHQ6IGl0ZW0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdQYXJ0cy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhc3NpZ25Sb2xlVG9QYXJ0c0FuZFZhbGlkYXRlU2VuZE1lc3NhZ2VSZXF1ZXN0KG5ld1BhcnRzKTtcbn1cbi8qKlxuICogV2hlbiBtdWx0aXBsZSBQYXJ0IHR5cGVzIChpLmUuIEZ1bmN0aW9uUmVzcG9uc2VQYXJ0IGFuZCBUZXh0UGFydCkgYXJlXG4gKiBwYXNzZWQgaW4gYSBzaW5nbGUgUGFydCBhcnJheSwgd2UgbWF5IG5lZWQgdG8gYXNzaWduIGRpZmZlcmVudCByb2xlcyB0byBlYWNoXG4gKiBwYXJ0LiBDdXJyZW50bHkgb25seSBGdW5jdGlvblJlc3BvbnNlUGFydCByZXF1aXJlcyBhIHJvbGUgb3RoZXIgdGhhbiAndXNlcicuXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0gcGFydHMgQXJyYXkgb2YgcGFydHMgdG8gcGFzcyB0byB0aGUgbW9kZWxcbiAqIEByZXR1cm5zIEFycmF5IG9mIGNvbnRlbnQgaXRlbXNcbiAqL1xuZnVuY3Rpb24gYXNzaWduUm9sZVRvUGFydHNBbmRWYWxpZGF0ZVNlbmRNZXNzYWdlUmVxdWVzdChwYXJ0cykge1xuICAgIGNvbnN0IHVzZXJDb250ZW50ID0geyByb2xlOiB1dGlsXzEuY29uc3RhbnRzLlVTRVJfUk9MRSwgcGFydHM6IFtdIH07XG4gICAgY29uc3QgZnVuY3Rpb25Db250ZW50ID0geyByb2xlOiB1dGlsXzEuY29uc3RhbnRzLlVTRVJfUk9MRSwgcGFydHM6IFtdIH07XG4gICAgbGV0IGhhc1VzZXJDb250ZW50ID0gZmFsc2U7XG4gICAgbGV0IGhhc0Z1bmN0aW9uQ29udGVudCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xuICAgICAgICBpZiAoJ2Z1bmN0aW9uUmVzcG9uc2UnIGluIHBhcnQpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uQ29udGVudC5wYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgaGFzRnVuY3Rpb25Db250ZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVzZXJDb250ZW50LnBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICBoYXNVc2VyQ29udGVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhhc1VzZXJDb250ZW50ICYmIGhhc0Z1bmN0aW9uQ29udGVudCkge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuQ2xpZW50RXJyb3IoJ1dpdGhpbiBhIHNpbmdsZSBtZXNzYWdlLCBGdW5jdGlvblJlc3BvbnNlIGNhbm5vdCBiZSBtaXhlZCB3aXRoIG90aGVyIHR5cGUgb2YgcGFydCBpbiB0aGUgcmVxdWVzdCBmb3Igc2VuZGluZyBjaGF0IG1lc3NhZ2UuJyk7XG4gICAgfVxuICAgIGlmICghaGFzVXNlckNvbnRlbnQgJiYgIWhhc0Z1bmN0aW9uQ29udGVudCkge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzXzEuQ2xpZW50RXJyb3IoJ05vIGNvbnRlbnQgaXMgcHJvdmlkZWQgZm9yIHNlbmRpbmcgY2hhdCBtZXNzYWdlLicpO1xuICAgIH1cbiAgICBpZiAoaGFzVXNlckNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIFt1c2VyQ29udGVudF07XG4gICAgfVxuICAgIHJldHVybiBbZnVuY3Rpb25Db250ZW50XTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXRfc2Vzc2lvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/chat_session.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/generative_models.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/models/generative_models.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GenerativeModelPreview = exports.GenerativeModel = void 0;\nconst count_tokens_1 = __webpack_require__(/*! ../functions/count_tokens */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/count_tokens.js\");\nconst generate_content_1 = __webpack_require__(/*! ../functions/generate_content */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/functions/generate_content.js\");\nconst errors_1 = __webpack_require__(/*! ../types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\nconst util_1 = __webpack_require__(/*! ../util */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/index.js\");\nconst chat_session_1 = __webpack_require__(/*! ./chat_session */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/chat_session.js\");\n/**\n * The `GenerativeModel` class is the base class for the generative models on\n * Vertex AI.\n * NOTE: Don't instantiate this class directly. Use\n * `vertexai.getGenerativeModel()` instead.\n */\nclass GenerativeModel {\n    /**\n     * @constructor\n     * @param getGenerativeModelParams - {@link GetGenerativeModelParams}\n     */\n    constructor(getGenerativeModelParams) {\n        var _a;\n        this.project = getGenerativeModelParams.project;\n        this.location = getGenerativeModelParams.location;\n        this.apiEndpoint = getGenerativeModelParams.apiEndpoint;\n        this.googleAuth = getGenerativeModelParams.googleAuth;\n        this.model = getGenerativeModelParams.model;\n        this.generationConfig = getGenerativeModelParams.generationConfig;\n        this.safetySettings = getGenerativeModelParams.safetySettings;\n        this.tools = getGenerativeModelParams.tools;\n        this.requestOptions = (_a = getGenerativeModelParams.requestOptions) !== null && _a !== void 0 ? _a : {};\n        if (getGenerativeModelParams.systemInstruction) {\n            getGenerativeModelParams.systemInstruction.role = util_1.constants.SYSTEM_ROLE;\n        }\n        this.systemInstruction = getGenerativeModelParams.systemInstruction;\n        if (this.model.startsWith('models/')) {\n            this.publisherModelEndpoint = `publishers/google/${this.model}`;\n        }\n        else {\n            this.publisherModelEndpoint = `publishers/google/models/${this.model}`;\n        }\n    }\n    /**\n     * Gets access token from GoogleAuth. Throws {@link GoogleAuthError} when\n     * fails.\n     * @returns Promise of token string.\n     */\n    fetchToken() {\n        const tokenPromise = this.googleAuth.getAccessToken().catch(e => {\n            throw new errors_1.GoogleAuthError(util_1.constants.CREDENTIAL_ERROR_MESSAGE, e);\n        });\n        return tokenPromise;\n    }\n    /**\n     * Makes an async call to generate content.\n     *\n     * The response will be returned in {@link\n     * GenerateContentResult.response}.\n     *\n     * @example\n     * ```\n     * const request = {\n     *   contents: [{role: 'user', parts: [{text: 'How are you doing today?'}]}],\n     * };\n     * const result = await generativeModel.generateContent(request);\n     * console.log('Response: ', JSON.stringify(result.response));\n     * ```\n     *\n     * @param request - A GenerateContentRequest object with the request contents.\n     * @returns The GenerateContentResponse object with the response candidates.\n     */\n    async generateContent(request) {\n        request = formulateRequestToGenerateContentRequest(request);\n        const formulatedRequest = formulateSystemInstructionIntoGenerateContentRequest(request, this.systemInstruction);\n        return (0, generate_content_1.generateContent)(this.location, this.project, this.publisherModelEndpoint, this.fetchToken(), formulatedRequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.requestOptions);\n    }\n    /**\n     * Makes an async stream request to generate content.\n     *\n     * The response is returned chunk by chunk as it's being generated in {@link\n     * StreamGenerateContentResult.stream}. After all chunks of the response are\n     * returned, the aggregated response is available in\n     * {@link StreamGenerateContentResult.response}.\n     *\n     * @example\n     * ```\n     * const request = {\n     *   contents: [{role: 'user', parts: [{text: 'How are you doing today?'}]}],\n     * };\n     * const streamingResult = await generativeModel.generateContentStream(request);\n     * for await (const item of streamingResult.stream) {\n     *   console.log('stream chunk: ', JSON.stringify(item));\n     * }\n     * const aggregatedResponse = await streamingResult.response;\n     * console.log('aggregated response: ', JSON.stringify(aggregatedResponse));\n     * ```\n     *\n     * @param request - {@link GenerateContentRequest}\n     * @returns Promise of {@link StreamGenerateContentResult}\n     */\n    async generateContentStream(request) {\n        request = formulateRequestToGenerateContentRequest(request);\n        const formulatedRequest = formulateSystemInstructionIntoGenerateContentRequest(request, this.systemInstruction);\n        return (0, generate_content_1.generateContentStream)(this.location, this.project, this.publisherModelEndpoint, this.fetchToken(), formulatedRequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.requestOptions);\n    }\n    /**\n     * Makes an async request to count tokens.\n     *\n     * The `countTokens` function returns the token count and the number of\n     * billable characters for a prompt.\n     *\n     * @example\n     * ```\n     * const request = {\n     *   contents: [{role: 'user', parts: [{text: 'How are you doing today?'}]}],\n     * };\n     * const resp = await generativeModel.countTokens(request);\n     * console.log('count tokens response: ', resp);\n     * ```\n     *\n     * @param request - A CountTokensRequest object with the request contents.\n     * @returns The CountTokensResponse object with the token count.\n     */\n    async countTokens(request) {\n        return (0, count_tokens_1.countTokens)(this.location, this.project, this.publisherModelEndpoint, this.fetchToken(), request, this.apiEndpoint, this.requestOptions);\n    }\n    /**\n     * Instantiates a {@link ChatSession}.\n     *\n     * The {@link ChatSession} class is a stateful class that holds the state of\n     * the conversation with the model and provides methods to interact with the\n     * model in chat mode. Calling this method doesn't make any calls to a remote\n     * endpoint. To make remote call, use {@link ChatSession.sendMessage} or\n     * @link ChatSession.sendMessageStream}.\n     *\n     * @example\n     * ```\n     * const chat = generativeModel.startChat();\n     * const result1 = await chat.sendMessage(\"How can I learn more about Node.js?\");\n     * const response1 = await result1.response;\n     * console.log('Response: ', JSON.stringify(response1));\n     *\n     * const result2 = await chat.sendMessageStream(\"What about python?\");\n     * const response2 = await result2.response;\n     * console.log('Response: ', JSON.stringify(await response2));\n     * ```\n     *\n     * @param request - {@link StartChatParams}\n     * @returns {@link ChatSession}\n     */\n    startChat(request) {\n        var _a, _b, _c, _d, _e;\n        const startChatRequest = {\n            project: this.project,\n            location: this.location,\n            googleAuth: this.googleAuth,\n            publisherModelEndpoint: this.publisherModelEndpoint,\n            tools: this.tools,\n        };\n        if (request) {\n            startChatRequest.history = request.history;\n            startChatRequest.generationConfig =\n                (_a = request.generationConfig) !== null && _a !== void 0 ? _a : this.generationConfig;\n            startChatRequest.safetySettings =\n                (_b = request.safetySettings) !== null && _b !== void 0 ? _b : this.safetySettings;\n            startChatRequest.tools = (_c = request.tools) !== null && _c !== void 0 ? _c : this.tools;\n            startChatRequest.apiEndpoint = (_d = request.apiEndpoint) !== null && _d !== void 0 ? _d : this.apiEndpoint;\n            startChatRequest.systemInstruction =\n                (_e = request.systemInstruction) !== null && _e !== void 0 ? _e : this.systemInstruction;\n        }\n        return new chat_session_1.ChatSession(startChatRequest, this.requestOptions);\n    }\n}\nexports.GenerativeModel = GenerativeModel;\n/**\n * The `GenerativeModelPreview` class is the base class for the generative models\n * that are in preview.\n * NOTE: Don't instantiate this class directly. Use\n * `vertexai.preview.getGenerativeModel()` instead.\n */\nclass GenerativeModelPreview {\n    /**\n     * @constructor\n     * @param getGenerativeModelParams - {@link GetGenerativeModelParams}\n     */\n    constructor(getGenerativeModelParams) {\n        var _a;\n        this.project = getGenerativeModelParams.project;\n        this.location = getGenerativeModelParams.location;\n        this.apiEndpoint = getGenerativeModelParams.apiEndpoint;\n        this.googleAuth = getGenerativeModelParams.googleAuth;\n        this.model = getGenerativeModelParams.model;\n        this.generationConfig = getGenerativeModelParams.generationConfig;\n        this.safetySettings = getGenerativeModelParams.safetySettings;\n        this.tools = getGenerativeModelParams.tools;\n        this.requestOptions = (_a = getGenerativeModelParams.requestOptions) !== null && _a !== void 0 ? _a : {};\n        if (getGenerativeModelParams.systemInstruction) {\n            getGenerativeModelParams.systemInstruction.role = util_1.constants.SYSTEM_ROLE;\n        }\n        this.systemInstruction = getGenerativeModelParams.systemInstruction;\n        if (this.model.startsWith('models/')) {\n            this.publisherModelEndpoint = `publishers/google/${this.model}`;\n        }\n        else {\n            this.publisherModelEndpoint = `publishers/google/models/${this.model}`;\n        }\n    }\n    /**\n     * Gets access token from GoogleAuth. Throws {@link GoogleAuthError} when\n     * fails.\n     * @returns Promise of token string.\n     */\n    fetchToken() {\n        const tokenPromise = this.googleAuth.getAccessToken().catch(e => {\n            throw new errors_1.GoogleAuthError(util_1.constants.CREDENTIAL_ERROR_MESSAGE, e);\n        });\n        return tokenPromise;\n    }\n    /**\n     * Makes an async call to generate content.\n     *\n     * The response will be returned in {@link GenerateContentResult.response}.\n     *\n     * @example\n     * ```\n     * const request = {\n     *   contents: [{role: 'user', parts: [{text: 'How are you doing today?'}]}],\n     * };\n     * const result = await generativeModelPreview.generateContent(request);\n     * console.log('Response: ', JSON.stringify(result.response));\n     * ```\n     *\n     * @param request - A GenerateContentRequest object with the request contents.\n     * @returns The GenerateContentResponse object with the response candidates.\n     */\n    async generateContent(request) {\n        request = formulateRequestToGenerateContentRequest(request);\n        const formulatedRequest = formulateSystemInstructionIntoGenerateContentRequest(request, this.systemInstruction);\n        return (0, generate_content_1.generateContent)(this.location, this.project, this.publisherModelEndpoint, this.fetchToken(), formulatedRequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.requestOptions);\n    }\n    /**\n     * Makes an async stream request to generate content.\n     *\n     * The response is returned chunk by chunk as it's being generated in {@link\n     * StreamGenerateContentResult.stream}. After all chunks of the response are\n     * returned, the aggregated response is available in\n     * {@link StreamGenerateContentResult.response}.\n     *\n     * @example\n     * ```\n     * const request = {\n     *   contents: [{role: 'user', parts: [{text: 'How are you doing today?'}]}],\n     * };\n     * const streamingResult = await generativeModelPreview.generateContentStream(request);\n     * for await (const item of streamingResult.stream) {\n     *   console.log('stream chunk: ', JSON.stringify(item));\n     * }\n     * const aggregatedResponse = await streamingResult.response;\n     * console.log('aggregated response: ', JSON.stringify(aggregatedResponse));\n     * ```\n     *\n     * @param request - {@link GenerateContentRequest}\n     * @returns Promise of {@link StreamGenerateContentResult}\n     */\n    async generateContentStream(request) {\n        request = formulateRequestToGenerateContentRequest(request);\n        const formulatedRequest = formulateSystemInstructionIntoGenerateContentRequest(request, this.systemInstruction);\n        return (0, generate_content_1.generateContentStream)(this.location, this.project, this.publisherModelEndpoint, this.fetchToken(), formulatedRequest, this.apiEndpoint, this.generationConfig, this.safetySettings, this.tools, this.requestOptions);\n    }\n    /**\n     * Makes an async request to count tokens.\n     *\n     * The `countTokens` function returns the token count and the number of\n     * billable characters for a prompt.\n     *\n     * @example\n     * ```\n     * const request = {\n     *   contents: [{role: 'user', parts: [{text: 'How are you doing today?'}]}],\n     * };\n     * const resp = await generativeModelPreview.countTokens(request);\n     * console.log('count tokens response: ', resp);\n     * ```\n     *\n     * @param request - A CountTokensRequest object with the request contents.\n     * @returns The CountTokensResponse object with the token count.\n     */\n    async countTokens(request) {\n        return (0, count_tokens_1.countTokens)(this.location, this.project, this.publisherModelEndpoint, this.fetchToken(), request, this.apiEndpoint, this.requestOptions);\n    }\n    /**\n     * Instantiates a {@link ChatSessionPreview}.\n     *\n     * The {@link ChatSessionPreview} class is a stateful class that holds the state of\n     * the conversation with the model and provides methods to interact with the\n     * model in chat mode. Calling this method doesn't make any calls to a remote\n     * endpoint. To make remote call, use {@link ChatSessionPreview.sendMessage} or\n     * {@link ChatSessionPreview.sendMessageStream}.\n     *\n     * @example\n     * ```\n     * const chat = generativeModelPreview.startChat();\n     * const result1 = await chat.sendMessage(\"How can I learn more about Node.js?\");\n     * const response1 = await result1.response;\n     * console.log('Response: ', JSON.stringify(response1));\n     *\n     * const result2 = await chat.sendMessageStream(\"What about python?\");\n     * const response2 = await result2.response;\n     * console.log('Response: ', JSON.stringify(await response2));\n     * ```\n     *\n     * @param request - {@link StartChatParams}\n     * @returns {@link ChatSessionPreview}\n     */\n    startChat(request) {\n        var _a, _b, _c, _d;\n        const startChatRequest = {\n            project: this.project,\n            location: this.location,\n            googleAuth: this.googleAuth,\n            publisherModelEndpoint: this.publisherModelEndpoint,\n            tools: this.tools,\n        };\n        if (request) {\n            startChatRequest.history = request.history;\n            startChatRequest.generationConfig =\n                (_a = request.generationConfig) !== null && _a !== void 0 ? _a : this.generationConfig;\n            startChatRequest.safetySettings =\n                (_b = request.safetySettings) !== null && _b !== void 0 ? _b : this.safetySettings;\n            startChatRequest.tools = (_c = request.tools) !== null && _c !== void 0 ? _c : this.tools;\n            startChatRequest.systemInstruction =\n                (_d = request.systemInstruction) !== null && _d !== void 0 ? _d : this.systemInstruction;\n        }\n        return new chat_session_1.ChatSessionPreview(startChatRequest, this.requestOptions);\n    }\n}\nexports.GenerativeModelPreview = GenerativeModelPreview;\nfunction formulateRequestToGenerateContentRequest(request) {\n    if (typeof request === 'string') {\n        return {\n            contents: [{ role: util_1.constants.USER_ROLE, parts: [{ text: request }] }],\n        };\n    }\n    return request;\n}\nfunction formulateSystemInstructionIntoGenerateContentRequest(methodRequest, classSystemInstruction) {\n    if (methodRequest.systemInstruction) {\n        methodRequest.systemInstruction.role = util_1.constants.SYSTEM_ROLE;\n        return methodRequest;\n    }\n    if (classSystemInstruction) {\n        methodRequest.systemInstruction = classSystemInstruction;\n    }\n    return methodRequest;\n}\n//# sourceMappingURL=generative_models.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvbW9kZWxzL2dlbmVyYXRpdmVfbW9kZWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsOEJBQThCLEdBQUcsdUJBQXVCO0FBQ3hELHVCQUF1QixtQkFBTyxDQUFDLGtIQUEyQjtBQUMxRCwyQkFBMkIsbUJBQU8sQ0FBQywwSEFBK0I7QUFDbEUsaUJBQWlCLG1CQUFPLENBQUMsOEZBQWlCO0FBQzFDLGVBQWUsbUJBQU8sQ0FBQyxvRkFBUztBQUNoQyx1QkFBdUIsbUJBQU8sQ0FBQyxvR0FBZ0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsV0FBVztBQUMxRTtBQUNBO0FBQ0Esc0VBQXNFLFdBQVc7QUFDakY7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHVCQUF1QjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QyxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUJBQXVCLGlDQUFpQyxFQUFFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFO0FBQzNFLDBDQUEwQztBQUMxQztBQUNBLFFBQVEsMkNBQTJDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVCQUF1QixpQ0FBaUMsRUFBRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix1QkFBdUIsaUNBQWlDLEVBQUU7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtCQUFrQjtBQUN6QztBQUNBLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0E7QUFDQSwyQ0FBMkMsK0JBQStCO0FBQzFFLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELFdBQVc7QUFDMUU7QUFDQTtBQUNBLHNFQUFzRSxXQUFXO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCx1QkFBdUI7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMscUNBQXFDO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVCQUF1QixpQ0FBaUMsRUFBRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRTtBQUMzRSwwQ0FBMEM7QUFDMUM7QUFDQSxRQUFRLDJDQUEyQztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix1QkFBdUIsaUNBQWlDLEVBQUU7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUJBQXVCLGlDQUFpQyxFQUFFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5QkFBeUI7QUFDaEQ7QUFDQSxZQUFZLDBCQUEwQjtBQUN0QztBQUNBO0FBQ0EsMkNBQTJDLHNDQUFzQztBQUNqRixRQUFRLDJDQUEyQztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNENBQTRDLGVBQWUsR0FBRztBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWl6bm90ZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlLWNsb3VkL3ZlcnRleGFpL2J1aWxkL3NyYy9tb2RlbHMvZ2VuZXJhdGl2ZV9tb2RlbHMuanM/OWY4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdlbmVyYXRpdmVNb2RlbFByZXZpZXcgPSBleHBvcnRzLkdlbmVyYXRpdmVNb2RlbCA9IHZvaWQgMDtcbmNvbnN0IGNvdW50X3Rva2Vuc18xID0gcmVxdWlyZShcIi4uL2Z1bmN0aW9ucy9jb3VudF90b2tlbnNcIik7XG5jb25zdCBnZW5lcmF0ZV9jb250ZW50XzEgPSByZXF1aXJlKFwiLi4vZnVuY3Rpb25zL2dlbmVyYXRlX2NvbnRlbnRcIik7XG5jb25zdCBlcnJvcnNfMSA9IHJlcXVpcmUoXCIuLi90eXBlcy9lcnJvcnNcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vdXRpbFwiKTtcbmNvbnN0IGNoYXRfc2Vzc2lvbl8xID0gcmVxdWlyZShcIi4vY2hhdF9zZXNzaW9uXCIpO1xuLyoqXG4gKiBUaGUgYEdlbmVyYXRpdmVNb2RlbGAgY2xhc3MgaXMgdGhlIGJhc2UgY2xhc3MgZm9yIHRoZSBnZW5lcmF0aXZlIG1vZGVscyBvblxuICogVmVydGV4IEFJLlxuICogTk9URTogRG9uJ3QgaW5zdGFudGlhdGUgdGhpcyBjbGFzcyBkaXJlY3RseS4gVXNlXG4gKiBgdmVydGV4YWkuZ2V0R2VuZXJhdGl2ZU1vZGVsKClgIGluc3RlYWQuXG4gKi9cbmNsYXNzIEdlbmVyYXRpdmVNb2RlbCB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcyAtIHtAbGluayBHZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXN9XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLnByb2plY3Q7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMubG9jYXRpb247XG4gICAgICAgIHRoaXMuYXBpRW5kcG9pbnQgPSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMuYXBpRW5kcG9pbnQ7XG4gICAgICAgIHRoaXMuZ29vZ2xlQXV0aCA9IGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy5nb29nbGVBdXRoO1xuICAgICAgICB0aGlzLm1vZGVsID0gZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLm1vZGVsO1xuICAgICAgICB0aGlzLmdlbmVyYXRpb25Db25maWcgPSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMuZ2VuZXJhdGlvbkNvbmZpZztcbiAgICAgICAgdGhpcy5zYWZldHlTZXR0aW5ncyA9IGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy5zYWZldHlTZXR0aW5ncztcbiAgICAgICAgdGhpcy50b29scyA9IGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy50b29scztcbiAgICAgICAgdGhpcy5yZXF1ZXN0T3B0aW9ucyA9IChfYSA9IGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy5yZXF1ZXN0T3B0aW9ucykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgICAgIGlmIChnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMuc3lzdGVtSW5zdHJ1Y3Rpb24pIHtcbiAgICAgICAgICAgIGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy5zeXN0ZW1JbnN0cnVjdGlvbi5yb2xlID0gdXRpbF8xLmNvbnN0YW50cy5TWVNURU1fUk9MRTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN5c3RlbUluc3RydWN0aW9uID0gZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLnN5c3RlbUluc3RydWN0aW9uO1xuICAgICAgICBpZiAodGhpcy5tb2RlbC5zdGFydHNXaXRoKCdtb2RlbHMvJykpIHtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyTW9kZWxFbmRwb2ludCA9IGBwdWJsaXNoZXJzL2dvb2dsZS8ke3RoaXMubW9kZWx9YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaGVyTW9kZWxFbmRwb2ludCA9IGBwdWJsaXNoZXJzL2dvb2dsZS9tb2RlbHMvJHt0aGlzLm1vZGVsfWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhY2Nlc3MgdG9rZW4gZnJvbSBHb29nbGVBdXRoLiBUaHJvd3Mge0BsaW5rIEdvb2dsZUF1dGhFcnJvcn0gd2hlblxuICAgICAqIGZhaWxzLlxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugb2YgdG9rZW4gc3RyaW5nLlxuICAgICAqL1xuICAgIGZldGNoVG9rZW4oKSB7XG4gICAgICAgIGNvbnN0IHRva2VuUHJvbWlzZSA9IHRoaXMuZ29vZ2xlQXV0aC5nZXRBY2Nlc3NUb2tlbigpLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkdvb2dsZUF1dGhFcnJvcih1dGlsXzEuY29uc3RhbnRzLkNSRURFTlRJQUxfRVJST1JfTUVTU0FHRSwgZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdG9rZW5Qcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhbiBhc3luYyBjYWxsIHRvIGdlbmVyYXRlIGNvbnRlbnQuXG4gICAgICpcbiAgICAgKiBUaGUgcmVzcG9uc2Ugd2lsbCBiZSByZXR1cm5lZCBpbiB7QGxpbmtcbiAgICAgKiBHZW5lcmF0ZUNvbnRlbnRSZXN1bHQucmVzcG9uc2V9LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAqICAgY29udGVudHM6IFt7cm9sZTogJ3VzZXInLCBwYXJ0czogW3t0ZXh0OiAnSG93IGFyZSB5b3UgZG9pbmcgdG9kYXk/J31dfV0sXG4gICAgICogfTtcbiAgICAgKiBjb25zdCByZXN1bHQgPSBhd2FpdCBnZW5lcmF0aXZlTW9kZWwuZ2VuZXJhdGVDb250ZW50KHJlcXVlc3QpO1xuICAgICAqIGNvbnNvbGUubG9nKCdSZXNwb25zZTogJywgSlNPTi5zdHJpbmdpZnkocmVzdWx0LnJlc3BvbnNlKSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIEEgR2VuZXJhdGVDb250ZW50UmVxdWVzdCBvYmplY3Qgd2l0aCB0aGUgcmVxdWVzdCBjb250ZW50cy5cbiAgICAgKiBAcmV0dXJucyBUaGUgR2VuZXJhdGVDb250ZW50UmVzcG9uc2Ugb2JqZWN0IHdpdGggdGhlIHJlc3BvbnNlIGNhbmRpZGF0ZXMuXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGVDb250ZW50KHJlcXVlc3QpIHtcbiAgICAgICAgcmVxdWVzdCA9IGZvcm11bGF0ZVJlcXVlc3RUb0dlbmVyYXRlQ29udGVudFJlcXVlc3QocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGZvcm11bGF0ZWRSZXF1ZXN0ID0gZm9ybXVsYXRlU3lzdGVtSW5zdHJ1Y3Rpb25JbnRvR2VuZXJhdGVDb250ZW50UmVxdWVzdChyZXF1ZXN0LCB0aGlzLnN5c3RlbUluc3RydWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICgwLCBnZW5lcmF0ZV9jb250ZW50XzEuZ2VuZXJhdGVDb250ZW50KSh0aGlzLmxvY2F0aW9uLCB0aGlzLnByb2plY3QsIHRoaXMucHVibGlzaGVyTW9kZWxFbmRwb2ludCwgdGhpcy5mZXRjaFRva2VuKCksIGZvcm11bGF0ZWRSZXF1ZXN0LCB0aGlzLmFwaUVuZHBvaW50LCB0aGlzLmdlbmVyYXRpb25Db25maWcsIHRoaXMuc2FmZXR5U2V0dGluZ3MsIHRoaXMudG9vbHMsIHRoaXMucmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhbiBhc3luYyBzdHJlYW0gcmVxdWVzdCB0byBnZW5lcmF0ZSBjb250ZW50LlxuICAgICAqXG4gICAgICogVGhlIHJlc3BvbnNlIGlzIHJldHVybmVkIGNodW5rIGJ5IGNodW5rIGFzIGl0J3MgYmVpbmcgZ2VuZXJhdGVkIGluIHtAbGlua1xuICAgICAqIFN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdC5zdHJlYW19LiBBZnRlciBhbGwgY2h1bmtzIG9mIHRoZSByZXNwb25zZSBhcmVcbiAgICAgKiByZXR1cm5lZCwgdGhlIGFnZ3JlZ2F0ZWQgcmVzcG9uc2UgaXMgYXZhaWxhYmxlIGluXG4gICAgICoge0BsaW5rIFN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdC5yZXNwb25zZX0uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICogICBjb250ZW50czogW3tyb2xlOiAndXNlcicsIHBhcnRzOiBbe3RleHQ6ICdIb3cgYXJlIHlvdSBkb2luZyB0b2RheT8nfV19XSxcbiAgICAgKiB9O1xuICAgICAqIGNvbnN0IHN0cmVhbWluZ1Jlc3VsdCA9IGF3YWl0IGdlbmVyYXRpdmVNb2RlbC5nZW5lcmF0ZUNvbnRlbnRTdHJlYW0ocmVxdWVzdCk7XG4gICAgICogZm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIHN0cmVhbWluZ1Jlc3VsdC5zdHJlYW0pIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdzdHJlYW0gY2h1bms6ICcsIEpTT04uc3RyaW5naWZ5KGl0ZW0pKTtcbiAgICAgKiB9XG4gICAgICogY29uc3QgYWdncmVnYXRlZFJlc3BvbnNlID0gYXdhaXQgc3RyZWFtaW5nUmVzdWx0LnJlc3BvbnNlO1xuICAgICAqIGNvbnNvbGUubG9nKCdhZ2dyZWdhdGVkIHJlc3BvbnNlOiAnLCBKU09OLnN0cmluZ2lmeShhZ2dyZWdhdGVkUmVzcG9uc2UpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0ge0BsaW5rIEdlbmVyYXRlQ29udGVudFJlcXVlc3R9XG4gICAgICogQHJldHVybnMgUHJvbWlzZSBvZiB7QGxpbmsgU3RyZWFtR2VuZXJhdGVDb250ZW50UmVzdWx0fVxuICAgICAqL1xuICAgIGFzeW5jIGdlbmVyYXRlQ29udGVudFN0cmVhbShyZXF1ZXN0KSB7XG4gICAgICAgIHJlcXVlc3QgPSBmb3JtdWxhdGVSZXF1ZXN0VG9HZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0KHJlcXVlc3QpO1xuICAgICAgICBjb25zdCBmb3JtdWxhdGVkUmVxdWVzdCA9IGZvcm11bGF0ZVN5c3RlbUluc3RydWN0aW9uSW50b0dlbmVyYXRlQ29udGVudFJlcXVlc3QocmVxdWVzdCwgdGhpcy5zeXN0ZW1JbnN0cnVjdGlvbik7XG4gICAgICAgIHJldHVybiAoMCwgZ2VuZXJhdGVfY29udGVudF8xLmdlbmVyYXRlQ29udGVudFN0cmVhbSkodGhpcy5sb2NhdGlvbiwgdGhpcy5wcm9qZWN0LCB0aGlzLnB1Ymxpc2hlck1vZGVsRW5kcG9pbnQsIHRoaXMuZmV0Y2hUb2tlbigpLCBmb3JtdWxhdGVkUmVxdWVzdCwgdGhpcy5hcGlFbmRwb2ludCwgdGhpcy5nZW5lcmF0aW9uQ29uZmlnLCB0aGlzLnNhZmV0eVNldHRpbmdzLCB0aGlzLnRvb2xzLCB0aGlzLnJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgYW4gYXN5bmMgcmVxdWVzdCB0byBjb3VudCB0b2tlbnMuXG4gICAgICpcbiAgICAgKiBUaGUgYGNvdW50VG9rZW5zYCBmdW5jdGlvbiByZXR1cm5zIHRoZSB0b2tlbiBjb3VudCBhbmQgdGhlIG51bWJlciBvZlxuICAgICAqIGJpbGxhYmxlIGNoYXJhY3RlcnMgZm9yIGEgcHJvbXB0LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAqICAgY29udGVudHM6IFt7cm9sZTogJ3VzZXInLCBwYXJ0czogW3t0ZXh0OiAnSG93IGFyZSB5b3UgZG9pbmcgdG9kYXk/J31dfV0sXG4gICAgICogfTtcbiAgICAgKiBjb25zdCByZXNwID0gYXdhaXQgZ2VuZXJhdGl2ZU1vZGVsLmNvdW50VG9rZW5zKHJlcXVlc3QpO1xuICAgICAqIGNvbnNvbGUubG9nKCdjb3VudCB0b2tlbnMgcmVzcG9uc2U6ICcsIHJlc3ApO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSBBIENvdW50VG9rZW5zUmVxdWVzdCBvYmplY3Qgd2l0aCB0aGUgcmVxdWVzdCBjb250ZW50cy5cbiAgICAgKiBAcmV0dXJucyBUaGUgQ291bnRUb2tlbnNSZXNwb25zZSBvYmplY3Qgd2l0aCB0aGUgdG9rZW4gY291bnQuXG4gICAgICovXG4gICAgYXN5bmMgY291bnRUb2tlbnMocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gKDAsIGNvdW50X3Rva2Vuc18xLmNvdW50VG9rZW5zKSh0aGlzLmxvY2F0aW9uLCB0aGlzLnByb2plY3QsIHRoaXMucHVibGlzaGVyTW9kZWxFbmRwb2ludCwgdGhpcy5mZXRjaFRva2VuKCksIHJlcXVlc3QsIHRoaXMuYXBpRW5kcG9pbnQsIHRoaXMucmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZXMgYSB7QGxpbmsgQ2hhdFNlc3Npb259LlxuICAgICAqXG4gICAgICogVGhlIHtAbGluayBDaGF0U2Vzc2lvbn0gY2xhc3MgaXMgYSBzdGF0ZWZ1bCBjbGFzcyB0aGF0IGhvbGRzIHRoZSBzdGF0ZSBvZlxuICAgICAqIHRoZSBjb252ZXJzYXRpb24gd2l0aCB0aGUgbW9kZWwgYW5kIHByb3ZpZGVzIG1ldGhvZHMgdG8gaW50ZXJhY3Qgd2l0aCB0aGVcbiAgICAgKiBtb2RlbCBpbiBjaGF0IG1vZGUuIENhbGxpbmcgdGhpcyBtZXRob2QgZG9lc24ndCBtYWtlIGFueSBjYWxscyB0byBhIHJlbW90ZVxuICAgICAqIGVuZHBvaW50LiBUbyBtYWtlIHJlbW90ZSBjYWxsLCB1c2Uge0BsaW5rIENoYXRTZXNzaW9uLnNlbmRNZXNzYWdlfSBvclxuICAgICAqIEBsaW5rIENoYXRTZXNzaW9uLnNlbmRNZXNzYWdlU3RyZWFtfS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgXG4gICAgICogY29uc3QgY2hhdCA9IGdlbmVyYXRpdmVNb2RlbC5zdGFydENoYXQoKTtcbiAgICAgKiBjb25zdCByZXN1bHQxID0gYXdhaXQgY2hhdC5zZW5kTWVzc2FnZShcIkhvdyBjYW4gSSBsZWFybiBtb3JlIGFib3V0IE5vZGUuanM/XCIpO1xuICAgICAqIGNvbnN0IHJlc3BvbnNlMSA9IGF3YWl0IHJlc3VsdDEucmVzcG9uc2U7XG4gICAgICogY29uc29sZS5sb2coJ1Jlc3BvbnNlOiAnLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZTEpKTtcbiAgICAgKlxuICAgICAqIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBjaGF0LnNlbmRNZXNzYWdlU3RyZWFtKFwiV2hhdCBhYm91dCBweXRob24/XCIpO1xuICAgICAqIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IHJlc3VsdDIucmVzcG9uc2U7XG4gICAgICogY29uc29sZS5sb2coJ1Jlc3BvbnNlOiAnLCBKU09OLnN0cmluZ2lmeShhd2FpdCByZXNwb25zZTIpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSByZXF1ZXN0IC0ge0BsaW5rIFN0YXJ0Q2hhdFBhcmFtc31cbiAgICAgKiBAcmV0dXJucyB7QGxpbmsgQ2hhdFNlc3Npb259XG4gICAgICovXG4gICAgc3RhcnRDaGF0KHJlcXVlc3QpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgY29uc3Qgc3RhcnRDaGF0UmVxdWVzdCA9IHtcbiAgICAgICAgICAgIHByb2plY3Q6IHRoaXMucHJvamVjdCxcbiAgICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLmxvY2F0aW9uLFxuICAgICAgICAgICAgZ29vZ2xlQXV0aDogdGhpcy5nb29nbGVBdXRoLFxuICAgICAgICAgICAgcHVibGlzaGVyTW9kZWxFbmRwb2ludDogdGhpcy5wdWJsaXNoZXJNb2RlbEVuZHBvaW50LFxuICAgICAgICAgICAgdG9vbHM6IHRoaXMudG9vbHMsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChyZXF1ZXN0KSB7XG4gICAgICAgICAgICBzdGFydENoYXRSZXF1ZXN0Lmhpc3RvcnkgPSByZXF1ZXN0Lmhpc3Rvcnk7XG4gICAgICAgICAgICBzdGFydENoYXRSZXF1ZXN0LmdlbmVyYXRpb25Db25maWcgPVxuICAgICAgICAgICAgICAgIChfYSA9IHJlcXVlc3QuZ2VuZXJhdGlvbkNvbmZpZykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5nZW5lcmF0aW9uQ29uZmlnO1xuICAgICAgICAgICAgc3RhcnRDaGF0UmVxdWVzdC5zYWZldHlTZXR0aW5ncyA9XG4gICAgICAgICAgICAgICAgKF9iID0gcmVxdWVzdC5zYWZldHlTZXR0aW5ncykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5zYWZldHlTZXR0aW5ncztcbiAgICAgICAgICAgIHN0YXJ0Q2hhdFJlcXVlc3QudG9vbHMgPSAoX2MgPSByZXF1ZXN0LnRvb2xzKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB0aGlzLnRvb2xzO1xuICAgICAgICAgICAgc3RhcnRDaGF0UmVxdWVzdC5hcGlFbmRwb2ludCA9IChfZCA9IHJlcXVlc3QuYXBpRW5kcG9pbnQpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHRoaXMuYXBpRW5kcG9pbnQ7XG4gICAgICAgICAgICBzdGFydENoYXRSZXF1ZXN0LnN5c3RlbUluc3RydWN0aW9uID1cbiAgICAgICAgICAgICAgICAoX2UgPSByZXF1ZXN0LnN5c3RlbUluc3RydWN0aW9uKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiB0aGlzLnN5c3RlbUluc3RydWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgY2hhdF9zZXNzaW9uXzEuQ2hhdFNlc3Npb24oc3RhcnRDaGF0UmVxdWVzdCwgdGhpcy5yZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxufVxuZXhwb3J0cy5HZW5lcmF0aXZlTW9kZWwgPSBHZW5lcmF0aXZlTW9kZWw7XG4vKipcbiAqIFRoZSBgR2VuZXJhdGl2ZU1vZGVsUHJldmlld2AgY2xhc3MgaXMgdGhlIGJhc2UgY2xhc3MgZm9yIHRoZSBnZW5lcmF0aXZlIG1vZGVsc1xuICogdGhhdCBhcmUgaW4gcHJldmlldy5cbiAqIE5PVEU6IERvbid0IGluc3RhbnRpYXRlIHRoaXMgY2xhc3MgZGlyZWN0bHkuIFVzZVxuICogYHZlcnRleGFpLnByZXZpZXcuZ2V0R2VuZXJhdGl2ZU1vZGVsKClgIGluc3RlYWQuXG4gKi9cbmNsYXNzIEdlbmVyYXRpdmVNb2RlbFByZXZpZXcge1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMgLSB7QGxpbmsgR2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zfVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy5wcm9qZWN0O1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLmxvY2F0aW9uO1xuICAgICAgICB0aGlzLmFwaUVuZHBvaW50ID0gZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLmFwaUVuZHBvaW50O1xuICAgICAgICB0aGlzLmdvb2dsZUF1dGggPSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMuZ29vZ2xlQXV0aDtcbiAgICAgICAgdGhpcy5tb2RlbCA9IGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy5tb2RlbDtcbiAgICAgICAgdGhpcy5nZW5lcmF0aW9uQ29uZmlnID0gZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLmdlbmVyYXRpb25Db25maWc7XG4gICAgICAgIHRoaXMuc2FmZXR5U2V0dGluZ3MgPSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMuc2FmZXR5U2V0dGluZ3M7XG4gICAgICAgIHRoaXMudG9vbHMgPSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMudG9vbHM7XG4gICAgICAgIHRoaXMucmVxdWVzdE9wdGlvbnMgPSAoX2EgPSBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMucmVxdWVzdE9wdGlvbnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9O1xuICAgICAgICBpZiAoZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zLnN5c3RlbUluc3RydWN0aW9uKSB7XG4gICAgICAgICAgICBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMuc3lzdGVtSW5zdHJ1Y3Rpb24ucm9sZSA9IHV0aWxfMS5jb25zdGFudHMuU1lTVEVNX1JPTEU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zeXN0ZW1JbnN0cnVjdGlvbiA9IGdldEdlbmVyYXRpdmVNb2RlbFBhcmFtcy5zeXN0ZW1JbnN0cnVjdGlvbjtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwuc3RhcnRzV2l0aCgnbW9kZWxzLycpKSB7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hlck1vZGVsRW5kcG9pbnQgPSBgcHVibGlzaGVycy9nb29nbGUvJHt0aGlzLm1vZGVsfWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hlck1vZGVsRW5kcG9pbnQgPSBgcHVibGlzaGVycy9nb29nbGUvbW9kZWxzLyR7dGhpcy5tb2RlbH1gO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYWNjZXNzIHRva2VuIGZyb20gR29vZ2xlQXV0aC4gVGhyb3dzIHtAbGluayBHb29nbGVBdXRoRXJyb3J9IHdoZW5cbiAgICAgKiBmYWlscy5cbiAgICAgKiBAcmV0dXJucyBQcm9taXNlIG9mIHRva2VuIHN0cmluZy5cbiAgICAgKi9cbiAgICBmZXRjaFRva2VuKCkge1xuICAgICAgICBjb25zdCB0b2tlblByb21pc2UgPSB0aGlzLmdvb2dsZUF1dGguZ2V0QWNjZXNzVG9rZW4oKS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnNfMS5Hb29nbGVBdXRoRXJyb3IodXRpbF8xLmNvbnN0YW50cy5DUkVERU5USUFMX0VSUk9SX01FU1NBR0UsIGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRva2VuUHJvbWlzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZXMgYW4gYXN5bmMgY2FsbCB0byBnZW5lcmF0ZSBjb250ZW50LlxuICAgICAqXG4gICAgICogVGhlIHJlc3BvbnNlIHdpbGwgYmUgcmV0dXJuZWQgaW4ge0BsaW5rIEdlbmVyYXRlQ29udGVudFJlc3VsdC5yZXNwb25zZX0uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICogICBjb250ZW50czogW3tyb2xlOiAndXNlcicsIHBhcnRzOiBbe3RleHQ6ICdIb3cgYXJlIHlvdSBkb2luZyB0b2RheT8nfV19XSxcbiAgICAgKiB9O1xuICAgICAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdlbmVyYXRpdmVNb2RlbFByZXZpZXcuZ2VuZXJhdGVDb250ZW50KHJlcXVlc3QpO1xuICAgICAqIGNvbnNvbGUubG9nKCdSZXNwb25zZTogJywgSlNPTi5zdHJpbmdpZnkocmVzdWx0LnJlc3BvbnNlKSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIEEgR2VuZXJhdGVDb250ZW50UmVxdWVzdCBvYmplY3Qgd2l0aCB0aGUgcmVxdWVzdCBjb250ZW50cy5cbiAgICAgKiBAcmV0dXJucyBUaGUgR2VuZXJhdGVDb250ZW50UmVzcG9uc2Ugb2JqZWN0IHdpdGggdGhlIHJlc3BvbnNlIGNhbmRpZGF0ZXMuXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGVDb250ZW50KHJlcXVlc3QpIHtcbiAgICAgICAgcmVxdWVzdCA9IGZvcm11bGF0ZVJlcXVlc3RUb0dlbmVyYXRlQ29udGVudFJlcXVlc3QocmVxdWVzdCk7XG4gICAgICAgIGNvbnN0IGZvcm11bGF0ZWRSZXF1ZXN0ID0gZm9ybXVsYXRlU3lzdGVtSW5zdHJ1Y3Rpb25JbnRvR2VuZXJhdGVDb250ZW50UmVxdWVzdChyZXF1ZXN0LCB0aGlzLnN5c3RlbUluc3RydWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICgwLCBnZW5lcmF0ZV9jb250ZW50XzEuZ2VuZXJhdGVDb250ZW50KSh0aGlzLmxvY2F0aW9uLCB0aGlzLnByb2plY3QsIHRoaXMucHVibGlzaGVyTW9kZWxFbmRwb2ludCwgdGhpcy5mZXRjaFRva2VuKCksIGZvcm11bGF0ZWRSZXF1ZXN0LCB0aGlzLmFwaUVuZHBvaW50LCB0aGlzLmdlbmVyYXRpb25Db25maWcsIHRoaXMuc2FmZXR5U2V0dGluZ3MsIHRoaXMudG9vbHMsIHRoaXMucmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhbiBhc3luYyBzdHJlYW0gcmVxdWVzdCB0byBnZW5lcmF0ZSBjb250ZW50LlxuICAgICAqXG4gICAgICogVGhlIHJlc3BvbnNlIGlzIHJldHVybmVkIGNodW5rIGJ5IGNodW5rIGFzIGl0J3MgYmVpbmcgZ2VuZXJhdGVkIGluIHtAbGlua1xuICAgICAqIFN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdC5zdHJlYW19LiBBZnRlciBhbGwgY2h1bmtzIG9mIHRoZSByZXNwb25zZSBhcmVcbiAgICAgKiByZXR1cm5lZCwgdGhlIGFnZ3JlZ2F0ZWQgcmVzcG9uc2UgaXMgYXZhaWxhYmxlIGluXG4gICAgICoge0BsaW5rIFN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdC5yZXNwb25zZX0uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICogICBjb250ZW50czogW3tyb2xlOiAndXNlcicsIHBhcnRzOiBbe3RleHQ6ICdIb3cgYXJlIHlvdSBkb2luZyB0b2RheT8nfV19XSxcbiAgICAgKiB9O1xuICAgICAqIGNvbnN0IHN0cmVhbWluZ1Jlc3VsdCA9IGF3YWl0IGdlbmVyYXRpdmVNb2RlbFByZXZpZXcuZ2VuZXJhdGVDb250ZW50U3RyZWFtKHJlcXVlc3QpO1xuICAgICAqIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBzdHJlYW1pbmdSZXN1bHQuc3RyZWFtKSB7XG4gICAgICogICBjb25zb2xlLmxvZygnc3RyZWFtIGNodW5rOiAnLCBKU09OLnN0cmluZ2lmeShpdGVtKSk7XG4gICAgICogfVxuICAgICAqIGNvbnN0IGFnZ3JlZ2F0ZWRSZXNwb25zZSA9IGF3YWl0IHN0cmVhbWluZ1Jlc3VsdC5yZXNwb25zZTtcbiAgICAgKiBjb25zb2xlLmxvZygnYWdncmVnYXRlZCByZXNwb25zZTogJywgSlNPTi5zdHJpbmdpZnkoYWdncmVnYXRlZFJlc3BvbnNlKSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIHtAbGluayBHZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0fVxuICAgICAqIEByZXR1cm5zIFByb21pc2Ugb2Yge0BsaW5rIFN0cmVhbUdlbmVyYXRlQ29udGVudFJlc3VsdH1cbiAgICAgKi9cbiAgICBhc3luYyBnZW5lcmF0ZUNvbnRlbnRTdHJlYW0ocmVxdWVzdCkge1xuICAgICAgICByZXF1ZXN0ID0gZm9ybXVsYXRlUmVxdWVzdFRvR2VuZXJhdGVDb250ZW50UmVxdWVzdChyZXF1ZXN0KTtcbiAgICAgICAgY29uc3QgZm9ybXVsYXRlZFJlcXVlc3QgPSBmb3JtdWxhdGVTeXN0ZW1JbnN0cnVjdGlvbkludG9HZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0KHJlcXVlc3QsIHRoaXMuc3lzdGVtSW5zdHJ1Y3Rpb24pO1xuICAgICAgICByZXR1cm4gKDAsIGdlbmVyYXRlX2NvbnRlbnRfMS5nZW5lcmF0ZUNvbnRlbnRTdHJlYW0pKHRoaXMubG9jYXRpb24sIHRoaXMucHJvamVjdCwgdGhpcy5wdWJsaXNoZXJNb2RlbEVuZHBvaW50LCB0aGlzLmZldGNoVG9rZW4oKSwgZm9ybXVsYXRlZFJlcXVlc3QsIHRoaXMuYXBpRW5kcG9pbnQsIHRoaXMuZ2VuZXJhdGlvbkNvbmZpZywgdGhpcy5zYWZldHlTZXR0aW5ncywgdGhpcy50b29scywgdGhpcy5yZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ha2VzIGFuIGFzeW5jIHJlcXVlc3QgdG8gY291bnQgdG9rZW5zLlxuICAgICAqXG4gICAgICogVGhlIGBjb3VudFRva2Vuc2AgZnVuY3Rpb24gcmV0dXJucyB0aGUgdG9rZW4gY291bnQgYW5kIHRoZSBudW1iZXIgb2ZcbiAgICAgKiBiaWxsYWJsZSBjaGFyYWN0ZXJzIGZvciBhIHByb21wdC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgXG4gICAgICogY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgKiAgIGNvbnRlbnRzOiBbe3JvbGU6ICd1c2VyJywgcGFydHM6IFt7dGV4dDogJ0hvdyBhcmUgeW91IGRvaW5nIHRvZGF5Pyd9XX1dLFxuICAgICAqIH07XG4gICAgICogY29uc3QgcmVzcCA9IGF3YWl0IGdlbmVyYXRpdmVNb2RlbFByZXZpZXcuY291bnRUb2tlbnMocmVxdWVzdCk7XG4gICAgICogY29uc29sZS5sb2coJ2NvdW50IHRva2VucyByZXNwb25zZTogJywgcmVzcCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIEEgQ291bnRUb2tlbnNSZXF1ZXN0IG9iamVjdCB3aXRoIHRoZSByZXF1ZXN0IGNvbnRlbnRzLlxuICAgICAqIEByZXR1cm5zIFRoZSBDb3VudFRva2Vuc1Jlc3BvbnNlIG9iamVjdCB3aXRoIHRoZSB0b2tlbiBjb3VudC5cbiAgICAgKi9cbiAgICBhc3luYyBjb3VudFRva2VucyhyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiAoMCwgY291bnRfdG9rZW5zXzEuY291bnRUb2tlbnMpKHRoaXMubG9jYXRpb24sIHRoaXMucHJvamVjdCwgdGhpcy5wdWJsaXNoZXJNb2RlbEVuZHBvaW50LCB0aGlzLmZldGNoVG9rZW4oKSwgcmVxdWVzdCwgdGhpcy5hcGlFbmRwb2ludCwgdGhpcy5yZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlcyBhIHtAbGluayBDaGF0U2Vzc2lvblByZXZpZXd9LlxuICAgICAqXG4gICAgICogVGhlIHtAbGluayBDaGF0U2Vzc2lvblByZXZpZXd9IGNsYXNzIGlzIGEgc3RhdGVmdWwgY2xhc3MgdGhhdCBob2xkcyB0aGUgc3RhdGUgb2ZcbiAgICAgKiB0aGUgY29udmVyc2F0aW9uIHdpdGggdGhlIG1vZGVsIGFuZCBwcm92aWRlcyBtZXRob2RzIHRvIGludGVyYWN0IHdpdGggdGhlXG4gICAgICogbW9kZWwgaW4gY2hhdCBtb2RlLiBDYWxsaW5nIHRoaXMgbWV0aG9kIGRvZXNuJ3QgbWFrZSBhbnkgY2FsbHMgdG8gYSByZW1vdGVcbiAgICAgKiBlbmRwb2ludC4gVG8gbWFrZSByZW1vdGUgY2FsbCwgdXNlIHtAbGluayBDaGF0U2Vzc2lvblByZXZpZXcuc2VuZE1lc3NhZ2V9IG9yXG4gICAgICoge0BsaW5rIENoYXRTZXNzaW9uUHJldmlldy5zZW5kTWVzc2FnZVN0cmVhbX0uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IGNoYXQgPSBnZW5lcmF0aXZlTW9kZWxQcmV2aWV3LnN0YXJ0Q2hhdCgpO1xuICAgICAqIGNvbnN0IHJlc3VsdDEgPSBhd2FpdCBjaGF0LnNlbmRNZXNzYWdlKFwiSG93IGNhbiBJIGxlYXJuIG1vcmUgYWJvdXQgTm9kZS5qcz9cIik7XG4gICAgICogY29uc3QgcmVzcG9uc2UxID0gYXdhaXQgcmVzdWx0MS5yZXNwb25zZTtcbiAgICAgKiBjb25zb2xlLmxvZygnUmVzcG9uc2U6ICcsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlMSkpO1xuICAgICAqXG4gICAgICogY29uc3QgcmVzdWx0MiA9IGF3YWl0IGNoYXQuc2VuZE1lc3NhZ2VTdHJlYW0oXCJXaGF0IGFib3V0IHB5dGhvbj9cIik7XG4gICAgICogY29uc3QgcmVzcG9uc2UyID0gYXdhaXQgcmVzdWx0Mi5yZXNwb25zZTtcbiAgICAgKiBjb25zb2xlLmxvZygnUmVzcG9uc2U6ICcsIEpTT04uc3RyaW5naWZ5KGF3YWl0IHJlc3BvbnNlMikpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHJlcXVlc3QgLSB7QGxpbmsgU3RhcnRDaGF0UGFyYW1zfVxuICAgICAqIEByZXR1cm5zIHtAbGluayBDaGF0U2Vzc2lvblByZXZpZXd9XG4gICAgICovXG4gICAgc3RhcnRDaGF0KHJlcXVlc3QpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBjb25zdCBzdGFydENoYXRSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgcHJvamVjdDogdGhpcy5wcm9qZWN0LFxuICAgICAgICAgICAgbG9jYXRpb246IHRoaXMubG9jYXRpb24sXG4gICAgICAgICAgICBnb29nbGVBdXRoOiB0aGlzLmdvb2dsZUF1dGgsXG4gICAgICAgICAgICBwdWJsaXNoZXJNb2RlbEVuZHBvaW50OiB0aGlzLnB1Ymxpc2hlck1vZGVsRW5kcG9pbnQsXG4gICAgICAgICAgICB0b29sczogdGhpcy50b29scyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHJlcXVlc3QpIHtcbiAgICAgICAgICAgIHN0YXJ0Q2hhdFJlcXVlc3QuaGlzdG9yeSA9IHJlcXVlc3QuaGlzdG9yeTtcbiAgICAgICAgICAgIHN0YXJ0Q2hhdFJlcXVlc3QuZ2VuZXJhdGlvbkNvbmZpZyA9XG4gICAgICAgICAgICAgICAgKF9hID0gcmVxdWVzdC5nZW5lcmF0aW9uQ29uZmlnKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmdlbmVyYXRpb25Db25maWc7XG4gICAgICAgICAgICBzdGFydENoYXRSZXF1ZXN0LnNhZmV0eVNldHRpbmdzID1cbiAgICAgICAgICAgICAgICAoX2IgPSByZXF1ZXN0LnNhZmV0eVNldHRpbmdzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLnNhZmV0eVNldHRpbmdzO1xuICAgICAgICAgICAgc3RhcnRDaGF0UmVxdWVzdC50b29scyA9IChfYyA9IHJlcXVlc3QudG9vbHMpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHRoaXMudG9vbHM7XG4gICAgICAgICAgICBzdGFydENoYXRSZXF1ZXN0LnN5c3RlbUluc3RydWN0aW9uID1cbiAgICAgICAgICAgICAgICAoX2QgPSByZXF1ZXN0LnN5c3RlbUluc3RydWN0aW9uKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiB0aGlzLnN5c3RlbUluc3RydWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgY2hhdF9zZXNzaW9uXzEuQ2hhdFNlc3Npb25QcmV2aWV3KHN0YXJ0Q2hhdFJlcXVlc3QsIHRoaXMucmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydHMuR2VuZXJhdGl2ZU1vZGVsUHJldmlldyA9IEdlbmVyYXRpdmVNb2RlbFByZXZpZXc7XG5mdW5jdGlvbiBmb3JtdWxhdGVSZXF1ZXN0VG9HZW5lcmF0ZUNvbnRlbnRSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICBpZiAodHlwZW9mIHJlcXVlc3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb250ZW50czogW3sgcm9sZTogdXRpbF8xLmNvbnN0YW50cy5VU0VSX1JPTEUsIHBhcnRzOiBbeyB0ZXh0OiByZXF1ZXN0IH1dIH1dLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVxdWVzdDtcbn1cbmZ1bmN0aW9uIGZvcm11bGF0ZVN5c3RlbUluc3RydWN0aW9uSW50b0dlbmVyYXRlQ29udGVudFJlcXVlc3QobWV0aG9kUmVxdWVzdCwgY2xhc3NTeXN0ZW1JbnN0cnVjdGlvbikge1xuICAgIGlmIChtZXRob2RSZXF1ZXN0LnN5c3RlbUluc3RydWN0aW9uKSB7XG4gICAgICAgIG1ldGhvZFJlcXVlc3Quc3lzdGVtSW5zdHJ1Y3Rpb24ucm9sZSA9IHV0aWxfMS5jb25zdGFudHMuU1lTVEVNX1JPTEU7XG4gICAgICAgIHJldHVybiBtZXRob2RSZXF1ZXN0O1xuICAgIH1cbiAgICBpZiAoY2xhc3NTeXN0ZW1JbnN0cnVjdGlvbikge1xuICAgICAgICBtZXRob2RSZXF1ZXN0LnN5c3RlbUluc3RydWN0aW9uID0gY2xhc3NTeXN0ZW1JbnN0cnVjdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIG1ldGhvZFJlcXVlc3Q7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0aXZlX21vZGVscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/generative_models.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/models/index.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GenerativeModelPreview = exports.GenerativeModel = exports.ChatSessionPreview = exports.ChatSession = void 0;\nvar chat_session_1 = __webpack_require__(/*! ./chat_session */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/chat_session.js\");\nObject.defineProperty(exports, \"ChatSession\", ({ enumerable: true, get: function () { return chat_session_1.ChatSession; } }));\nObject.defineProperty(exports, \"ChatSessionPreview\", ({ enumerable: true, get: function () { return chat_session_1.ChatSessionPreview; } }));\nvar generative_models_1 = __webpack_require__(/*! ./generative_models */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/generative_models.js\");\nObject.defineProperty(exports, \"GenerativeModel\", ({ enumerable: true, get: function () { return generative_models_1.GenerativeModel; } }));\nObject.defineProperty(exports, \"GenerativeModelPreview\", ({ enumerable: true, get: function () { return generative_models_1.GenerativeModelPreview; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvbW9kZWxzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsOEJBQThCLEdBQUcsdUJBQXVCLEdBQUcsMEJBQTBCLEdBQUcsbUJBQW1CO0FBQzNHLHFCQUFxQixtQkFBTyxDQUFDLG9HQUFnQjtBQUM3QywrQ0FBOEMsRUFBRSxxQ0FBcUMsc0NBQXNDLEVBQUM7QUFDNUgsc0RBQXFELEVBQUUscUNBQXFDLDZDQUE2QyxFQUFDO0FBQzFJLDBCQUEwQixtQkFBTyxDQUFDLDhHQUFxQjtBQUN2RCxtREFBa0QsRUFBRSxxQ0FBcUMsK0NBQStDLEVBQUM7QUFDekksMERBQXlELEVBQUUscUNBQXFDLHNEQUFzRCxFQUFDO0FBQ3ZKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVpem5vdGUvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvbW9kZWxzL2luZGV4LmpzPzc0YmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5HZW5lcmF0aXZlTW9kZWxQcmV2aWV3ID0gZXhwb3J0cy5HZW5lcmF0aXZlTW9kZWwgPSBleHBvcnRzLkNoYXRTZXNzaW9uUHJldmlldyA9IGV4cG9ydHMuQ2hhdFNlc3Npb24gPSB2b2lkIDA7XG52YXIgY2hhdF9zZXNzaW9uXzEgPSByZXF1aXJlKFwiLi9jaGF0X3Nlc3Npb25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDaGF0U2Vzc2lvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2hhdF9zZXNzaW9uXzEuQ2hhdFNlc3Npb247IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDaGF0U2Vzc2lvblByZXZpZXdcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNoYXRfc2Vzc2lvbl8xLkNoYXRTZXNzaW9uUHJldmlldzsgfSB9KTtcbnZhciBnZW5lcmF0aXZlX21vZGVsc18xID0gcmVxdWlyZShcIi4vZ2VuZXJhdGl2ZV9tb2RlbHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJHZW5lcmF0aXZlTW9kZWxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdlbmVyYXRpdmVfbW9kZWxzXzEuR2VuZXJhdGl2ZU1vZGVsOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiR2VuZXJhdGl2ZU1vZGVsUHJldmlld1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2VuZXJhdGl2ZV9tb2RlbHNfMS5HZW5lcmF0aXZlTW9kZWxQcmV2aWV3OyB9IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/content.js":
/*!************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/types/content.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FunctionDeclarationSchemaType = exports.FinishReason = exports.BlockedReason = exports.HarmSeverity = exports.HarmProbability = exports.HarmBlockThreshold = exports.HarmCategory = void 0;\n/**\n * Harm categories that will block the content.\n */\nvar HarmCategory;\n(function (HarmCategory) {\n    /** The harm category is unspecified. */\n    HarmCategory[\"HARM_CATEGORY_UNSPECIFIED\"] = \"HARM_CATEGORY_UNSPECIFIED\";\n    /** The harm category is hate speech. */\n    HarmCategory[\"HARM_CATEGORY_HATE_SPEECH\"] = \"HARM_CATEGORY_HATE_SPEECH\";\n    /** The harm category is dangerous content. */\n    HarmCategory[\"HARM_CATEGORY_DANGEROUS_CONTENT\"] = \"HARM_CATEGORY_DANGEROUS_CONTENT\";\n    /** The harm category is harassment. */\n    HarmCategory[\"HARM_CATEGORY_HARASSMENT\"] = \"HARM_CATEGORY_HARASSMENT\";\n    /** The harm category is sexually explicit content. */\n    HarmCategory[\"HARM_CATEGORY_SEXUALLY_EXPLICIT\"] = \"HARM_CATEGORY_SEXUALLY_EXPLICIT\";\n})(HarmCategory || (exports.HarmCategory = HarmCategory = {}));\n/**\n * Probability based thresholds levels for blocking.\n */\nvar HarmBlockThreshold;\n(function (HarmBlockThreshold) {\n    /** Unspecified harm block threshold. */\n    HarmBlockThreshold[\"HARM_BLOCK_THRESHOLD_UNSPECIFIED\"] = \"HARM_BLOCK_THRESHOLD_UNSPECIFIED\";\n    /** Block low threshold and above (i.e. block more). */\n    HarmBlockThreshold[\"BLOCK_LOW_AND_ABOVE\"] = \"BLOCK_LOW_AND_ABOVE\";\n    /** Block medium threshold and above. */\n    HarmBlockThreshold[\"BLOCK_MEDIUM_AND_ABOVE\"] = \"BLOCK_MEDIUM_AND_ABOVE\";\n    /** Block only high threshold (i.e. block less). */\n    HarmBlockThreshold[\"BLOCK_ONLY_HIGH\"] = \"BLOCK_ONLY_HIGH\";\n    /** Block none. */\n    HarmBlockThreshold[\"BLOCK_NONE\"] = \"BLOCK_NONE\";\n})(HarmBlockThreshold || (exports.HarmBlockThreshold = HarmBlockThreshold = {}));\n/**\n * Harm probability levels in the content.\n */\nvar HarmProbability;\n(function (HarmProbability) {\n    /** Harm probability unspecified. */\n    HarmProbability[\"HARM_PROBABILITY_UNSPECIFIED\"] = \"HARM_PROBABILITY_UNSPECIFIED\";\n    HarmProbability[\"NEGLIGIBLE\"] = \"NEGLIGIBLE\";\n    /** Low level of harm. */\n    HarmProbability[\"LOW\"] = \"LOW\";\n    /** Medium level of harm. */\n    HarmProbability[\"MEDIUM\"] = \"MEDIUM\";\n    /** High level of harm. */\n    HarmProbability[\"HIGH\"] = \"HIGH\";\n})(HarmProbability || (exports.HarmProbability = HarmProbability = {}));\n/**\n * Harm severity levels\n */\nvar HarmSeverity;\n(function (HarmSeverity) {\n    /** Harm severity unspecified. */\n    HarmSeverity[\"HARM_SEVERITY_UNSPECIFIED\"] = \"HARM_SEVERITY_UNSPECIFIED\";\n    /** Negligible level of harm severity. */\n    HarmSeverity[\"HARM_SEVERITY_NEGLIGIBLE\"] = \"HARM_SEVERITY_NEGLIGIBLE\";\n    /** Low level of harm severity. */\n    HarmSeverity[\"HARM_SEVERITY_LOW\"] = \"HARM_SEVERITY_LOW\";\n    /** Medium level of harm severity. */\n    HarmSeverity[\"HARM_SEVERITY_MEDIUM\"] = \"HARM_SEVERITY_MEDIUM\";\n    /** High level of harm severity. */\n    HarmSeverity[\"HARM_SEVERITY_HIGH\"] = \"HARM_SEVERITY_HIGH\";\n})(HarmSeverity || (exports.HarmSeverity = HarmSeverity = {}));\n/**\n * The reason why the reponse is blocked.\n */\nvar BlockedReason;\n(function (BlockedReason) {\n    /** Unspecified blocked reason. */\n    BlockedReason[\"BLOCKED_REASON_UNSPECIFIED\"] = \"BLOCK_REASON_UNSPECIFIED\";\n    /** Candidates blocked due to safety. */\n    BlockedReason[\"SAFETY\"] = \"SAFETY\";\n    /** Candidates blocked due to other reason. */\n    BlockedReason[\"OTHER\"] = \"OTHER\";\n    /** terminology blocklist. */\n    BlockedReason[\"BLOCKLIST\"] = \"BLOCKLIST\";\n    /** Candidates blocked due to prohibited content. */\n    BlockedReason[\"PROHIBITED_CONTENT\"] = \"PROHIBITED_CONTENT\";\n})(BlockedReason || (exports.BlockedReason = BlockedReason = {}));\n/**\n * The reason why the model stopped generating tokens.\n * If empty, the model has not stopped generating the tokens.\n */\nvar FinishReason;\n(function (FinishReason) {\n    /** The finish reason is unspecified. */\n    FinishReason[\"FINISH_REASON_UNSPECIFIED\"] = \"FINISH_REASON_UNSPECIFIED\";\n    /** Natural stop point of the model or provided stop sequence. */\n    FinishReason[\"STOP\"] = \"STOP\";\n    /** The maximum number of tokens as specified in the request was reached. */\n    FinishReason[\"MAX_TOKENS\"] = \"MAX_TOKENS\";\n    /**\n     * The token generation was stopped as the response was flagged for safety\n     * reasons.\n     */\n    FinishReason[\"SAFETY\"] = \"SAFETY\";\n    /**\n     * The token generation was stopped as the response was flagged for\n     * unauthorized citations.\n     */\n    FinishReason[\"RECITATION\"] = \"RECITATION\";\n    /** All other reasons that stopped the token generation. */\n    FinishReason[\"OTHER\"] = \"OTHER\";\n    /**\n     * The token generation was stopped as the response was flagged for the\n     * terms which are included from the terminology blocklist.\n     */\n    FinishReason[\"BLOCKLIST\"] = \"BLOCKLIST\";\n    /**\n     * The token generation was stopped as the response was flagged for\n     * the prohibited contents.\n     */\n    FinishReason[\"PROHIBITED_CONTENT\"] = \"PROHIBITED_CONTENT\";\n    /**\n     * The token generation was stopped as the response was flagged for\n     * Sensitive Personally Identifiable Information (SPII) contents.\n     */\n    FinishReason[\"SPII\"] = \"SPII\";\n})(FinishReason || (exports.FinishReason = FinishReason = {}));\n/**\n * Contains the list of OpenAPI data types\n * as defined by https://swagger.io/docs/specification/data-models/data-types/\n */\nvar FunctionDeclarationSchemaType;\n(function (FunctionDeclarationSchemaType) {\n    /** String type. */\n    FunctionDeclarationSchemaType[\"STRING\"] = \"STRING\";\n    /** Number type. */\n    FunctionDeclarationSchemaType[\"NUMBER\"] = \"NUMBER\";\n    /** Integer type. */\n    FunctionDeclarationSchemaType[\"INTEGER\"] = \"INTEGER\";\n    /** Boolean type. */\n    FunctionDeclarationSchemaType[\"BOOLEAN\"] = \"BOOLEAN\";\n    /** Array type. */\n    FunctionDeclarationSchemaType[\"ARRAY\"] = \"ARRAY\";\n    /** Object type. */\n    FunctionDeclarationSchemaType[\"OBJECT\"] = \"OBJECT\";\n})(FunctionDeclarationSchemaType || (exports.FunctionDeclarationSchemaType = FunctionDeclarationSchemaType = {}));\n//# sourceMappingURL=content.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvY29udGVudC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFDQUFxQyxHQUFHLG9CQUFvQixHQUFHLHFCQUFxQixHQUFHLG9CQUFvQixHQUFHLHVCQUF1QixHQUFHLDBCQUEwQixHQUFHLG9CQUFvQjtBQUN6TDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG1CQUFtQixvQkFBb0Isb0JBQW9CO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMseUJBQXlCLDBCQUEwQiwwQkFBMEI7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsc0JBQXNCLHVCQUF1Qix1QkFBdUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxtQkFBbUIsb0JBQW9CLG9CQUFvQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9CQUFvQixxQkFBcUIscUJBQXFCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsbUJBQW1CLG9CQUFvQixvQkFBb0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQ0FBb0MscUNBQXFDLHFDQUFxQztBQUMvRyIsInNvdXJjZXMiOlsid2VicGFjazovL3F1aXpub3RlLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUtY2xvdWQvdmVydGV4YWkvYnVpbGQvc3JjL3R5cGVzL2NvbnRlbnQuanM/N2ZjMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZ1bmN0aW9uRGVjbGFyYXRpb25TY2hlbWFUeXBlID0gZXhwb3J0cy5GaW5pc2hSZWFzb24gPSBleHBvcnRzLkJsb2NrZWRSZWFzb24gPSBleHBvcnRzLkhhcm1TZXZlcml0eSA9IGV4cG9ydHMuSGFybVByb2JhYmlsaXR5ID0gZXhwb3J0cy5IYXJtQmxvY2tUaHJlc2hvbGQgPSBleHBvcnRzLkhhcm1DYXRlZ29yeSA9IHZvaWQgMDtcbi8qKlxuICogSGFybSBjYXRlZ29yaWVzIHRoYXQgd2lsbCBibG9jayB0aGUgY29udGVudC5cbiAqL1xudmFyIEhhcm1DYXRlZ29yeTtcbihmdW5jdGlvbiAoSGFybUNhdGVnb3J5KSB7XG4gICAgLyoqIFRoZSBoYXJtIGNhdGVnb3J5IGlzIHVuc3BlY2lmaWVkLiAqL1xuICAgIEhhcm1DYXRlZ29yeVtcIkhBUk1fQ0FURUdPUllfVU5TUEVDSUZJRURcIl0gPSBcIkhBUk1fQ0FURUdPUllfVU5TUEVDSUZJRURcIjtcbiAgICAvKiogVGhlIGhhcm0gY2F0ZWdvcnkgaXMgaGF0ZSBzcGVlY2guICovXG4gICAgSGFybUNhdGVnb3J5W1wiSEFSTV9DQVRFR09SWV9IQVRFX1NQRUVDSFwiXSA9IFwiSEFSTV9DQVRFR09SWV9IQVRFX1NQRUVDSFwiO1xuICAgIC8qKiBUaGUgaGFybSBjYXRlZ29yeSBpcyBkYW5nZXJvdXMgY29udGVudC4gKi9cbiAgICBIYXJtQ2F0ZWdvcnlbXCJIQVJNX0NBVEVHT1JZX0RBTkdFUk9VU19DT05URU5UXCJdID0gXCJIQVJNX0NBVEVHT1JZX0RBTkdFUk9VU19DT05URU5UXCI7XG4gICAgLyoqIFRoZSBoYXJtIGNhdGVnb3J5IGlzIGhhcmFzc21lbnQuICovXG4gICAgSGFybUNhdGVnb3J5W1wiSEFSTV9DQVRFR09SWV9IQVJBU1NNRU5UXCJdID0gXCJIQVJNX0NBVEVHT1JZX0hBUkFTU01FTlRcIjtcbiAgICAvKiogVGhlIGhhcm0gY2F0ZWdvcnkgaXMgc2V4dWFsbHkgZXhwbGljaXQgY29udGVudC4gKi9cbiAgICBIYXJtQ2F0ZWdvcnlbXCJIQVJNX0NBVEVHT1JZX1NFWFVBTExZX0VYUExJQ0lUXCJdID0gXCJIQVJNX0NBVEVHT1JZX1NFWFVBTExZX0VYUExJQ0lUXCI7XG59KShIYXJtQ2F0ZWdvcnkgfHwgKGV4cG9ydHMuSGFybUNhdGVnb3J5ID0gSGFybUNhdGVnb3J5ID0ge30pKTtcbi8qKlxuICogUHJvYmFiaWxpdHkgYmFzZWQgdGhyZXNob2xkcyBsZXZlbHMgZm9yIGJsb2NraW5nLlxuICovXG52YXIgSGFybUJsb2NrVGhyZXNob2xkO1xuKGZ1bmN0aW9uIChIYXJtQmxvY2tUaHJlc2hvbGQpIHtcbiAgICAvKiogVW5zcGVjaWZpZWQgaGFybSBibG9jayB0aHJlc2hvbGQuICovXG4gICAgSGFybUJsb2NrVGhyZXNob2xkW1wiSEFSTV9CTE9DS19USFJFU0hPTERfVU5TUEVDSUZJRURcIl0gPSBcIkhBUk1fQkxPQ0tfVEhSRVNIT0xEX1VOU1BFQ0lGSUVEXCI7XG4gICAgLyoqIEJsb2NrIGxvdyB0aHJlc2hvbGQgYW5kIGFib3ZlIChpLmUuIGJsb2NrIG1vcmUpLiAqL1xuICAgIEhhcm1CbG9ja1RocmVzaG9sZFtcIkJMT0NLX0xPV19BTkRfQUJPVkVcIl0gPSBcIkJMT0NLX0xPV19BTkRfQUJPVkVcIjtcbiAgICAvKiogQmxvY2sgbWVkaXVtIHRocmVzaG9sZCBhbmQgYWJvdmUuICovXG4gICAgSGFybUJsb2NrVGhyZXNob2xkW1wiQkxPQ0tfTUVESVVNX0FORF9BQk9WRVwiXSA9IFwiQkxPQ0tfTUVESVVNX0FORF9BQk9WRVwiO1xuICAgIC8qKiBCbG9jayBvbmx5IGhpZ2ggdGhyZXNob2xkIChpLmUuIGJsb2NrIGxlc3MpLiAqL1xuICAgIEhhcm1CbG9ja1RocmVzaG9sZFtcIkJMT0NLX09OTFlfSElHSFwiXSA9IFwiQkxPQ0tfT05MWV9ISUdIXCI7XG4gICAgLyoqIEJsb2NrIG5vbmUuICovXG4gICAgSGFybUJsb2NrVGhyZXNob2xkW1wiQkxPQ0tfTk9ORVwiXSA9IFwiQkxPQ0tfTk9ORVwiO1xufSkoSGFybUJsb2NrVGhyZXNob2xkIHx8IChleHBvcnRzLkhhcm1CbG9ja1RocmVzaG9sZCA9IEhhcm1CbG9ja1RocmVzaG9sZCA9IHt9KSk7XG4vKipcbiAqIEhhcm0gcHJvYmFiaWxpdHkgbGV2ZWxzIGluIHRoZSBjb250ZW50LlxuICovXG52YXIgSGFybVByb2JhYmlsaXR5O1xuKGZ1bmN0aW9uIChIYXJtUHJvYmFiaWxpdHkpIHtcbiAgICAvKiogSGFybSBwcm9iYWJpbGl0eSB1bnNwZWNpZmllZC4gKi9cbiAgICBIYXJtUHJvYmFiaWxpdHlbXCJIQVJNX1BST0JBQklMSVRZX1VOU1BFQ0lGSUVEXCJdID0gXCJIQVJNX1BST0JBQklMSVRZX1VOU1BFQ0lGSUVEXCI7XG4gICAgSGFybVByb2JhYmlsaXR5W1wiTkVHTElHSUJMRVwiXSA9IFwiTkVHTElHSUJMRVwiO1xuICAgIC8qKiBMb3cgbGV2ZWwgb2YgaGFybS4gKi9cbiAgICBIYXJtUHJvYmFiaWxpdHlbXCJMT1dcIl0gPSBcIkxPV1wiO1xuICAgIC8qKiBNZWRpdW0gbGV2ZWwgb2YgaGFybS4gKi9cbiAgICBIYXJtUHJvYmFiaWxpdHlbXCJNRURJVU1cIl0gPSBcIk1FRElVTVwiO1xuICAgIC8qKiBIaWdoIGxldmVsIG9mIGhhcm0uICovXG4gICAgSGFybVByb2JhYmlsaXR5W1wiSElHSFwiXSA9IFwiSElHSFwiO1xufSkoSGFybVByb2JhYmlsaXR5IHx8IChleHBvcnRzLkhhcm1Qcm9iYWJpbGl0eSA9IEhhcm1Qcm9iYWJpbGl0eSA9IHt9KSk7XG4vKipcbiAqIEhhcm0gc2V2ZXJpdHkgbGV2ZWxzXG4gKi9cbnZhciBIYXJtU2V2ZXJpdHk7XG4oZnVuY3Rpb24gKEhhcm1TZXZlcml0eSkge1xuICAgIC8qKiBIYXJtIHNldmVyaXR5IHVuc3BlY2lmaWVkLiAqL1xuICAgIEhhcm1TZXZlcml0eVtcIkhBUk1fU0VWRVJJVFlfVU5TUEVDSUZJRURcIl0gPSBcIkhBUk1fU0VWRVJJVFlfVU5TUEVDSUZJRURcIjtcbiAgICAvKiogTmVnbGlnaWJsZSBsZXZlbCBvZiBoYXJtIHNldmVyaXR5LiAqL1xuICAgIEhhcm1TZXZlcml0eVtcIkhBUk1fU0VWRVJJVFlfTkVHTElHSUJMRVwiXSA9IFwiSEFSTV9TRVZFUklUWV9ORUdMSUdJQkxFXCI7XG4gICAgLyoqIExvdyBsZXZlbCBvZiBoYXJtIHNldmVyaXR5LiAqL1xuICAgIEhhcm1TZXZlcml0eVtcIkhBUk1fU0VWRVJJVFlfTE9XXCJdID0gXCJIQVJNX1NFVkVSSVRZX0xPV1wiO1xuICAgIC8qKiBNZWRpdW0gbGV2ZWwgb2YgaGFybSBzZXZlcml0eS4gKi9cbiAgICBIYXJtU2V2ZXJpdHlbXCJIQVJNX1NFVkVSSVRZX01FRElVTVwiXSA9IFwiSEFSTV9TRVZFUklUWV9NRURJVU1cIjtcbiAgICAvKiogSGlnaCBsZXZlbCBvZiBoYXJtIHNldmVyaXR5LiAqL1xuICAgIEhhcm1TZXZlcml0eVtcIkhBUk1fU0VWRVJJVFlfSElHSFwiXSA9IFwiSEFSTV9TRVZFUklUWV9ISUdIXCI7XG59KShIYXJtU2V2ZXJpdHkgfHwgKGV4cG9ydHMuSGFybVNldmVyaXR5ID0gSGFybVNldmVyaXR5ID0ge30pKTtcbi8qKlxuICogVGhlIHJlYXNvbiB3aHkgdGhlIHJlcG9uc2UgaXMgYmxvY2tlZC5cbiAqL1xudmFyIEJsb2NrZWRSZWFzb247XG4oZnVuY3Rpb24gKEJsb2NrZWRSZWFzb24pIHtcbiAgICAvKiogVW5zcGVjaWZpZWQgYmxvY2tlZCByZWFzb24uICovXG4gICAgQmxvY2tlZFJlYXNvbltcIkJMT0NLRURfUkVBU09OX1VOU1BFQ0lGSUVEXCJdID0gXCJCTE9DS19SRUFTT05fVU5TUEVDSUZJRURcIjtcbiAgICAvKiogQ2FuZGlkYXRlcyBibG9ja2VkIGR1ZSB0byBzYWZldHkuICovXG4gICAgQmxvY2tlZFJlYXNvbltcIlNBRkVUWVwiXSA9IFwiU0FGRVRZXCI7XG4gICAgLyoqIENhbmRpZGF0ZXMgYmxvY2tlZCBkdWUgdG8gb3RoZXIgcmVhc29uLiAqL1xuICAgIEJsb2NrZWRSZWFzb25bXCJPVEhFUlwiXSA9IFwiT1RIRVJcIjtcbiAgICAvKiogdGVybWlub2xvZ3kgYmxvY2tsaXN0LiAqL1xuICAgIEJsb2NrZWRSZWFzb25bXCJCTE9DS0xJU1RcIl0gPSBcIkJMT0NLTElTVFwiO1xuICAgIC8qKiBDYW5kaWRhdGVzIGJsb2NrZWQgZHVlIHRvIHByb2hpYml0ZWQgY29udGVudC4gKi9cbiAgICBCbG9ja2VkUmVhc29uW1wiUFJPSElCSVRFRF9DT05URU5UXCJdID0gXCJQUk9ISUJJVEVEX0NPTlRFTlRcIjtcbn0pKEJsb2NrZWRSZWFzb24gfHwgKGV4cG9ydHMuQmxvY2tlZFJlYXNvbiA9IEJsb2NrZWRSZWFzb24gPSB7fSkpO1xuLyoqXG4gKiBUaGUgcmVhc29uIHdoeSB0aGUgbW9kZWwgc3RvcHBlZCBnZW5lcmF0aW5nIHRva2Vucy5cbiAqIElmIGVtcHR5LCB0aGUgbW9kZWwgaGFzIG5vdCBzdG9wcGVkIGdlbmVyYXRpbmcgdGhlIHRva2Vucy5cbiAqL1xudmFyIEZpbmlzaFJlYXNvbjtcbihmdW5jdGlvbiAoRmluaXNoUmVhc29uKSB7XG4gICAgLyoqIFRoZSBmaW5pc2ggcmVhc29uIGlzIHVuc3BlY2lmaWVkLiAqL1xuICAgIEZpbmlzaFJlYXNvbltcIkZJTklTSF9SRUFTT05fVU5TUEVDSUZJRURcIl0gPSBcIkZJTklTSF9SRUFTT05fVU5TUEVDSUZJRURcIjtcbiAgICAvKiogTmF0dXJhbCBzdG9wIHBvaW50IG9mIHRoZSBtb2RlbCBvciBwcm92aWRlZCBzdG9wIHNlcXVlbmNlLiAqL1xuICAgIEZpbmlzaFJlYXNvbltcIlNUT1BcIl0gPSBcIlNUT1BcIjtcbiAgICAvKiogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRva2VucyBhcyBzcGVjaWZpZWQgaW4gdGhlIHJlcXVlc3Qgd2FzIHJlYWNoZWQuICovXG4gICAgRmluaXNoUmVhc29uW1wiTUFYX1RPS0VOU1wiXSA9IFwiTUFYX1RPS0VOU1wiO1xuICAgIC8qKlxuICAgICAqIFRoZSB0b2tlbiBnZW5lcmF0aW9uIHdhcyBzdG9wcGVkIGFzIHRoZSByZXNwb25zZSB3YXMgZmxhZ2dlZCBmb3Igc2FmZXR5XG4gICAgICogcmVhc29ucy5cbiAgICAgKi9cbiAgICBGaW5pc2hSZWFzb25bXCJTQUZFVFlcIl0gPSBcIlNBRkVUWVwiO1xuICAgIC8qKlxuICAgICAqIFRoZSB0b2tlbiBnZW5lcmF0aW9uIHdhcyBzdG9wcGVkIGFzIHRoZSByZXNwb25zZSB3YXMgZmxhZ2dlZCBmb3JcbiAgICAgKiB1bmF1dGhvcml6ZWQgY2l0YXRpb25zLlxuICAgICAqL1xuICAgIEZpbmlzaFJlYXNvbltcIlJFQ0lUQVRJT05cIl0gPSBcIlJFQ0lUQVRJT05cIjtcbiAgICAvKiogQWxsIG90aGVyIHJlYXNvbnMgdGhhdCBzdG9wcGVkIHRoZSB0b2tlbiBnZW5lcmF0aW9uLiAqL1xuICAgIEZpbmlzaFJlYXNvbltcIk9USEVSXCJdID0gXCJPVEhFUlwiO1xuICAgIC8qKlxuICAgICAqIFRoZSB0b2tlbiBnZW5lcmF0aW9uIHdhcyBzdG9wcGVkIGFzIHRoZSByZXNwb25zZSB3YXMgZmxhZ2dlZCBmb3IgdGhlXG4gICAgICogdGVybXMgd2hpY2ggYXJlIGluY2x1ZGVkIGZyb20gdGhlIHRlcm1pbm9sb2d5IGJsb2NrbGlzdC5cbiAgICAgKi9cbiAgICBGaW5pc2hSZWFzb25bXCJCTE9DS0xJU1RcIl0gPSBcIkJMT0NLTElTVFwiO1xuICAgIC8qKlxuICAgICAqIFRoZSB0b2tlbiBnZW5lcmF0aW9uIHdhcyBzdG9wcGVkIGFzIHRoZSByZXNwb25zZSB3YXMgZmxhZ2dlZCBmb3JcbiAgICAgKiB0aGUgcHJvaGliaXRlZCBjb250ZW50cy5cbiAgICAgKi9cbiAgICBGaW5pc2hSZWFzb25bXCJQUk9ISUJJVEVEX0NPTlRFTlRcIl0gPSBcIlBST0hJQklURURfQ09OVEVOVFwiO1xuICAgIC8qKlxuICAgICAqIFRoZSB0b2tlbiBnZW5lcmF0aW9uIHdhcyBzdG9wcGVkIGFzIHRoZSByZXNwb25zZSB3YXMgZmxhZ2dlZCBmb3JcbiAgICAgKiBTZW5zaXRpdmUgUGVyc29uYWxseSBJZGVudGlmaWFibGUgSW5mb3JtYXRpb24gKFNQSUkpIGNvbnRlbnRzLlxuICAgICAqL1xuICAgIEZpbmlzaFJlYXNvbltcIlNQSUlcIl0gPSBcIlNQSUlcIjtcbn0pKEZpbmlzaFJlYXNvbiB8fCAoZXhwb3J0cy5GaW5pc2hSZWFzb24gPSBGaW5pc2hSZWFzb24gPSB7fSkpO1xuLyoqXG4gKiBDb250YWlucyB0aGUgbGlzdCBvZiBPcGVuQVBJIGRhdGEgdHlwZXNcbiAqIGFzIGRlZmluZWQgYnkgaHR0cHM6Ly9zd2FnZ2VyLmlvL2RvY3Mvc3BlY2lmaWNhdGlvbi9kYXRhLW1vZGVscy9kYXRhLXR5cGVzL1xuICovXG52YXIgRnVuY3Rpb25EZWNsYXJhdGlvblNjaGVtYVR5cGU7XG4oZnVuY3Rpb24gKEZ1bmN0aW9uRGVjbGFyYXRpb25TY2hlbWFUeXBlKSB7XG4gICAgLyoqIFN0cmluZyB0eXBlLiAqL1xuICAgIEZ1bmN0aW9uRGVjbGFyYXRpb25TY2hlbWFUeXBlW1wiU1RSSU5HXCJdID0gXCJTVFJJTkdcIjtcbiAgICAvKiogTnVtYmVyIHR5cGUuICovXG4gICAgRnVuY3Rpb25EZWNsYXJhdGlvblNjaGVtYVR5cGVbXCJOVU1CRVJcIl0gPSBcIk5VTUJFUlwiO1xuICAgIC8qKiBJbnRlZ2VyIHR5cGUuICovXG4gICAgRnVuY3Rpb25EZWNsYXJhdGlvblNjaGVtYVR5cGVbXCJJTlRFR0VSXCJdID0gXCJJTlRFR0VSXCI7XG4gICAgLyoqIEJvb2xlYW4gdHlwZS4gKi9cbiAgICBGdW5jdGlvbkRlY2xhcmF0aW9uU2NoZW1hVHlwZVtcIkJPT0xFQU5cIl0gPSBcIkJPT0xFQU5cIjtcbiAgICAvKiogQXJyYXkgdHlwZS4gKi9cbiAgICBGdW5jdGlvbkRlY2xhcmF0aW9uU2NoZW1hVHlwZVtcIkFSUkFZXCJdID0gXCJBUlJBWVwiO1xuICAgIC8qKiBPYmplY3QgdHlwZS4gKi9cbiAgICBGdW5jdGlvbkRlY2xhcmF0aW9uU2NoZW1hVHlwZVtcIk9CSkVDVFwiXSA9IFwiT0JKRUNUXCI7XG59KShGdW5jdGlvbkRlY2xhcmF0aW9uU2NoZW1hVHlwZSB8fCAoZXhwb3J0cy5GdW5jdGlvbkRlY2xhcmF0aW9uU2NoZW1hVHlwZSA9IEZ1bmN0aW9uRGVjbGFyYXRpb25TY2hlbWFUeXBlID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRlbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/content.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/types/errors.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GoogleGenerativeAIError = exports.GoogleAuthError = exports.ClientError = void 0;\n/**\n * GoogleAuthError is thrown when there is authentication issue with the request\n */\nclass GoogleAuthError extends Error {\n    constructor(message, stackTrace = undefined) {\n        super(message);\n        this.stackTrace = undefined;\n        this.message = constructErrorMessage('GoogleAuthError', message);\n        this.name = 'GoogleAuthError';\n        this.stackTrace = stackTrace;\n    }\n}\nexports.GoogleAuthError = GoogleAuthError;\n/**\n * ClientError is thrown when http 4XX status is received.\n * For details please refer to https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#client_error_responses\n */\nclass ClientError extends Error {\n    constructor(message, stackTrace = undefined) {\n        super(message);\n        this.stackTrace = undefined;\n        this.message = constructErrorMessage('ClientError', message);\n        this.name = 'ClientError';\n        this.stackTrace = stackTrace;\n    }\n}\nexports.ClientError = ClientError;\n/**\n * GoogleGenerativeAIError is thrown when http response is not ok and status code is not 4XX\n * For details please refer to https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\n */\nclass GoogleGenerativeAIError extends Error {\n    constructor(message, stackTrace = undefined) {\n        super(message);\n        this.stackTrace = undefined;\n        this.message = constructErrorMessage('GoogleGenerativeAIError', message);\n        this.name = 'GoogleGenerativeAIError';\n        this.stackTrace = stackTrace;\n    }\n}\nexports.GoogleGenerativeAIError = GoogleGenerativeAIError;\nfunction constructErrorMessage(exceptionClass, message) {\n    return `[VertexAI.${exceptionClass}]: ${message}`;\n}\n//# sourceMappingURL=errors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsK0JBQStCLEdBQUcsdUJBQXVCLEdBQUcsbUJBQW1CO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBLHdCQUF3QixlQUFlLEtBQUssUUFBUTtBQUNwRDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVpem5vdGUvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvZXJyb3JzLmpzP2Q1ODciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Hb29nbGVHZW5lcmF0aXZlQUlFcnJvciA9IGV4cG9ydHMuR29vZ2xlQXV0aEVycm9yID0gZXhwb3J0cy5DbGllbnRFcnJvciA9IHZvaWQgMDtcbi8qKlxuICogR29vZ2xlQXV0aEVycm9yIGlzIHRocm93biB3aGVuIHRoZXJlIGlzIGF1dGhlbnRpY2F0aW9uIGlzc3VlIHdpdGggdGhlIHJlcXVlc3RcbiAqL1xuY2xhc3MgR29vZ2xlQXV0aEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YWNrVHJhY2UgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gY29uc3RydWN0RXJyb3JNZXNzYWdlKCdHb29nbGVBdXRoRXJyb3InLCBtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0dvb2dsZUF1dGhFcnJvcic7XG4gICAgICAgIHRoaXMuc3RhY2tUcmFjZSA9IHN0YWNrVHJhY2U7XG4gICAgfVxufVxuZXhwb3J0cy5Hb29nbGVBdXRoRXJyb3IgPSBHb29nbGVBdXRoRXJyb3I7XG4vKipcbiAqIENsaWVudEVycm9yIGlzIHRocm93biB3aGVuIGh0dHAgNFhYIHN0YXR1cyBpcyByZWNlaXZlZC5cbiAqIEZvciBkZXRhaWxzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL1N0YXR1cyNjbGllbnRfZXJyb3JfcmVzcG9uc2VzXG4gKi9cbmNsYXNzIENsaWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YWNrVHJhY2UgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gY29uc3RydWN0RXJyb3JNZXNzYWdlKCdDbGllbnRFcnJvcicsIG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQ2xpZW50RXJyb3InO1xuICAgICAgICB0aGlzLnN0YWNrVHJhY2UgPSBzdGFja1RyYWNlO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2xpZW50RXJyb3IgPSBDbGllbnRFcnJvcjtcbi8qKlxuICogR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3IgaXMgdGhyb3duIHdoZW4gaHR0cCByZXNwb25zZSBpcyBub3Qgb2sgYW5kIHN0YXR1cyBjb2RlIGlzIG5vdCA0WFhcbiAqIEZvciBkZXRhaWxzIHBsZWFzZSByZWZlciB0byBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL1N0YXR1c1xuICovXG5jbGFzcyBHb29nbGVHZW5lcmF0aXZlQUlFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBzdGFja1RyYWNlID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnN0YWNrVHJhY2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGNvbnN0cnVjdEVycm9yTWVzc2FnZSgnR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3InLCBtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0dvb2dsZUdlbmVyYXRpdmVBSUVycm9yJztcbiAgICAgICAgdGhpcy5zdGFja1RyYWNlID0gc3RhY2tUcmFjZTtcbiAgICB9XG59XG5leHBvcnRzLkdvb2dsZUdlbmVyYXRpdmVBSUVycm9yID0gR29vZ2xlR2VuZXJhdGl2ZUFJRXJyb3I7XG5mdW5jdGlvbiBjb25zdHJ1Y3RFcnJvck1lc3NhZ2UoZXhjZXB0aW9uQ2xhc3MsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gYFtWZXJ0ZXhBSS4ke2V4Y2VwdGlvbkNsYXNzfV06ICR7bWVzc2FnZX1gO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/generate_content_response_handler.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/types/generate_content_response_handler.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GenerateContentResponseHandler = void 0;\n/** Helper class to render any extra properties out of\n * {@link GenerateContentResponse} or properties of {@link GenerateContentResponse}\n */\nclass GenerateContentResponseHandler {\n    /**\n     * Extracts function calls from a {@link GenerateContentCandidate}.\n     *\n     * @param candidate - The candidate to extract function calls from.\n     * @returns the array of function calls in a {@link GenerateContentCandidate}.\n     */\n    static getFunctionCallsFromCandidate(candidate) {\n        if (!candidate)\n            return [];\n        return candidate.content.parts\n            .filter((part) => !!part && !!part.functionCall)\n            .map((part) => part.functionCall);\n    }\n}\nexports.GenerateContentResponseHandler = GenerateContentResponseHandler;\n//# sourceMappingURL=generate_content_response_handler.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvZ2VuZXJhdGVfY29udGVudF9yZXNwb25zZV9oYW5kbGVyLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0NBQXNDO0FBQ3RDO0FBQ0EsSUFBSSwrQkFBK0Isa0JBQWtCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QywrQkFBK0I7QUFDdEU7QUFDQTtBQUNBLGtEQUFrRCwrQkFBK0I7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVpem5vdGUvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvZ2VuZXJhdGVfY29udGVudF9yZXNwb25zZV9oYW5kbGVyLmpzPzMyMWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZUhhbmRsZXIgPSB2b2lkIDA7XG4vKiogSGVscGVyIGNsYXNzIHRvIHJlbmRlciBhbnkgZXh0cmEgcHJvcGVydGllcyBvdXQgb2ZcbiAqIHtAbGluayBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZX0gb3IgcHJvcGVydGllcyBvZiB7QGxpbmsgR2VuZXJhdGVDb250ZW50UmVzcG9uc2V9XG4gKi9cbmNsYXNzIEdlbmVyYXRlQ29udGVudFJlc3BvbnNlSGFuZGxlciB7XG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgZnVuY3Rpb24gY2FsbHMgZnJvbSBhIHtAbGluayBHZW5lcmF0ZUNvbnRlbnRDYW5kaWRhdGV9LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNhbmRpZGF0ZSAtIFRoZSBjYW5kaWRhdGUgdG8gZXh0cmFjdCBmdW5jdGlvbiBjYWxscyBmcm9tLlxuICAgICAqIEByZXR1cm5zIHRoZSBhcnJheSBvZiBmdW5jdGlvbiBjYWxscyBpbiBhIHtAbGluayBHZW5lcmF0ZUNvbnRlbnRDYW5kaWRhdGV9LlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRGdW5jdGlvbkNhbGxzRnJvbUNhbmRpZGF0ZShjYW5kaWRhdGUpIHtcbiAgICAgICAgaWYgKCFjYW5kaWRhdGUpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIHJldHVybiBjYW5kaWRhdGUuY29udGVudC5wYXJ0c1xuICAgICAgICAgICAgLmZpbHRlcigocGFydCkgPT4gISFwYXJ0ICYmICEhcGFydC5mdW5jdGlvbkNhbGwpXG4gICAgICAgICAgICAubWFwKChwYXJ0KSA9PiBwYXJ0LmZ1bmN0aW9uQ2FsbCk7XG4gICAgfVxufVxuZXhwb3J0cy5HZW5lcmF0ZUNvbnRlbnRSZXNwb25zZUhhbmRsZXIgPSBHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZUhhbmRsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmF0ZV9jb250ZW50X3Jlc3BvbnNlX2hhbmRsZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/generate_content_response_handler.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/types/index.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.GenerateContentResponseHandler = void 0;\n__exportStar(__webpack_require__(/*! ./content */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/content.js\"), exports);\n__exportStar(__webpack_require__(/*! ./errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\"), exports);\nvar generate_content_response_handler_1 = __webpack_require__(/*! ./generate_content_response_handler */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/generate_content_response_handler.js\");\nObject.defineProperty(exports, \"GenerateContentResponseHandler\", ({ enumerable: true, get: function () { return generate_content_response_handler_1.GenerateContentResponseHandler; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxzQ0FBc0M7QUFDdEMsYUFBYSxtQkFBTyxDQUFDLHlGQUFXO0FBQ2hDLGFBQWEsbUJBQU8sQ0FBQyx1RkFBVTtBQUMvQiwwQ0FBMEMsbUJBQU8sQ0FBQyw2SUFBcUM7QUFDdkYsa0VBQWlFLEVBQUUscUNBQXFDLDhFQUE4RSxFQUFDO0FBQ3ZMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVpem5vdGUvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdHlwZXMvaW5kZXguanM/ZmNmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR2VuZXJhdGVDb250ZW50UmVzcG9uc2VIYW5kbGVyID0gdm9pZCAwO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NvbnRlbnRcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2Vycm9yc1wiKSwgZXhwb3J0cyk7XG52YXIgZ2VuZXJhdGVfY29udGVudF9yZXNwb25zZV9oYW5kbGVyXzEgPSByZXF1aXJlKFwiLi9nZW5lcmF0ZV9jb250ZW50X3Jlc3BvbnNlX2hhbmRsZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJHZW5lcmF0ZUNvbnRlbnRSZXNwb25zZUhhbmRsZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdlbmVyYXRlX2NvbnRlbnRfcmVzcG9uc2VfaGFuZGxlcl8xLkdlbmVyYXRlQ29udGVudFJlc3BvbnNlSGFuZGxlcjsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/constants.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/util/constants.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CREDENTIAL_ERROR_MESSAGE = exports.USER_AGENT = exports.SYSTEM_ROLE = exports.MODEL_ROLE = exports.USER_ROLE = exports.STREAMING_GENERATE_CONTENT_METHOD = exports.GENERATE_CONTENT_METHOD = void 0;\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexports.GENERATE_CONTENT_METHOD = 'generateContent';\nexports.STREAMING_GENERATE_CONTENT_METHOD = 'streamGenerateContent';\nexports.USER_ROLE = 'user';\nexports.MODEL_ROLE = 'model';\nexports.SYSTEM_ROLE = 'system';\nconst USER_AGENT_PRODUCT = 'model-builder';\nconst CLIENT_LIBRARY_VERSION = '1.1.0'; // x-release-please-version\nconst CLIENT_LIBRARY_LANGUAGE = `grpc-node/${CLIENT_LIBRARY_VERSION}`;\nexports.USER_AGENT = `${USER_AGENT_PRODUCT}/${CLIENT_LIBRARY_VERSION} ${CLIENT_LIBRARY_LANGUAGE}`;\nexports.CREDENTIAL_ERROR_MESSAGE = '\\nUnable to authenticate your request\\\n        \\nDepending on your run time environment, you can get authentication by\\\n        \\n- if in local instance or cloud shell: `!gcloud auth login`\\\n        \\n- if in Colab:\\\n        \\n    -`from google.colab import auth`\\\n        \\n    -`auth.authenticate_user()`\\\n        \\n- if in service account or other: please follow guidance in https://cloud.google.com/docs/authentication';\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdXRpbC9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0NBQWdDLEdBQUcsa0JBQWtCLEdBQUcsbUJBQW1CLEdBQUcsa0JBQWtCLEdBQUcsaUJBQWlCLEdBQUcseUNBQXlDLEdBQUcsK0JBQStCO0FBQ2xNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLHlDQUF5QztBQUN6QyxpQkFBaUI7QUFDakIsa0JBQWtCO0FBQ2xCLG1CQUFtQjtBQUNuQjtBQUNBLHdDQUF3QztBQUN4Qyw2Q0FBNkMsdUJBQXVCO0FBQ3BFLGtCQUFrQixNQUFNLG1CQUFtQixHQUFHLHdCQUF3QixFQUFFLHdCQUF3QjtBQUNoRyxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWl6bm90ZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlLWNsb3VkL3ZlcnRleGFpL2J1aWxkL3NyYy91dGlsL2NvbnN0YW50cy5qcz83NDFhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DUkVERU5USUFMX0VSUk9SX01FU1NBR0UgPSBleHBvcnRzLlVTRVJfQUdFTlQgPSBleHBvcnRzLlNZU1RFTV9ST0xFID0gZXhwb3J0cy5NT0RFTF9ST0xFID0gZXhwb3J0cy5VU0VSX1JPTEUgPSBleHBvcnRzLlNUUkVBTUlOR19HRU5FUkFURV9DT05URU5UX01FVEhPRCA9IGV4cG9ydHMuR0VORVJBVEVfQ09OVEVOVF9NRVRIT0QgPSB2b2lkIDA7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0cy5HRU5FUkFURV9DT05URU5UX01FVEhPRCA9ICdnZW5lcmF0ZUNvbnRlbnQnO1xuZXhwb3J0cy5TVFJFQU1JTkdfR0VORVJBVEVfQ09OVEVOVF9NRVRIT0QgPSAnc3RyZWFtR2VuZXJhdGVDb250ZW50JztcbmV4cG9ydHMuVVNFUl9ST0xFID0gJ3VzZXInO1xuZXhwb3J0cy5NT0RFTF9ST0xFID0gJ21vZGVsJztcbmV4cG9ydHMuU1lTVEVNX1JPTEUgPSAnc3lzdGVtJztcbmNvbnN0IFVTRVJfQUdFTlRfUFJPRFVDVCA9ICdtb2RlbC1idWlsZGVyJztcbmNvbnN0IENMSUVOVF9MSUJSQVJZX1ZFUlNJT04gPSAnMS4xLjAnOyAvLyB4LXJlbGVhc2UtcGxlYXNlLXZlcnNpb25cbmNvbnN0IENMSUVOVF9MSUJSQVJZX0xBTkdVQUdFID0gYGdycGMtbm9kZS8ke0NMSUVOVF9MSUJSQVJZX1ZFUlNJT059YDtcbmV4cG9ydHMuVVNFUl9BR0VOVCA9IGAke1VTRVJfQUdFTlRfUFJPRFVDVH0vJHtDTElFTlRfTElCUkFSWV9WRVJTSU9OfSAke0NMSUVOVF9MSUJSQVJZX0xBTkdVQUdFfWA7XG5leHBvcnRzLkNSRURFTlRJQUxfRVJST1JfTUVTU0FHRSA9ICdcXG5VbmFibGUgdG8gYXV0aGVudGljYXRlIHlvdXIgcmVxdWVzdFxcXG4gICAgICAgIFxcbkRlcGVuZGluZyBvbiB5b3VyIHJ1biB0aW1lIGVudmlyb25tZW50LCB5b3UgY2FuIGdldCBhdXRoZW50aWNhdGlvbiBieVxcXG4gICAgICAgIFxcbi0gaWYgaW4gbG9jYWwgaW5zdGFuY2Ugb3IgY2xvdWQgc2hlbGw6IGAhZ2Nsb3VkIGF1dGggbG9naW5gXFxcbiAgICAgICAgXFxuLSBpZiBpbiBDb2xhYjpcXFxuICAgICAgICBcXG4gICAgLWBmcm9tIGdvb2dsZS5jb2xhYiBpbXBvcnQgYXV0aGBcXFxuICAgICAgICBcXG4gICAgLWBhdXRoLmF1dGhlbnRpY2F0ZV91c2VyKClgXFxcbiAgICAgICAgXFxuLSBpZiBpbiBzZXJ2aWNlIGFjY291bnQgb3Igb3RoZXI6IHBsZWFzZSBmb2xsb3cgZ3VpZGFuY2UgaW4gaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2RvY3MvYXV0aGVudGljYXRpb24nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/constants.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/util/index.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.constants = void 0;\nexports.constants = __webpack_require__(/*! ./constants */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/constants.js\");\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdXRpbC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQjtBQUNqQixxSUFBMEM7QUFDMUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWl6bm90ZS8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlLWNsb3VkL3ZlcnRleGFpL2J1aWxkL3NyYy91dGlsL2luZGV4LmpzPzUwNDYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jb25zdGFudHMgPSB2b2lkIDA7XG5leHBvcnRzLmNvbnN0YW50cyA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/util/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@google-cloud/vertexai/build/src/vertex_ai.js":
/*!********************************************************************!*\
  !*** ./node_modules/@google-cloud/vertexai/build/src/vertex_ai.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n/**\n * @license\n * Copyright 2023 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.VertexAI = void 0;\n/* tslint:disable */\nconst google_auth_library_1 = __webpack_require__(/*! google-auth-library */ \"(rsc)/./node_modules/google-auth-library/build/src/index.js\");\nconst models_1 = __webpack_require__(/*! ./models */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/models/index.js\");\nconst errors_1 = __webpack_require__(/*! ./types/errors */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/types/errors.js\");\n/**\n * The `VertexAI` class is the base class for authenticating to Vertex AI.\n * To use Vertex AI's generative AI models, use the `getGenerativeModel` method.\n * To use generative AI features that are in Preview, use the `preview`\n * namespace.\n */\nclass VertexAI {\n    /**\n     * @constructor\n     * @param init - assign authentication related information,\n     *     including the project and location strings, to instantiate a Vertex AI\n     * client.\n     */\n    constructor(init) {\n        const opts = validateGoogleAuthOptions(init.project, init.googleAuthOptions);\n        this.project = init.project;\n        this.location = init.location;\n        this.googleAuth = new google_auth_library_1.GoogleAuth(opts);\n        this.apiEndpoint = init.apiEndpoint;\n        this.preview = new VertexAIPreview(this.project, this.location, this.googleAuth, this.apiEndpoint);\n    }\n    /**\n     * Gets the GenerativeModel class instance.\n     *\n     * This method creates a new instance of the `GenerativeModel` class with the\n     * platform initialization parameters provided in {@link VertexInit} and model\n     * initialization parameters provided in {@link ModelParams}. You can\n     * optionally provide {@link RequestOptions} to override the default request\n     * options.\n     *\n     * @example\n     * ```\n     * const project = 'your-cloud-project';\n     * const location = 'us-central1';\n     * const textModel =  'gemini-1.0-pro';\n     * const visionModel = 'gemini-1.0-pro-vision';\n     *\n     * const vertexAI = new VertexAI({project: project, location: location});\n     *\n     * // Instantiate models\n     * const generativeModel = vertexAI.getGenerativeModel({\n     *   model: textModel,\n     *   // The following parameters are optional\n     *   // They can also be passed to individual content generation requests\n     *   safetySettings: [{\n     *                      category: HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT,\n     *                      threshold: HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE\n     *                     }],\n     *   generationConfig: {maxOutputTokens: 256},\n     * });\n     *\n     * const generativeVisionModel = vertexAI.getGenerativeModel({\n     *   model: visionModel,\n     * });\n     *\n     * const generativeModelPreview = vertexAI.preview.getGenerativeModel({\n     *   model: textModel,\n     * });\n     * ```\n     *\n     * @param modelParams - {@link ModelParams} Parameters to\n     *     specify the generative model.\n     * @param requestOptions - {@link RequestOptions} Parameters to specify\n     *     request options\n     * @returns Instance of the GenerativeModel class.\n     */\n    getGenerativeModel(modelParams, requestOptions) {\n        const getGenerativeModelParams = {\n            model: modelParams.model,\n            project: this.project,\n            location: this.location,\n            googleAuth: this.googleAuth,\n            apiEndpoint: this.apiEndpoint,\n            safetySettings: modelParams.safetySettings,\n            generationConfig: modelParams.generationConfig,\n            tools: modelParams.tools,\n            requestOptions: requestOptions,\n            systemInstruction: modelParams.systemInstruction,\n        };\n        return new models_1.GenerativeModel(getGenerativeModelParams);\n    }\n}\nexports.VertexAI = VertexAI;\n/**\n * The preview namespace for VertexAI. Users invoke the `getGenerativeModel`\n * method to start using generative AI features that are in preview.\n */\nclass VertexAIPreview {\n    /**\n     * @constructor\n     * @param project - The Google Cloud project to use for the request\n     * @param location - location The Google Cloud project location to use for the\n     *     request\n     * @param googleAuth - The GoogleAuthen class instance from\n     *     google-auth-library.\n     *        Complete list of authentication options is documented in the\n     * GoogleAuthOptions interface:\n     *        https://github.com/googleapis/google-auth-library-nodejs/blob/main/src/auth/googleauth.ts\n     * @param apiEndpoint - [apiEndpoint] The base Vertex AI endpoint to use for\n     *     the request. If\n     *        not provided, the default regionalized endpoint\n     *        (i.e. us-central1-aiplatform.googleapis.com) will be used.\n     */\n    constructor(project, location, googleAuth, apiEndpoint) {\n        this.project = project;\n        this.location = location;\n        this.googleAuth = googleAuth;\n        this.apiEndpoint = apiEndpoint;\n    }\n    /**\n     * @param modelParams - {@link ModelParams} Parameters to\n     *     specify the generative model.\n     * @returns Instance of the GenerativeModelPreview class.\n     */\n    getGenerativeModel(modelParams, requestOptions) {\n        const getGenerativeModelParams = {\n            model: modelParams.model,\n            project: this.project,\n            location: this.location,\n            googleAuth: this.googleAuth,\n            apiEndpoint: this.apiEndpoint,\n            safetySettings: modelParams.safetySettings,\n            generationConfig: modelParams.generationConfig,\n            tools: modelParams.tools,\n            requestOptions: requestOptions,\n            systemInstruction: modelParams.systemInstruction,\n        };\n        return new models_1.GenerativeModelPreview(getGenerativeModelParams);\n    }\n}\nfunction validateGoogleAuthOptions(project, googleAuthOptions) {\n    let opts;\n    const requiredScope = 'https://www.googleapis.com/auth/cloud-platform';\n    if (!googleAuthOptions) {\n        opts = {\n            scopes: requiredScope,\n        };\n        return opts;\n    }\n    if (googleAuthOptions.projectId && googleAuthOptions.projectId !== project) {\n        throw new Error(`inconsistent project ID values. argument project got value ${project} but googleAuthOptions.projectId got value ${googleAuthOptions.projectId}`);\n    }\n    opts = googleAuthOptions;\n    if (!opts.scopes) {\n        opts.scopes = requiredScope;\n        return opts;\n    }\n    if ((typeof opts.scopes === 'string' && opts.scopes !== requiredScope) ||\n        (Array.isArray(opts.scopes) && opts.scopes.indexOf(requiredScope) < 0)) {\n        throw new errors_1.GoogleAuthError(`input GoogleAuthOptions.scopes ${opts.scopes} doesn't contain required scope ${requiredScope}, please include ${requiredScope} into GoogleAuthOptions.scopes or leave GoogleAuthOptions.scopes undefined`);\n    }\n    return opts;\n}\n//# sourceMappingURL=vertex_ai.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdmVydGV4X2FpLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCO0FBQ2hCO0FBQ0EsOEJBQThCLG1CQUFPLENBQUMsd0ZBQXFCO0FBQzNELGlCQUFpQixtQkFBTyxDQUFDLHVGQUFVO0FBQ25DLGlCQUFpQixtQkFBTyxDQUFDLDZGQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxrQkFBa0I7QUFDekUsOENBQThDLGtCQUFrQjtBQUNoRSwyQkFBMkIsc0JBQXNCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxxQ0FBcUM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLDRCQUE0QixxQkFBcUI7QUFDakQsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDQSxnQ0FBZ0Msc0JBQXNCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNGQUFzRixTQUFTLDRDQUE0Qyw0QkFBNEI7QUFDdks7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZFQUE2RSxhQUFhLGlDQUFpQyxjQUFjLG1CQUFtQixlQUFlO0FBQzNLO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVpem5vdGUvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaS9idWlsZC9zcmMvdmVydGV4X2FpLmpzPzRmNmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5WZXJ0ZXhBSSA9IHZvaWQgMDtcbi8qIHRzbGludDpkaXNhYmxlICovXG5jb25zdCBnb29nbGVfYXV0aF9saWJyYXJ5XzEgPSByZXF1aXJlKFwiZ29vZ2xlLWF1dGgtbGlicmFyeVwiKTtcbmNvbnN0IG1vZGVsc18xID0gcmVxdWlyZShcIi4vbW9kZWxzXCIpO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi90eXBlcy9lcnJvcnNcIik7XG4vKipcbiAqIFRoZSBgVmVydGV4QUlgIGNsYXNzIGlzIHRoZSBiYXNlIGNsYXNzIGZvciBhdXRoZW50aWNhdGluZyB0byBWZXJ0ZXggQUkuXG4gKiBUbyB1c2UgVmVydGV4IEFJJ3MgZ2VuZXJhdGl2ZSBBSSBtb2RlbHMsIHVzZSB0aGUgYGdldEdlbmVyYXRpdmVNb2RlbGAgbWV0aG9kLlxuICogVG8gdXNlIGdlbmVyYXRpdmUgQUkgZmVhdHVyZXMgdGhhdCBhcmUgaW4gUHJldmlldywgdXNlIHRoZSBgcHJldmlld2BcbiAqIG5hbWVzcGFjZS5cbiAqL1xuY2xhc3MgVmVydGV4QUkge1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSBpbml0IC0gYXNzaWduIGF1dGhlbnRpY2F0aW9uIHJlbGF0ZWQgaW5mb3JtYXRpb24sXG4gICAgICogICAgIGluY2x1ZGluZyB0aGUgcHJvamVjdCBhbmQgbG9jYXRpb24gc3RyaW5ncywgdG8gaW5zdGFudGlhdGUgYSBWZXJ0ZXggQUlcbiAgICAgKiBjbGllbnQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaW5pdCkge1xuICAgICAgICBjb25zdCBvcHRzID0gdmFsaWRhdGVHb29nbGVBdXRoT3B0aW9ucyhpbml0LnByb2plY3QsIGluaXQuZ29vZ2xlQXV0aE9wdGlvbnMpO1xuICAgICAgICB0aGlzLnByb2plY3QgPSBpbml0LnByb2plY3Q7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBpbml0LmxvY2F0aW9uO1xuICAgICAgICB0aGlzLmdvb2dsZUF1dGggPSBuZXcgZ29vZ2xlX2F1dGhfbGlicmFyeV8xLkdvb2dsZUF1dGgob3B0cyk7XG4gICAgICAgIHRoaXMuYXBpRW5kcG9pbnQgPSBpbml0LmFwaUVuZHBvaW50O1xuICAgICAgICB0aGlzLnByZXZpZXcgPSBuZXcgVmVydGV4QUlQcmV2aWV3KHRoaXMucHJvamVjdCwgdGhpcy5sb2NhdGlvbiwgdGhpcy5nb29nbGVBdXRoLCB0aGlzLmFwaUVuZHBvaW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgR2VuZXJhdGl2ZU1vZGVsIGNsYXNzIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgY3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgYEdlbmVyYXRpdmVNb2RlbGAgY2xhc3Mgd2l0aCB0aGVcbiAgICAgKiBwbGF0Zm9ybSBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzIHByb3ZpZGVkIGluIHtAbGluayBWZXJ0ZXhJbml0fSBhbmQgbW9kZWxcbiAgICAgKiBpbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzIHByb3ZpZGVkIGluIHtAbGluayBNb2RlbFBhcmFtc30uIFlvdSBjYW5cbiAgICAgKiBvcHRpb25hbGx5IHByb3ZpZGUge0BsaW5rIFJlcXVlc3RPcHRpb25zfSB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCByZXF1ZXN0XG4gICAgICogb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgXG4gICAgICogY29uc3QgcHJvamVjdCA9ICd5b3VyLWNsb3VkLXByb2plY3QnO1xuICAgICAqIGNvbnN0IGxvY2F0aW9uID0gJ3VzLWNlbnRyYWwxJztcbiAgICAgKiBjb25zdCB0ZXh0TW9kZWwgPSAgJ2dlbWluaS0xLjAtcHJvJztcbiAgICAgKiBjb25zdCB2aXNpb25Nb2RlbCA9ICdnZW1pbmktMS4wLXByby12aXNpb24nO1xuICAgICAqXG4gICAgICogY29uc3QgdmVydGV4QUkgPSBuZXcgVmVydGV4QUkoe3Byb2plY3Q6IHByb2plY3QsIGxvY2F0aW9uOiBsb2NhdGlvbn0pO1xuICAgICAqXG4gICAgICogLy8gSW5zdGFudGlhdGUgbW9kZWxzXG4gICAgICogY29uc3QgZ2VuZXJhdGl2ZU1vZGVsID0gdmVydGV4QUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHtcbiAgICAgKiAgIG1vZGVsOiB0ZXh0TW9kZWwsXG4gICAgICogICAvLyBUaGUgZm9sbG93aW5nIHBhcmFtZXRlcnMgYXJlIG9wdGlvbmFsXG4gICAgICogICAvLyBUaGV5IGNhbiBhbHNvIGJlIHBhc3NlZCB0byBpbmRpdmlkdWFsIGNvbnRlbnQgZ2VuZXJhdGlvbiByZXF1ZXN0c1xuICAgICAqICAgc2FmZXR5U2V0dGluZ3M6IFt7XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IEhhcm1DYXRlZ29yeS5IQVJNX0NBVEVHT1JZX0RBTkdFUk9VU19DT05URU5ULFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZDogSGFybUJsb2NrVGhyZXNob2xkLkJMT0NLX01FRElVTV9BTkRfQUJPVkVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIH1dLFxuICAgICAqICAgZ2VuZXJhdGlvbkNvbmZpZzoge21heE91dHB1dFRva2VuczogMjU2fSxcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNvbnN0IGdlbmVyYXRpdmVWaXNpb25Nb2RlbCA9IHZlcnRleEFJLmdldEdlbmVyYXRpdmVNb2RlbCh7XG4gICAgICogICBtb2RlbDogdmlzaW9uTW9kZWwsXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zdCBnZW5lcmF0aXZlTW9kZWxQcmV2aWV3ID0gdmVydGV4QUkucHJldmlldy5nZXRHZW5lcmF0aXZlTW9kZWwoe1xuICAgICAqICAgbW9kZWw6IHRleHRNb2RlbCxcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBtb2RlbFBhcmFtcyAtIHtAbGluayBNb2RlbFBhcmFtc30gUGFyYW1ldGVycyB0b1xuICAgICAqICAgICBzcGVjaWZ5IHRoZSBnZW5lcmF0aXZlIG1vZGVsLlxuICAgICAqIEBwYXJhbSByZXF1ZXN0T3B0aW9ucyAtIHtAbGluayBSZXF1ZXN0T3B0aW9uc30gUGFyYW1ldGVycyB0byBzcGVjaWZ5XG4gICAgICogICAgIHJlcXVlc3Qgb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIEluc3RhbmNlIG9mIHRoZSBHZW5lcmF0aXZlTW9kZWwgY2xhc3MuXG4gICAgICovXG4gICAgZ2V0R2VuZXJhdGl2ZU1vZGVsKG1vZGVsUGFyYW1zLCByZXF1ZXN0T3B0aW9ucykge1xuICAgICAgICBjb25zdCBnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMgPSB7XG4gICAgICAgICAgICBtb2RlbDogbW9kZWxQYXJhbXMubW9kZWwsXG4gICAgICAgICAgICBwcm9qZWN0OiB0aGlzLnByb2plY3QsXG4gICAgICAgICAgICBsb2NhdGlvbjogdGhpcy5sb2NhdGlvbixcbiAgICAgICAgICAgIGdvb2dsZUF1dGg6IHRoaXMuZ29vZ2xlQXV0aCxcbiAgICAgICAgICAgIGFwaUVuZHBvaW50OiB0aGlzLmFwaUVuZHBvaW50LFxuICAgICAgICAgICAgc2FmZXR5U2V0dGluZ3M6IG1vZGVsUGFyYW1zLnNhZmV0eVNldHRpbmdzLFxuICAgICAgICAgICAgZ2VuZXJhdGlvbkNvbmZpZzogbW9kZWxQYXJhbXMuZ2VuZXJhdGlvbkNvbmZpZyxcbiAgICAgICAgICAgIHRvb2xzOiBtb2RlbFBhcmFtcy50b29scyxcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zOiByZXF1ZXN0T3B0aW9ucyxcbiAgICAgICAgICAgIHN5c3RlbUluc3RydWN0aW9uOiBtb2RlbFBhcmFtcy5zeXN0ZW1JbnN0cnVjdGlvbixcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBtb2RlbHNfMS5HZW5lcmF0aXZlTW9kZWwoZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zKTtcbiAgICB9XG59XG5leHBvcnRzLlZlcnRleEFJID0gVmVydGV4QUk7XG4vKipcbiAqIFRoZSBwcmV2aWV3IG5hbWVzcGFjZSBmb3IgVmVydGV4QUkuIFVzZXJzIGludm9rZSB0aGUgYGdldEdlbmVyYXRpdmVNb2RlbGBcbiAqIG1ldGhvZCB0byBzdGFydCB1c2luZyBnZW5lcmF0aXZlIEFJIGZlYXR1cmVzIHRoYXQgYXJlIGluIHByZXZpZXcuXG4gKi9cbmNsYXNzIFZlcnRleEFJUHJldmlldyB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHByb2plY3QgLSBUaGUgR29vZ2xlIENsb3VkIHByb2plY3QgdG8gdXNlIGZvciB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSBsb2NhdGlvbiAtIGxvY2F0aW9uIFRoZSBHb29nbGUgQ2xvdWQgcHJvamVjdCBsb2NhdGlvbiB0byB1c2UgZm9yIHRoZVxuICAgICAqICAgICByZXF1ZXN0XG4gICAgICogQHBhcmFtIGdvb2dsZUF1dGggLSBUaGUgR29vZ2xlQXV0aGVuIGNsYXNzIGluc3RhbmNlIGZyb21cbiAgICAgKiAgICAgZ29vZ2xlLWF1dGgtbGlicmFyeS5cbiAgICAgKiAgICAgICAgQ29tcGxldGUgbGlzdCBvZiBhdXRoZW50aWNhdGlvbiBvcHRpb25zIGlzIGRvY3VtZW50ZWQgaW4gdGhlXG4gICAgICogR29vZ2xlQXV0aE9wdGlvbnMgaW50ZXJmYWNlOlxuICAgICAqICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlYXBpcy9nb29nbGUtYXV0aC1saWJyYXJ5LW5vZGVqcy9ibG9iL21haW4vc3JjL2F1dGgvZ29vZ2xlYXV0aC50c1xuICAgICAqIEBwYXJhbSBhcGlFbmRwb2ludCAtIFthcGlFbmRwb2ludF0gVGhlIGJhc2UgVmVydGV4IEFJIGVuZHBvaW50IHRvIHVzZSBmb3JcbiAgICAgKiAgICAgdGhlIHJlcXVlc3QuIElmXG4gICAgICogICAgICAgIG5vdCBwcm92aWRlZCwgdGhlIGRlZmF1bHQgcmVnaW9uYWxpemVkIGVuZHBvaW50XG4gICAgICogICAgICAgIChpLmUuIHVzLWNlbnRyYWwxLWFpcGxhdGZvcm0uZ29vZ2xlYXBpcy5jb20pIHdpbGwgYmUgdXNlZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9qZWN0LCBsb2NhdGlvbiwgZ29vZ2xlQXV0aCwgYXBpRW5kcG9pbnQpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLmdvb2dsZUF1dGggPSBnb29nbGVBdXRoO1xuICAgICAgICB0aGlzLmFwaUVuZHBvaW50ID0gYXBpRW5kcG9pbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBtb2RlbFBhcmFtcyAtIHtAbGluayBNb2RlbFBhcmFtc30gUGFyYW1ldGVycyB0b1xuICAgICAqICAgICBzcGVjaWZ5IHRoZSBnZW5lcmF0aXZlIG1vZGVsLlxuICAgICAqIEByZXR1cm5zIEluc3RhbmNlIG9mIHRoZSBHZW5lcmF0aXZlTW9kZWxQcmV2aWV3IGNsYXNzLlxuICAgICAqL1xuICAgIGdldEdlbmVyYXRpdmVNb2RlbChtb2RlbFBhcmFtcywgcmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZ2V0R2VuZXJhdGl2ZU1vZGVsUGFyYW1zID0ge1xuICAgICAgICAgICAgbW9kZWw6IG1vZGVsUGFyYW1zLm1vZGVsLFxuICAgICAgICAgICAgcHJvamVjdDogdGhpcy5wcm9qZWN0LFxuICAgICAgICAgICAgbG9jYXRpb246IHRoaXMubG9jYXRpb24sXG4gICAgICAgICAgICBnb29nbGVBdXRoOiB0aGlzLmdvb2dsZUF1dGgsXG4gICAgICAgICAgICBhcGlFbmRwb2ludDogdGhpcy5hcGlFbmRwb2ludCxcbiAgICAgICAgICAgIHNhZmV0eVNldHRpbmdzOiBtb2RlbFBhcmFtcy5zYWZldHlTZXR0aW5ncyxcbiAgICAgICAgICAgIGdlbmVyYXRpb25Db25maWc6IG1vZGVsUGFyYW1zLmdlbmVyYXRpb25Db25maWcsXG4gICAgICAgICAgICB0b29sczogbW9kZWxQYXJhbXMudG9vbHMsXG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9uczogcmVxdWVzdE9wdGlvbnMsXG4gICAgICAgICAgICBzeXN0ZW1JbnN0cnVjdGlvbjogbW9kZWxQYXJhbXMuc3lzdGVtSW5zdHJ1Y3Rpb24sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgbW9kZWxzXzEuR2VuZXJhdGl2ZU1vZGVsUHJldmlldyhnZXRHZW5lcmF0aXZlTW9kZWxQYXJhbXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlR29vZ2xlQXV0aE9wdGlvbnMocHJvamVjdCwgZ29vZ2xlQXV0aE9wdGlvbnMpIHtcbiAgICBsZXQgb3B0cztcbiAgICBjb25zdCByZXF1aXJlZFNjb3BlID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvY2xvdWQtcGxhdGZvcm0nO1xuICAgIGlmICghZ29vZ2xlQXV0aE9wdGlvbnMpIHtcbiAgICAgICAgb3B0cyA9IHtcbiAgICAgICAgICAgIHNjb3BlczogcmVxdWlyZWRTY29wZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG9wdHM7XG4gICAgfVxuICAgIGlmIChnb29nbGVBdXRoT3B0aW9ucy5wcm9qZWN0SWQgJiYgZ29vZ2xlQXV0aE9wdGlvbnMucHJvamVjdElkICE9PSBwcm9qZWN0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgaW5jb25zaXN0ZW50IHByb2plY3QgSUQgdmFsdWVzLiBhcmd1bWVudCBwcm9qZWN0IGdvdCB2YWx1ZSAke3Byb2plY3R9IGJ1dCBnb29nbGVBdXRoT3B0aW9ucy5wcm9qZWN0SWQgZ290IHZhbHVlICR7Z29vZ2xlQXV0aE9wdGlvbnMucHJvamVjdElkfWApO1xuICAgIH1cbiAgICBvcHRzID0gZ29vZ2xlQXV0aE9wdGlvbnM7XG4gICAgaWYgKCFvcHRzLnNjb3Blcykge1xuICAgICAgICBvcHRzLnNjb3BlcyA9IHJlcXVpcmVkU2NvcGU7XG4gICAgICAgIHJldHVybiBvcHRzO1xuICAgIH1cbiAgICBpZiAoKHR5cGVvZiBvcHRzLnNjb3BlcyA9PT0gJ3N0cmluZycgJiYgb3B0cy5zY29wZXMgIT09IHJlcXVpcmVkU2NvcGUpIHx8XG4gICAgICAgIChBcnJheS5pc0FycmF5KG9wdHMuc2NvcGVzKSAmJiBvcHRzLnNjb3Blcy5pbmRleE9mKHJlcXVpcmVkU2NvcGUpIDwgMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLkdvb2dsZUF1dGhFcnJvcihgaW5wdXQgR29vZ2xlQXV0aE9wdGlvbnMuc2NvcGVzICR7b3B0cy5zY29wZXN9IGRvZXNuJ3QgY29udGFpbiByZXF1aXJlZCBzY29wZSAke3JlcXVpcmVkU2NvcGV9LCBwbGVhc2UgaW5jbHVkZSAke3JlcXVpcmVkU2NvcGV9IGludG8gR29vZ2xlQXV0aE9wdGlvbnMuc2NvcGVzIG9yIGxlYXZlIEdvb2dsZUF1dGhPcHRpb25zLnNjb3BlcyB1bmRlZmluZWRgKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdHM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZXJ0ZXhfYWkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@google-cloud/vertexai/build/src/vertex_ai.js\n");

/***/ })

};
;