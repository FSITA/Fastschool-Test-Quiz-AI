"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/generate/route";
exports.ids = ["app/api/generate/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5C92324%5CDownloads%5CCompressed%5Cquiznote-main%5Cquiznote-main%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C92324%5CDownloads%5CCompressed%5Cquiznote-main%5Cquiznote-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5C92324%5CDownloads%5CCompressed%5Cquiznote-main%5Cquiznote-main%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C92324%5CDownloads%5CCompressed%5Cquiznote-main%5Cquiznote-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_92324_Downloads_Compressed_quiznote_main_quiznote_main_src_app_api_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/generate/route.ts */ \"(rsc)/./src/app/api/generate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/generate/route\",\n        pathname: \"/api/generate\",\n        filename: \"route\",\n        bundlePath: \"app/api/generate/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\92324\\\\Downloads\\\\Compressed\\\\quiznote-main\\\\quiznote-main\\\\src\\\\app\\\\api\\\\generate\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_92324_Downloads_Compressed_quiznote_main_quiznote_main_src_app_api_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/generate/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnZW5lcmF0ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ2VuZXJhdGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZnZW5lcmF0ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUM5MjMyNCU1Q0Rvd25sb2FkcyU1Q0NvbXByZXNzZWQlNUNxdWl6bm90ZS1tYWluJTVDcXVpem5vdGUtbWFpbiU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDOTIzMjQlNUNEb3dubG9hZHMlNUNDb21wcmVzc2VkJTVDcXVpem5vdGUtbWFpbiU1Q3F1aXpub3RlLW1haW4maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3dEO0FBQ3JJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVpem5vdGUvPzdhMjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcOTIzMjRcXFxcRG93bmxvYWRzXFxcXENvbXByZXNzZWRcXFxccXVpem5vdGUtbWFpblxcXFxxdWl6bm90ZS1tYWluXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGdlbmVyYXRlXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nZW5lcmF0ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dlbmVyYXRlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9nZW5lcmF0ZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXDkyMzI0XFxcXERvd25sb2Fkc1xcXFxDb21wcmVzc2VkXFxcXHF1aXpub3RlLW1haW5cXFxccXVpem5vdGUtbWFpblxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxnZW5lcmF0ZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvZ2VuZXJhdGUvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5C92324%5CDownloads%5CCompressed%5Cquiznote-main%5Cquiznote-main%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C92324%5CDownloads%5CCompressed%5Cquiznote-main%5Cquiznote-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/generate/route.ts":
/*!***************************************!*\
  !*** ./src/app/api/generate/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google-cloud/vertexai */ \"(rsc)/./node_modules/@google-cloud/vertexai/build/src/index.js\");\n/* harmony import */ var _google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ai */ \"(rsc)/./node_modules/ai/dist/index.mjs\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n\n\n// Add debugging to check if the API key is properly formatted\nlet credentials;\ntry {\n    const decodedKey = Buffer.from(process.env.GOOGLE_SERVICE_KEY || \"\", \"base64\").toString();\n    console.log(\"Decoded key format check:\", decodedKey.substring(0, 20) + \"...\");\n    credentials = JSON.parse(decodedKey);\n} catch (error) {\n    console.error(\"Error parsing API key:\", error);\n    // If the key is not in JSON format, it might be a direct API key\n    credentials = {\n        apiKey: process.env.GOOGLE_SERVICE_KEY\n    };\n}\n// Initialize Vertex with your Cloud project and location\nconst vertex_ai = new _google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_0__.VertexAI({\n    // Extract project ID from credentials if available, otherwise use fallback\n    project: credentials.project_id || \"tough-pod-446502-n1\",\n    location: \"europe-west3\",\n    googleAuthOptions: {\n        credentials\n    }\n});\nconst model = \"gemini-2.5-flash\";\n// Instantiate the models\nconst generativeModel = vertex_ai.getGenerativeModel({\n    model: model,\n    generationConfig: {\n        maxOutputTokens: 8192,\n        temperature: 1,\n        topP: 0.95\n    },\n    safetySettings: [\n        {\n            category: _google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_0__.HarmCategory.HARM_CATEGORY_HATE_SPEECH,\n            threshold: _google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_0__.HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE\n        },\n        {\n            category: _google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_0__.HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT,\n            threshold: _google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_0__.HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE\n        },\n        {\n            category: _google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_0__.HarmCategory.HARM_CATEGORY_SEXUALLY_EXPLICIT,\n            threshold: _google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_0__.HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE\n        },\n        {\n            category: _google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_0__.HarmCategory.HARM_CATEGORY_HARASSMENT,\n            threshold: _google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_0__.HarmBlockThreshold.BLOCK_MEDIUM_AND_ABOVE\n        }\n    ]\n});\nfunction iteratorToStream(iterator) {\n    return new ReadableStream({\n        async pull (controller) {\n            const { value, done } = await iterator.next();\n            if (done || !value) {\n                controller.close();\n            } else {\n                const data = value.candidates[0].content.parts[0].text;\n                // controller.enqueue(`data: ${data}\\n\\n`);\n                controller.enqueue(data);\n            }\n        }\n    });\n}\nasync function POST(req) {\n    try {\n        console.log(\"Starting quiz generation request\");\n        const formData = await req.formData();\n        const files = formData.getAll(\"files\");\n        const notes = formData.get(\"notes\");\n        const totalQuizQuestions = formData.get(\"quizCount\");\n        const difficulty = formData.get(\"difficulty\");\n        const topic = formData.get(\"topic\");\n        console.log(\"Form data received:\", {\n            filesCount: files.length,\n            hasNotes: !!notes,\n            totalQuizQuestions,\n            difficulty,\n            topic\n        });\n        if (files.length < 1 && !notes) {\n            return new next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse(\"Please provide either a file or notes\", {\n                status: 400\n            });\n        }\n        const text1 = {\n            text: `You are an all-rounder tutor with professional expertise in different fields. You are to generate a list of quiz questions from the document(s) with a difficutly of ${difficulty || \"Easy\"}.`\n        };\n        const text2 = {\n            text: `You response should be in JSON as an array of the object below. Respond with ${totalQuizQuestions || 5} different questions.\n  {\n   \\\"id\\\": 1,\n   \\\"question\\\": \\\"\\\",\n   \\\"description\\\": \\\"\\\",\n   \\\"options\\\": {\n     \\\"a\\\": \\\"\\\",\n     \\\"b\\\": \\\"\\\",\n     \\\"c\\\": \\\"\\\",\n     \\\"d\\\": \\\"\\\"\n   },\n   \\\"answer\\\": \\\"\\\",\n  }`\n        };\n        const filesBase64 = await Promise.all(files.map(async (file)=>{\n            const arrayBuffer = await file.arrayBuffer();\n            const buffer = Buffer.from(arrayBuffer);\n            // return \"data:\" + file.type + \";base64,\" + buffer.toString(\"base64\");\n            return buffer.toString(\"base64\");\n        }));\n        const filesData = filesBase64.map((b64, i)=>({\n                inlineData: {\n                    mimeType: files[i].type,\n                    data: b64\n                }\n            }));\n        const data = files.length > 0 ? filesData : [\n            {\n                text: notes?.toString() || \"No notes\"\n            }\n        ];\n        const body = {\n            contents: [\n                {\n                    role: \"user\",\n                    parts: [\n                        text1,\n                        ...data,\n                        text2\n                    ]\n                }\n            ]\n        };\n        console.log(\"Sending request to Gemini API\");\n        try {\n            const resp = await generativeModel.generateContentStream(body);\n            console.log(\"Received response from Gemini API\");\n            // Convert the response into a friendly text-stream\n            const stream = iteratorToStream(resp.stream);\n            return new ai__WEBPACK_IMPORTED_MODULE_2__.StreamingTextResponse(stream, {\n                headers: {\n                    \"Content-Type\": \"text/event-stream\",\n                    \"Cache-Control\": \"no-cache\",\n                    Connection: \"keep-alive\",\n                    \"Transfer-Encoding\": \"chunked\"\n                }\n            });\n        } catch (error) {\n            console.error(\"Error generating content from Gemini API:\", error);\n            // Provide more specific error messages based on error type\n            let errorMessage = \"Error generating quizzes, try again!\";\n            let statusCode = 500;\n            if (error instanceof Error) {\n                // Check for permission errors\n                if (error.message.includes(\"PERMISSION_DENIED\") || error.message.includes(\"permission denied\")) {\n                    errorMessage = \"Permission denied accessing Google Cloud project. Please check your API key and project configuration.\";\n                } else if (error.message.includes(\"authentication\") || error.message.includes(\"auth\") || error.message.includes(\"credential\")) {\n                    errorMessage = \"Authentication error with Google Cloud. Please check your API key format and permissions.\";\n                } else if (error.message.includes(\"quota\") || error.message.includes(\"rate limit\")) {\n                    errorMessage = \"API quota exceeded or rate limited. Please try again later.\";\n                }\n            }\n            return new next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse(errorMessage, {\n                status: statusCode\n            });\n        }\n    } catch (error) {\n        console.error(\"Unexpected error in quiz generation:\", error);\n        // Provide more specific error messages for the outer try-catch block\n        let errorMessage = \"Error generating quizzes, try again!\";\n        if (error instanceof Error) {\n            // Check for common error types\n            if (error.message.includes(\"PERMISSION_DENIED\") || error.message.includes(\"permission denied\")) {\n                errorMessage = \"Permission denied accessing Google Cloud project. Please check your API key and project configuration.\";\n            } else if (error.message.includes(\"authentication\") || error.message.includes(\"auth\")) {\n                errorMessage = \"Authentication error with Google Cloud. Please check your API key format.\";\n            } else if (error.message.includes(\"project\")) {\n                errorMessage = \"Error with Google Cloud project configuration. Please check your project settings.\";\n            }\n        }\n        return new next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse(errorMessage, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNNkUsT0FBTyxDQUFDQyxRQUFRLENBQUMsU0FBUztnQkFDckZKLGVBQWU7WUFDakIsT0FBTyxJQUFJMUUsTUFBTTZFLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDLFlBQVk7Z0JBQzVDSixlQUFlO1lBQ2pCO1FBQ0Y7UUFFQSxPQUFPLElBQUl4RixxREFBWUEsQ0FBQ3dGLGNBQWM7WUFDcEN4QixRQUFRO1FBQ1Y7SUFDRjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXVpem5vdGUvLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS9yb3V0ZS50cz85MWRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEhhcm1CbG9ja1RocmVzaG9sZCxcbiAgSGFybUNhdGVnb3J5LFxuICBWZXJ0ZXhBSSxcbn0gZnJvbSBcIkBnb29nbGUtY2xvdWQvdmVydGV4YWlcIjtcbmltcG9ydCB7IFN0cmVhbWluZ1RleHRSZXNwb25zZSB9IGZyb20gXCJhaVwiO1xuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5cbi8vIEFkZCBkZWJ1Z2dpbmcgdG8gY2hlY2sgaWYgdGhlIEFQSSBrZXkgaXMgcHJvcGVybHkgZm9ybWF0dGVkXG5sZXQgY3JlZGVudGlhbHM7XG50cnkge1xuICBjb25zdCBkZWNvZGVkS2V5ID0gQnVmZmVyLmZyb20ocHJvY2Vzcy5lbnYuR09PR0xFX1NFUlZJQ0VfS0VZIHx8IFwiXCIsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKCk7XG4gIGNvbnNvbGUubG9nKFwiRGVjb2RlZCBrZXkgZm9ybWF0IGNoZWNrOlwiLCBkZWNvZGVkS2V5LnN1YnN0cmluZygwLCAyMCkgKyBcIi4uLlwiKTtcbiAgY3JlZGVudGlhbHMgPSBKU09OLnBhcnNlKGRlY29kZWRLZXkpO1xufSBjYXRjaCAoZXJyb3IpIHtcbiAgY29uc29sZS5lcnJvcihcIkVycm9yIHBhcnNpbmcgQVBJIGtleTpcIiwgZXJyb3IpO1xuICAvLyBJZiB0aGUga2V5IGlzIG5vdCBpbiBKU09OIGZvcm1hdCwgaXQgbWlnaHQgYmUgYSBkaXJlY3QgQVBJIGtleVxuICBjcmVkZW50aWFscyA9IHsgYXBpS2V5OiBwcm9jZXNzLmVudi5HT09HTEVfU0VSVklDRV9LRVkgfTtcbn1cblxuLy8gSW5pdGlhbGl6ZSBWZXJ0ZXggd2l0aCB5b3VyIENsb3VkIHByb2plY3QgYW5kIGxvY2F0aW9uXG5jb25zdCB2ZXJ0ZXhfYWkgPSBuZXcgVmVydGV4QUkoe1xuICAvLyBFeHRyYWN0IHByb2plY3QgSUQgZnJvbSBjcmVkZW50aWFscyBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSB1c2UgZmFsbGJhY2tcbiAgcHJvamVjdDogY3JlZGVudGlhbHMucHJvamVjdF9pZCB8fCBcInRvdWdoLXBvZC00NDY1MDItbjFcIiwgLy8gVXNpbmcgcHJvamVjdCBJRCBmcm9tIHRoZSBiYXNlNjQga2V5XG4gIGxvY2F0aW9uOiBcImV1cm9wZS13ZXN0M1wiLFxuICBnb29nbGVBdXRoT3B0aW9uczoge1xuICAgIGNyZWRlbnRpYWxzLFxuICB9LFxufSk7XG5jb25zdCBtb2RlbCA9IFwiZ2VtaW5pLTIuNS1mbGFzaFwiO1xuXG4vLyBJbnN0YW50aWF0ZSB0aGUgbW9kZWxzXG5jb25zdCBnZW5lcmF0aXZlTW9kZWwgPSB2ZXJ0ZXhfYWkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHtcbiAgbW9kZWw6IG1vZGVsLFxuICBnZW5lcmF0aW9uQ29uZmlnOiB7XG4gICAgbWF4T3V0cHV0VG9rZW5zOiA4MTkyLFxuICAgIHRlbXBlcmF0dXJlOiAxLFxuICAgIHRvcFA6IDAuOTUsXG4gIH0sXG4gIHNhZmV0eVNldHRpbmdzOiBbXG4gICAge1xuICAgICAgY2F0ZWdvcnk6IEhhcm1DYXRlZ29yeS5IQVJNX0NBVEVHT1JZX0hBVEVfU1BFRUNILFxuICAgICAgdGhyZXNob2xkOiBIYXJtQmxvY2tUaHJlc2hvbGQuQkxPQ0tfTUVESVVNX0FORF9BQk9WRSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGNhdGVnb3J5OiBIYXJtQ2F0ZWdvcnkuSEFSTV9DQVRFR09SWV9EQU5HRVJPVVNfQ09OVEVOVCxcbiAgICAgIHRocmVzaG9sZDogSGFybUJsb2NrVGhyZXNob2xkLkJMT0NLX01FRElVTV9BTkRfQUJPVkUsXG4gICAgfSxcbiAgICB7XG4gICAgICBjYXRlZ29yeTogSGFybUNhdGVnb3J5LkhBUk1fQ0FURUdPUllfU0VYVUFMTFlfRVhQTElDSVQsXG4gICAgICB0aHJlc2hvbGQ6IEhhcm1CbG9ja1RocmVzaG9sZC5CTE9DS19NRURJVU1fQU5EX0FCT1ZFLFxuICAgIH0sXG4gICAge1xuICAgICAgY2F0ZWdvcnk6IEhhcm1DYXRlZ29yeS5IQVJNX0NBVEVHT1JZX0hBUkFTU01FTlQsXG4gICAgICB0aHJlc2hvbGQ6IEhhcm1CbG9ja1RocmVzaG9sZC5CTE9DS19NRURJVU1fQU5EX0FCT1ZFLFxuICAgIH0sXG4gIF0sXG59KTtcblxuZnVuY3Rpb24gaXRlcmF0b3JUb1N0cmVhbShpdGVyYXRvcjogYW55KSB7XG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgaXRlcmF0b3IubmV4dCgpO1xuXG4gICAgICBpZiAoZG9uZSB8fCAhdmFsdWUpIHtcbiAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHZhbHVlLmNhbmRpZGF0ZXNbMF0uY29udGVudC5wYXJ0c1swXS50ZXh0O1xuXG4gICAgICAgIC8vIGNvbnRyb2xsZXIuZW5xdWV1ZShgZGF0YTogJHtkYXRhfVxcblxcbmApO1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoZGF0YSk7XG4gICAgICB9XG4gICAgfSxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgcXVpeiBnZW5lcmF0aW9uIHJlcXVlc3RcIik7XG4gICAgY29uc3QgZm9ybURhdGEgPSBhd2FpdCByZXEuZm9ybURhdGEoKTtcbiAgICBjb25zdCBmaWxlcyA9IGZvcm1EYXRhLmdldEFsbChcImZpbGVzXCIpIGFzIEZpbGVbXTtcbiAgICBjb25zdCBub3RlcyA9IGZvcm1EYXRhLmdldChcIm5vdGVzXCIpO1xuICAgIGNvbnN0IHRvdGFsUXVpelF1ZXN0aW9ucyA9IGZvcm1EYXRhLmdldChcInF1aXpDb3VudFwiKTtcbiAgICBjb25zdCBkaWZmaWN1bHR5ID0gZm9ybURhdGEuZ2V0KFwiZGlmZmljdWx0eVwiKTtcbiAgICBjb25zdCB0b3BpYyA9IGZvcm1EYXRhLmdldChcInRvcGljXCIpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKFwiRm9ybSBkYXRhIHJlY2VpdmVkOlwiLCB7XG4gICAgICBmaWxlc0NvdW50OiBmaWxlcy5sZW5ndGgsXG4gICAgICBoYXNOb3RlczogISFub3RlcyxcbiAgICAgIHRvdGFsUXVpelF1ZXN0aW9ucyxcbiAgICAgIGRpZmZpY3VsdHksXG4gICAgICB0b3BpY1xuICAgIH0pO1xuXG4gIGlmIChmaWxlcy5sZW5ndGggPCAxICYmICFub3Rlcykge1xuICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKFwiUGxlYXNlIHByb3ZpZGUgZWl0aGVyIGEgZmlsZSBvciBub3Rlc1wiLCB7XG4gICAgICBzdGF0dXM6IDQwMCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHRleHQxID0ge1xuICAgIHRleHQ6IGBZb3UgYXJlIGFuIGFsbC1yb3VuZGVyIHR1dG9yIHdpdGggcHJvZmVzc2lvbmFsIGV4cGVydGlzZSBpbiBkaWZmZXJlbnQgZmllbGRzLiBZb3UgYXJlIHRvIGdlbmVyYXRlIGEgbGlzdCBvZiBxdWl6IHF1ZXN0aW9ucyBmcm9tIHRoZSBkb2N1bWVudChzKSB3aXRoIGEgZGlmZmljdXRseSBvZiAke1xuICAgICAgZGlmZmljdWx0eSB8fCBcIkVhc3lcIlxuICAgIH0uYCxcbiAgfTtcbiAgY29uc3QgdGV4dDIgPSB7XG4gICAgdGV4dDogYFlvdSByZXNwb25zZSBzaG91bGQgYmUgaW4gSlNPTiBhcyBhbiBhcnJheSBvZiB0aGUgb2JqZWN0IGJlbG93LiBSZXNwb25kIHdpdGggJHtcbiAgICAgIHRvdGFsUXVpelF1ZXN0aW9ucyB8fCA1XG4gICAgfSBkaWZmZXJlbnQgcXVlc3Rpb25zLlxuICB7XG4gIMKgXFxcImlkXFxcIjogMSxcbiAgwqBcXFwicXVlc3Rpb25cXFwiOiBcXFwiXFxcIixcbiAgwqBcXFwiZGVzY3JpcHRpb25cXFwiOiBcXFwiXFxcIixcbiAgwqBcXFwib3B0aW9uc1xcXCI6IHtcbiAgwqDCoMKgXFxcImFcXFwiOiBcXFwiXFxcIixcbiAgwqDCoMKgXFxcImJcXFwiOiBcXFwiXFxcIixcbiAgwqDCoMKgXFxcImNcXFwiOiBcXFwiXFxcIixcbiAgwqDCoMKgXFxcImRcXFwiOiBcXFwiXFxcIlxuICDCoH0sXG4gIMKgXFxcImFuc3dlclxcXCI6IFxcXCJcXFwiLFxuICB9YCxcbiAgfTtcblxuICBjb25zdCBmaWxlc0Jhc2U2NCA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgIGZpbGVzLm1hcChhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBmaWxlLmFycmF5QnVmZmVyKCk7XG4gICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlcik7XG4gICAgICAvLyByZXR1cm4gXCJkYXRhOlwiICsgZmlsZS50eXBlICsgXCI7YmFzZTY0LFwiICsgYnVmZmVyLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICAgICAgcmV0dXJuIGJ1ZmZlci50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICB9KVxuICApO1xuXG4gIGNvbnN0IGZpbGVzRGF0YSA9IGZpbGVzQmFzZTY0Lm1hcCgoYjY0LCBpKSA9PiAoe1xuICAgIGlubGluZURhdGE6IHtcbiAgICAgIG1pbWVUeXBlOiBmaWxlc1tpXS50eXBlLFxuICAgICAgZGF0YTogYjY0LFxuICAgIH0sXG4gIH0pKTtcblxuICBjb25zdCBkYXRhID1cbiAgICBmaWxlcy5sZW5ndGggPiAwID8gZmlsZXNEYXRhIDogW3sgdGV4dDogbm90ZXM/LnRvU3RyaW5nKCkgfHwgXCJObyBub3Rlc1wiIH1dO1xuXG4gIGNvbnN0IGJvZHkgPSB7XG4gICAgY29udGVudHM6IFt7IHJvbGU6IFwidXNlclwiLCBwYXJ0czogW3RleHQxLCAuLi5kYXRhLCB0ZXh0Ml0gfV0sXG4gIH07XG5cbiAgY29uc29sZS5sb2coXCJTZW5kaW5nIHJlcXVlc3QgdG8gR2VtaW5pIEFQSVwiKTtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwID0gYXdhaXQgZ2VuZXJhdGl2ZU1vZGVsLmdlbmVyYXRlQ29udGVudFN0cmVhbShib2R5KTtcbiAgICBjb25zb2xlLmxvZyhcIlJlY2VpdmVkIHJlc3BvbnNlIGZyb20gR2VtaW5pIEFQSVwiKTtcblxuICAgIC8vIENvbnZlcnQgdGhlIHJlc3BvbnNlIGludG8gYSBmcmllbmRseSB0ZXh0LXN0cmVhbVxuICAgIGNvbnN0IHN0cmVhbSA9IGl0ZXJhdG9yVG9TdHJlYW0ocmVzcC5zdHJlYW0pO1xuXG4gICAgcmV0dXJuIG5ldyBTdHJlYW1pbmdUZXh0UmVzcG9uc2Uoc3RyZWFtLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwidGV4dC9ldmVudC1zdHJlYW1cIixcbiAgICAgICAgXCJDYWNoZS1Db250cm9sXCI6IFwibm8tY2FjaGVcIixcbiAgICAgICAgQ29ubmVjdGlvbjogXCJrZWVwLWFsaXZlXCIsXG4gICAgICAgIFwiVHJhbnNmZXItRW5jb2RpbmdcIjogXCJjaHVua2VkXCIsXG4gICAgICB9LFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZW5lcmF0aW5nIGNvbnRlbnQgZnJvbSBHZW1pbmkgQVBJOlwiLCBlcnJvcik7XG4gICAgXG4gICAgLy8gUHJvdmlkZSBtb3JlIHNwZWNpZmljIGVycm9yIG1lc3NhZ2VzIGJhc2VkIG9uIGVycm9yIHR5cGVcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gXCJFcnJvciBnZW5lcmF0aW5nIHF1aXp6ZXMsIHRyeSBhZ2FpbiFcIjtcbiAgICBsZXQgc3RhdHVzQ29kZSA9IDUwMDtcbiAgICBcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgLy8gQ2hlY2sgZm9yIHBlcm1pc3Npb24gZXJyb3JzXG4gICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcIlBFUk1JU1NJT05fREVOSUVEXCIpIHx8IGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJwZXJtaXNzaW9uIGRlbmllZFwiKSkge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlBlcm1pc3Npb24gZGVuaWVkIGFjY2Vzc2luZyBHb29nbGUgQ2xvdWQgcHJvamVjdC4gUGxlYXNlIGNoZWNrIHlvdXIgQVBJIGtleSBhbmQgcHJvamVjdCBjb25maWd1cmF0aW9uLlwiO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgZm9yIGF1dGhlbnRpY2F0aW9uIGVycm9yc1xuICAgICAgZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcImF1dGhlbnRpY2F0aW9uXCIpIHx8IGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJhdXRoXCIpIHx8IGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJjcmVkZW50aWFsXCIpKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiQXV0aGVudGljYXRpb24gZXJyb3Igd2l0aCBHb29nbGUgQ2xvdWQuIFBsZWFzZSBjaGVjayB5b3VyIEFQSSBrZXkgZm9ybWF0IGFuZCBwZXJtaXNzaW9ucy5cIjtcbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIGZvciBxdW90YSBlcnJvcnNcbiAgICAgIGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJxdW90YVwiKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKFwicmF0ZSBsaW1pdFwiKSkge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIkFQSSBxdW90YSBleGNlZWRlZCBvciByYXRlIGxpbWl0ZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCI7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKGVycm9yTWVzc2FnZSwge1xuICAgICAgc3RhdHVzOiBzdGF0dXNDb2RlLFxuICAgIH0pO1xuICB9XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBpbiBxdWl6IGdlbmVyYXRpb246XCIsIGVycm9yKTtcbiAgXG4gIC8vIFByb3ZpZGUgbW9yZSBzcGVjaWZpYyBlcnJvciBtZXNzYWdlcyBmb3IgdGhlIG91dGVyIHRyeS1jYXRjaCBibG9ja1xuICBsZXQgZXJyb3JNZXNzYWdlID0gXCJFcnJvciBnZW5lcmF0aW5nIHF1aXp6ZXMsIHRyeSBhZ2FpbiFcIjtcbiAgXG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgLy8gQ2hlY2sgZm9yIGNvbW1vbiBlcnJvciB0eXBlc1xuICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKFwiUEVSTUlTU0lPTl9ERU5JRURcIikgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcInBlcm1pc3Npb24gZGVuaWVkXCIpKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBcIlBlcm1pc3Npb24gZGVuaWVkIGFjY2Vzc2luZyBHb29nbGUgQ2xvdWQgcHJvamVjdC4gUGxlYXNlIGNoZWNrIHlvdXIgQVBJIGtleSBhbmQgcHJvamVjdCBjb25maWd1cmF0aW9uLlwiO1xuICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcImF1dGhlbnRpY2F0aW9uXCIpIHx8IGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJhdXRoXCIpKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBcIkF1dGhlbnRpY2F0aW9uIGVycm9yIHdpdGggR29vZ2xlIENsb3VkLiBQbGVhc2UgY2hlY2sgeW91ciBBUEkga2V5IGZvcm1hdC5cIjtcbiAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJwcm9qZWN0XCIpKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBcIkVycm9yIHdpdGggR29vZ2xlIENsb3VkIHByb2plY3QgY29uZmlndXJhdGlvbi4gUGxlYXNlIGNoZWNrIHlvdXIgcHJvamVjdCBzZXR0aW5ncy5cIjtcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKGVycm9yTWVzc2FnZSwge1xuICAgIHN0YXR1czogNTAwLFxuICB9KTtcbn1cbn1cbiJdLCJuYW1lcyI6WyJIYXJtQmxvY2tUaHJlc2hvbGQiLCJIYXJtQ2F0ZWdvcnkiLCJWZXJ0ZXhBSSIsIlN0cmVhbWluZ1RleHRSZXNwb25zZSIsIk5leHRSZXNwb25zZSIsImNyZWRlbnRpYWxzIiwiZGVjb2RlZEtleSIsIkJ1ZmZlciIsImZyb20iLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX1NFUlZJQ0VfS0VZIiwidG9TdHJpbmciLCJjb25zb2xlIiwibG9nIiwic3Vic3RyaW5nIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJhcGlLZXkiLCJ2ZXJ0ZXhfYWkiLCJwcm9qZWN0IiwicHJvamVjdF9pZCIsImxvY2F0aW9uIiwiZ29vZ2xlQXV0aE9wdGlvbnMiLCJtb2RlbCIsImdlbmVyYXRpdmVNb2RlbCIsImdldEdlbmVyYXRpdmVNb2RlbCIsImdlbmVyYXRpb25Db25maWciLCJtYXhPdXRwdXRUb2tlbnMiLCJ0ZW1wZXJhdHVyZSIsInRvcFAiLCJzYWZldHlTZXR0aW5ncyIsImNhdGVnb3J5IiwiSEFSTV9DQVRFR09SWV9IQVRFX1NQRUVDSCIsInRocmVzaG9sZCIsIkJMT0NLX01FRElVTV9BTkRfQUJPVkUiLCJIQVJNX0NBVEVHT1JZX0RBTkdFUk9VU19DT05URU5UIiwiSEFSTV9DQVRFR09SWV9TRVhVQUxMWV9FWFBMSUNJVCIsIkhBUk1fQ0FURUdPUllfSEFSQVNTTUVOVCIsIml0ZXJhdG9yVG9TdHJlYW0iLCJpdGVyYXRvciIsIlJlYWRhYmxlU3RyZWFtIiwicHVsbCIsImNvbnRyb2xsZXIiLCJ2YWx1ZSIsImRvbmUiLCJuZXh0IiwiY2xvc2UiLCJkYXRhIiwiY2FuZGlkYXRlcyIsImNvbnRlbnQiLCJwYXJ0cyIsInRleHQiLCJlbnF1ZXVlIiwiUE9TVCIsInJlcSIsImZvcm1EYXRhIiwiZmlsZXMiLCJnZXRBbGwiLCJub3RlcyIsImdldCIsInRvdGFsUXVpelF1ZXN0aW9ucyIsImRpZmZpY3VsdHkiLCJ0b3BpYyIsImZpbGVzQ291bnQiLCJsZW5ndGgiLCJoYXNOb3RlcyIsInN0YXR1cyIsInRleHQxIiwidGV4dDIiLCJmaWxlc0Jhc2U2NCIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJmaWxlIiwiYXJyYXlCdWZmZXIiLCJidWZmZXIiLCJmaWxlc0RhdGEiLCJiNjQiLCJpIiwiaW5saW5lRGF0YSIsIm1pbWVUeXBlIiwidHlwZSIsImJvZHkiLCJjb250ZW50cyIsInJvbGUiLCJyZXNwIiwiZ2VuZXJhdGVDb250ZW50U3RyZWFtIiwic3RyZWFtIiwiaGVhZGVycyIsIkNvbm5lY3Rpb24iLCJlcnJvck1lc3NhZ2UiLCJzdGF0dXNDb2RlIiwiRXJyb3IiLCJtZXNzYWdlIiwiaW5jbHVkZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/generate/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod-to-json-schema","vendor-chunks/google-auth-library","vendor-chunks/@google-cloud","vendor-chunks/uuid","vendor-chunks/gaxios","vendor-chunks/whatwg-url","vendor-chunks/jws","vendor-chunks/debug","vendor-chunks/json-bigint","vendor-chunks/eventsource-parser","vendor-chunks/@ai-sdk","vendor-chunks/tr46","vendor-chunks/https-proxy-agent","vendor-chunks/gcp-metadata","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/agent-base","vendor-chunks/zod","vendor-chunks/node-fetch","vendor-chunks/nanoid","vendor-chunks/ai","vendor-chunks/webidl-conversions","vendor-chunks/supports-color","vendor-chunks/secure-json-parse","vendor-chunks/safe-buffer","vendor-chunks/ms","vendor-chunks/jwa","vendor-chunks/is-stream","vendor-chunks/has-flag","vendor-chunks/gtoken","vendor-chunks/extend","vendor-chunks/buffer-equal-constant-time","vendor-chunks/bignumber.js","vendor-chunks/base64-js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5C92324%5CDownloads%5CCompressed%5Cquiznote-main%5Cquiznote-main%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5C92324%5CDownloads%5CCompressed%5Cquiznote-main%5Cquiznote-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();